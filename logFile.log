2024-11-29 13:18:16.120 [DefaultDispatcher-worker-1] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/create
2024-11-29 13:18:16.160 [DefaultDispatcher-worker-1] TRACE i.k.c.p.c.ContentNegotiation - Converted request body using io.ktor.serialization.kotlinx.KotlinxSerializationConverter@33c88fbd for http:///travel/create
2024-11-29 13:18:16.160 [DefaultDispatcher-worker-1] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/create
2024-11-29 13:18:16.161 [DefaultDispatcher-worker-1] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/create from class io.ktor.http.content.TextContent
2024-11-29 13:18:16.227 [DefaultDispatcher-worker-2 @call-context#3] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:18:16.293 [DefaultDispatcher-worker-2 @call-context#3] INFO  io.ktor.test - Application started in 0.089 seconds.
2024-11-29 13:18:16.297 [DefaultDispatcher-worker-1 @coroutine#4] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:18:16.297 [DefaultDispatcher-worker-1 @coroutine#4] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:18:16.340 [DefaultDispatcher-worker-3 @request#3] TRACE io.ktor.server.routing.Routing - Trace for [travel, create]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:2 -> SUCCESS @ /travel/create
      /travel/create/(method:POST), segment:2 -> SUCCESS @ /travel/create/(method:POST)
    /travel/addPassenger, segment:1 -> FAILURE "Selector didn't match" @ /travel/addPassenger
    /travel/swapTravel, segment:1 -> FAILURE "Selector didn't match" @ /travel/swapTravel
Matched routes:
  "" -> "travel" -> "create" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/create/(method:POST)
2024-11-29 13:18:16.359 [DefaultDispatcher-worker-3 @request#3] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.CreateTravelDto) for call /travel/create
2024-11-29 13:18:16.378 [DefaultDispatcher-worker-3 @request#3] INFO  io.ktor.test - Creating travel from usuario@gmail.com
2024-11-29 13:18:16.382 [DefaultDispatcher-worker-3 @request#3] INFO  io.ktor.test - Created travel from usuario@gmail.com
2024-11-29 13:18:16.420 [DefaultDispatcher-worker-4] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/create
2024-11-29 13:18:16.421 [DefaultDispatcher-worker-4] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/create
2024-11-29 13:18:16.435 [DefaultDispatcher-worker-4] TRACE i.k.c.p.c.ContentNegotiation - Response body was converted to class com.sharcar.domain.usecases.model.CreationInscriptionResult for http://localhost/travel/create.
2024-11-29 13:18:16.454 [DefaultDispatcher-worker-4] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/create
2024-11-29 13:18:16.454 [DefaultDispatcher-worker-4] TRACE i.k.c.p.c.ContentNegotiation - Body type class kotlin.String is in ignored types. Skipping ContentNegotiation for http:///travel/create.
2024-11-29 13:18:16.454 [DefaultDispatcher-worker-4] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/create
2024-11-29 13:18:16.455 [DefaultDispatcher-worker-4] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/create from class kotlin.String
2024-11-29 13:18:16.456 [DefaultDispatcher-worker-4 @call-context#15] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:18:16.457 [DefaultDispatcher-worker-4 @call-context#15] INFO  io.ktor.test - Application started in 0.002 seconds.
2024-11-29 13:18:16.457 [DefaultDispatcher-worker-3 @coroutine#16] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:18:16.457 [DefaultDispatcher-worker-3 @coroutine#16] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:18:16.458 [DefaultDispatcher-worker-1 @request#15] TRACE io.ktor.server.routing.Routing - Trace for [travel, create]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:2 -> SUCCESS @ /travel/create
      /travel/create/(method:POST), segment:2 -> SUCCESS @ /travel/create/(method:POST)
    /travel/addPassenger, segment:1 -> FAILURE "Selector didn't match" @ /travel/addPassenger
    /travel/swapTravel, segment:1 -> FAILURE "Selector didn't match" @ /travel/swapTravel
Matched routes:
  "" -> "travel" -> "create" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/create/(method:POST)
2024-11-29 13:18:16.459 [DefaultDispatcher-worker-1 @request#15] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.CreateTravelDto) for call /travel/create
2024-11-29 13:18:16.465 [DefaultDispatcher-worker-1 @request#15] DEBUG io.ktor.test - Unhandled: POST - /travel/create. Exception class io.ktor.server.plugins.BadRequestException: Failed to convert request body to class com.sharcar.api.dto.CreateTravelDto
io.ktor.server.plugins.BadRequestException: Failed to convert request body to class com.sharcar.api.dto.CreateTravelDto
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.convertBody(RequestConverter.kt:69)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.access$convertBody(RequestConverter.kt:1)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invokeSuspend(RequestConverter.kt:40)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invoke(RequestConverter.kt)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invoke(RequestConverter.kt)
	at io.ktor.server.application.OnCallReceiveContext.transformBody(KtorCallContexts.kt:64)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invokeSuspend(RequestConverter.kt:28)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invoke(RequestConverter.kt)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invoke(RequestConverter.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invokeSuspend(PluginBuilder.kt:165)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invokeSuspend(PluginBuilder.kt:109)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invokeSuspend(PluginBuilder.kt:217)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invokeSuspend(PluginBuilder.kt:200)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invoke(PluginBuilder.kt)
	at io.ktor.util.debug.ContextUtilsKt.addToContextInDebugMode(ContextUtils.kt:30)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invokeSuspend(PluginBuilder.kt:196)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invoke(PluginBuilder.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.application.PipelineCall$DefaultImpls.receiveNullable(PipelineCall.kt:92)
	at io.ktor.server.routing.RoutingPipelineCall.receiveNullable(RoutingPipelineCall.kt:20)
	at io.ktor.server.routing.RoutingCall.receiveNullable(RoutingNode.kt:226)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invokeSuspend(TravelApi.kt:54)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invoke(TravelApi.kt)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invoke(TravelApi.kt)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invokeSuspend(RoutingNode.kt:116)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invoke(RoutingNode.kt)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invoke(RoutingNode.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.routing.RoutingRoot.executeResult(RoutingRoot.kt:193)
	at io.ktor.server.routing.RoutingRoot.interceptor(RoutingRoot.kt:66)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invokeSuspend(RoutingRoot.kt:143)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invoke(RoutingRoot.kt)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invoke(RoutingRoot.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invokeSuspend(BaseApplicationEngine.kt:112)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invoke(BaseApplicationEngine.kt)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invoke(BaseApplicationEngine.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.testing.TestApplicationEngine$2.invokeSuspend(TestApplicationEngine.kt:222)
	at io.ktor.server.testing.TestApplicationEngine$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$1.invokeSuspend(TestApplicationEngine.kt:96)
	at io.ktor.server.testing.TestApplicationEngine$1.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$1.invoke(TestApplicationEngine.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invokeSuspend(TestApplicationEngine.kt:221)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invoke(TestApplicationEngine.kt)
	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndispatchedOrReturn(Undispatched.kt:42)
	at kotlinx.coroutines.BuildersKt__Builders_commonKt.withContext(Builders.common.kt:164)
	at kotlinx.coroutines.BuildersKt.withContext(Unknown Source)
	at io.ktor.server.testing.TestApplicationEngine.handleRequest$ktor_server_test_host(TestApplicationEngine.kt:186)
	at io.ktor.server.testing.TestApplicationEngine.handleRequest$ktor_server_test_host$default(TestApplicationEngine.kt:169)
	at io.ktor.server.testing.client.TestHttpClientEngine.runRequest(TestHttpClientEngine.kt:89)
	at io.ktor.server.testing.client.TestHttpClientEngine.execute(TestHttpClientEngine.kt:56)
	at io.ktor.server.testing.client.DelegatingTestClientEngine.execute(DelegatingTestClientEngine.kt:58)
	at io.ktor.server.testing.client.DelegatingTestClientEngine$execute$1.invokeSuspend(DelegatingTestClientEngine.kt)
	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:101)
	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:113)
	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:89)
	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:589)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:823)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:720)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:707)
Caused by: io.ktor.serialization.JsonConvertException: Illegal input: Unexpected JSON token at offset 7: Encountered an unknown key 'id' at path: $
Use 'ignoreUnknownKeys = true' in 'Json {}' builder to ignore unknown keys.
JSON input: {
    "id": 1,
    "date": "2007-12-03T10:15:30",
    "place": "Gasolinera",
    "driverId": 1,
}
	at io.ktor.serialization.kotlinx.KotlinxSerializationConverter.deserialize(KotlinxSerializationConverter.kt:77)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.convertBody(RequestConverter.kt:67)
	... 97 common frames omitted
Caused by: kotlinx.serialization.json.internal.JsonDecodingException: Unexpected JSON token at offset 7: Encountered an unknown key 'id' at path: $
Use 'ignoreUnknownKeys = true' in 'Json {}' builder to ignore unknown keys.
JSON input: {
    "id": 1,
    "date": "2007-12-03T10:15:30",
    "place": "Gasolinera",
    "driverId": 1,
}
	at kotlinx.serialization.json.internal.JsonExceptionsKt.JsonDecodingException(JsonExceptions.kt:24)
	at kotlinx.serialization.json.internal.JsonExceptionsKt.JsonDecodingException(JsonExceptions.kt:32)
	at kotlinx.serialization.json.internal.AbstractJsonLexer.fail(AbstractJsonLexer.kt:580)
	at kotlinx.serialization.json.internal.AbstractJsonLexer.failOnUnknownKey(AbstractJsonLexer.kt:575)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.handleUnknown(StreamingJsonDecoder.kt:257)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeObjectIndex(StreamingJsonDecoder.kt:243)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeElementIndex(StreamingJsonDecoder.kt:178)
	at com.sharcar.api.dto.CreateTravelDto$$serializer.deserialize(CreateTravelDto.kt:5)
	at com.sharcar.api.dto.CreateTravelDto$$serializer.deserialize(CreateTravelDto.kt:5)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeSerializableValue(StreamingJsonDecoder.kt:69)
	at kotlinx.serialization.json.Json.decodeFromString(Json.kt:165)
	at io.ktor.serialization.kotlinx.KotlinxSerializationConverter.deserialize(KotlinxSerializationConverter.kt:69)
	... 98 common frames omitted
2024-11-29 13:18:16.469 [DefaultDispatcher-worker-1 @request#15] TRACE i.k.s.p.c.ContentNegotiation - Skipping response body transformation from HttpStatusCode to OutgoingContent for the POST /travel/create request because the HttpStatusCode type is ignored. See [ContentNegotiationConfig::ignoreType].
2024-11-29 13:18:16.470 [DefaultDispatcher-worker-1] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/create
2024-11-29 13:18:16.470 [DefaultDispatcher-worker-1] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/create
2024-11-29 13:18:16.477 [DefaultDispatcher-worker-1] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/create
2024-11-29 13:18:16.478 [DefaultDispatcher-worker-1] TRACE i.k.c.p.c.ContentNegotiation - Converted request body using io.ktor.serialization.kotlinx.KotlinxSerializationConverter@12d33ef9 for http:///travel/create
2024-11-29 13:18:16.478 [DefaultDispatcher-worker-1] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/create
2024-11-29 13:18:16.478 [DefaultDispatcher-worker-1] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/create from class io.ktor.http.content.TextContent
2024-11-29 13:18:16.479 [DefaultDispatcher-worker-1 @call-context#24] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:18:16.480 [DefaultDispatcher-worker-1 @call-context#24] INFO  io.ktor.test - Application started in 0.001 seconds.
2024-11-29 13:18:16.480 [DefaultDispatcher-worker-6 @coroutine#25] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:18:16.481 [DefaultDispatcher-worker-6 @coroutine#25] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:18:16.481 [DefaultDispatcher-worker-1 @request#24] TRACE io.ktor.server.routing.Routing - Trace for [travel, create]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:2 -> SUCCESS @ /travel/create
      /travel/create/(method:POST), segment:2 -> SUCCESS @ /travel/create/(method:POST)
    /travel/addPassenger, segment:1 -> FAILURE "Selector didn't match" @ /travel/addPassenger
    /travel/swapTravel, segment:1 -> FAILURE "Selector didn't match" @ /travel/swapTravel
Matched routes:
  "" -> "travel" -> "create" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/create/(method:POST)
2024-11-29 13:18:16.482 [DefaultDispatcher-worker-1 @request#24] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.CreateTravelDto) for call /travel/create
2024-11-29 13:18:16.483 [DefaultDispatcher-worker-1 @request#24] INFO  io.ktor.test - Creating travel from usuario@gmail.com
2024-11-29 13:18:16.483 [DefaultDispatcher-worker-1 @request#24] INFO  io.ktor.test - Created travel from usuario@gmail.com
2024-11-29 13:18:16.487 [DefaultDispatcher-worker-4] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/create
2024-11-29 13:18:16.487 [DefaultDispatcher-worker-4] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/create
2024-11-29 13:18:16.488 [DefaultDispatcher-worker-4] TRACE i.k.c.p.c.ContentNegotiation - Response body was converted to class com.sharcar.domain.usecases.model.CreationInscriptionResult for http://localhost/travel/create.
2024-11-29 13:18:16.494 [DefaultDispatcher-worker-4] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/create
2024-11-29 13:18:16.495 [DefaultDispatcher-worker-4] TRACE i.k.c.p.c.ContentNegotiation - Body type class kotlin.String is in ignored types. Skipping ContentNegotiation for http:///travel/create.
2024-11-29 13:18:16.495 [DefaultDispatcher-worker-4] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/create
2024-11-29 13:18:16.495 [DefaultDispatcher-worker-4] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/create from class kotlin.String
2024-11-29 13:18:16.496 [DefaultDispatcher-worker-4 @call-context#36] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:18:16.496 [DefaultDispatcher-worker-4 @call-context#36] INFO  io.ktor.test - Application started in 0.001 seconds.
2024-11-29 13:18:16.497 [DefaultDispatcher-worker-1 @coroutine#37] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:18:16.497 [DefaultDispatcher-worker-1 @coroutine#37] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:18:16.498 [DefaultDispatcher-worker-4 @request#36] TRACE io.ktor.server.routing.Routing - Trace for [travel, create]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:2 -> SUCCESS @ /travel/create
      /travel/create/(method:POST), segment:2 -> SUCCESS @ /travel/create/(method:POST)
    /travel/addPassenger, segment:1 -> FAILURE "Selector didn't match" @ /travel/addPassenger
    /travel/swapTravel, segment:1 -> FAILURE "Selector didn't match" @ /travel/swapTravel
Matched routes:
  "" -> "travel" -> "create" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/create/(method:POST)
2024-11-29 13:18:16.498 [DefaultDispatcher-worker-4 @request#36] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.CreateTravelDto) for call /travel/create
2024-11-29 13:18:16.499 [DefaultDispatcher-worker-4 @request#36] DEBUG io.ktor.test - Unhandled: POST - /travel/create. Exception class io.ktor.server.plugins.BadRequestException: Failed to convert request body to class com.sharcar.api.dto.CreateTravelDto
io.ktor.server.plugins.BadRequestException: Failed to convert request body to class com.sharcar.api.dto.CreateTravelDto
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.convertBody(RequestConverter.kt:69)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.access$convertBody(RequestConverter.kt:1)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invokeSuspend(RequestConverter.kt:40)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invoke(RequestConverter.kt)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invoke(RequestConverter.kt)
	at io.ktor.server.application.OnCallReceiveContext.transformBody(KtorCallContexts.kt:64)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invokeSuspend(RequestConverter.kt:28)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invoke(RequestConverter.kt)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invoke(RequestConverter.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invokeSuspend(PluginBuilder.kt:165)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invokeSuspend(PluginBuilder.kt:109)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invokeSuspend(PluginBuilder.kt:217)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invokeSuspend(PluginBuilder.kt:200)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invoke(PluginBuilder.kt)
	at io.ktor.util.debug.ContextUtilsKt.addToContextInDebugMode(ContextUtils.kt:30)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invokeSuspend(PluginBuilder.kt:196)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invoke(PluginBuilder.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.application.PipelineCall$DefaultImpls.receiveNullable(PipelineCall.kt:92)
	at io.ktor.server.routing.RoutingPipelineCall.receiveNullable(RoutingPipelineCall.kt:20)
	at io.ktor.server.routing.RoutingCall.receiveNullable(RoutingNode.kt:226)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invokeSuspend(TravelApi.kt:54)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invoke(TravelApi.kt)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invoke(TravelApi.kt)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invokeSuspend(RoutingNode.kt:116)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invoke(RoutingNode.kt)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invoke(RoutingNode.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.routing.RoutingRoot.executeResult(RoutingRoot.kt:193)
	at io.ktor.server.routing.RoutingRoot.interceptor(RoutingRoot.kt:66)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invokeSuspend(RoutingRoot.kt:143)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invoke(RoutingRoot.kt)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invoke(RoutingRoot.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invokeSuspend(BaseApplicationEngine.kt:112)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invoke(BaseApplicationEngine.kt)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invoke(BaseApplicationEngine.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.testing.TestApplicationEngine$2.invokeSuspend(TestApplicationEngine.kt:222)
	at io.ktor.server.testing.TestApplicationEngine$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$1.invokeSuspend(TestApplicationEngine.kt:96)
	at io.ktor.server.testing.TestApplicationEngine$1.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$1.invoke(TestApplicationEngine.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invokeSuspend(TestApplicationEngine.kt:221)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invoke(TestApplicationEngine.kt)
	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndispatchedOrReturn(Undispatched.kt:42)
	at kotlinx.coroutines.BuildersKt__Builders_commonKt.withContext(Builders.common.kt:164)
	at kotlinx.coroutines.BuildersKt.withContext(Unknown Source)
	at io.ktor.server.testing.TestApplicationEngine.handleRequest$ktor_server_test_host(TestApplicationEngine.kt:186)
	at io.ktor.server.testing.TestApplicationEngine.handleRequest$ktor_server_test_host$default(TestApplicationEngine.kt:169)
	at io.ktor.server.testing.client.TestHttpClientEngine.runRequest(TestHttpClientEngine.kt:89)
	at io.ktor.server.testing.client.TestHttpClientEngine.execute(TestHttpClientEngine.kt:56)
	at io.ktor.server.testing.client.DelegatingTestClientEngine.execute(DelegatingTestClientEngine.kt:58)
	at io.ktor.server.testing.client.DelegatingTestClientEngine$execute$1.invokeSuspend(DelegatingTestClientEngine.kt)
	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:101)
	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:113)
	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:89)
	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:589)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:823)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:720)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:707)
Caused by: io.ktor.serialization.JsonConvertException: Illegal input: Unexpected JSON token at offset 7: Encountered an unknown key 'id' at path: $
Use 'ignoreUnknownKeys = true' in 'Json {}' builder to ignore unknown keys.
JSON input: {
    "id": 1
}
	at io.ktor.serialization.kotlinx.KotlinxSerializationConverter.deserialize(KotlinxSerializationConverter.kt:77)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.convertBody(RequestConverter.kt:67)
	... 97 common frames omitted
Caused by: kotlinx.serialization.json.internal.JsonDecodingException: Unexpected JSON token at offset 7: Encountered an unknown key 'id' at path: $
Use 'ignoreUnknownKeys = true' in 'Json {}' builder to ignore unknown keys.
JSON input: {
    "id": 1
}
	at kotlinx.serialization.json.internal.JsonExceptionsKt.JsonDecodingException(JsonExceptions.kt:24)
	at kotlinx.serialization.json.internal.JsonExceptionsKt.JsonDecodingException(JsonExceptions.kt:32)
	at kotlinx.serialization.json.internal.AbstractJsonLexer.fail(AbstractJsonLexer.kt:580)
	at kotlinx.serialization.json.internal.AbstractJsonLexer.failOnUnknownKey(AbstractJsonLexer.kt:575)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.handleUnknown(StreamingJsonDecoder.kt:257)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeObjectIndex(StreamingJsonDecoder.kt:243)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeElementIndex(StreamingJsonDecoder.kt:178)
	at com.sharcar.api.dto.CreateTravelDto$$serializer.deserialize(CreateTravelDto.kt:5)
	at com.sharcar.api.dto.CreateTravelDto$$serializer.deserialize(CreateTravelDto.kt:5)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeSerializableValue(StreamingJsonDecoder.kt:69)
	at kotlinx.serialization.json.Json.decodeFromString(Json.kt:165)
	at io.ktor.serialization.kotlinx.KotlinxSerializationConverter.deserialize(KotlinxSerializationConverter.kt:69)
	... 98 common frames omitted
2024-11-29 13:18:16.500 [DefaultDispatcher-worker-4 @request#36] TRACE i.k.s.p.c.ContentNegotiation - Skipping response body transformation from HttpStatusCode to OutgoingContent for the POST /travel/create request because the HttpStatusCode type is ignored. See [ContentNegotiationConfig::ignoreType].
2024-11-29 13:18:16.501 [DefaultDispatcher-worker-5] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/create
2024-11-29 13:18:16.501 [DefaultDispatcher-worker-5] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/create
2024-11-29 13:18:16.513 [DefaultDispatcher-worker-5] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/swapTravel
2024-11-29 13:18:16.515 [DefaultDispatcher-worker-5] TRACE i.k.c.p.c.ContentNegotiation - Converted request body using io.ktor.serialization.kotlinx.KotlinxSerializationConverter@399c41ad for http:///travel/swapTravel
2024-11-29 13:18:16.515 [DefaultDispatcher-worker-5] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/swapTravel
2024-11-29 13:18:16.515 [DefaultDispatcher-worker-5] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/swapTravel from class io.ktor.http.content.TextContent
2024-11-29 13:18:16.517 [DefaultDispatcher-worker-5 @call-context#45] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:18:16.518 [DefaultDispatcher-worker-5 @call-context#45] INFO  io.ktor.test - Application started in 0.002 seconds.
2024-11-29 13:18:16.519 [DefaultDispatcher-worker-6 @coroutine#46] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:18:16.519 [DefaultDispatcher-worker-6 @coroutine#46] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:18:16.520 [DefaultDispatcher-worker-5 @request#45] TRACE io.ktor.server.routing.Routing - Trace for [travel, swapTravel]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:1 -> FAILURE "Selector didn't match" @ /travel/create
    /travel/addPassenger, segment:1 -> FAILURE "Selector didn't match" @ /travel/addPassenger
    /travel/swapTravel, segment:2 -> SUCCESS @ /travel/swapTravel
      /travel/swapTravel/(method:POST), segment:2 -> SUCCESS @ /travel/swapTravel/(method:POST)
Matched routes:
  "" -> "travel" -> "swapTravel" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/swapTravel/(method:POST)
2024-11-29 13:18:16.520 [DefaultDispatcher-worker-5 @request#45] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.SwapTravelDto) for call /travel/swapTravel
2024-11-29 13:18:16.523 [DefaultDispatcher-worker-5 @request#45] INFO  io.ktor.test - Swapping travel 2 to 1
2024-11-29 13:18:16.526 [DefaultDispatcher-worker-5 @request#45] INFO  io.ktor.test - Swapping travel 2 to 1 was false
2024-11-29 13:18:16.531 [DefaultDispatcher-worker-1] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/swapTravel
2024-11-29 13:18:16.531 [DefaultDispatcher-worker-1] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/swapTravel
2024-11-29 13:18:16.532 [DefaultDispatcher-worker-1] TRACE i.k.c.p.c.ContentNegotiation - Response body was converted to class com.sharcar.domain.usecases.model.SwapTravelToNewOneResult for http://localhost/travel/swapTravel.
2024-11-29 13:18:16.544 [DefaultDispatcher-worker-1] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/addPassenger
2024-11-29 13:18:16.545 [DefaultDispatcher-worker-1] TRACE i.k.c.p.c.ContentNegotiation - Converted request body using io.ktor.serialization.kotlinx.KotlinxSerializationConverter@4662d2a1 for http:///travel/addPassenger
2024-11-29 13:18:16.546 [DefaultDispatcher-worker-1] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/addPassenger
2024-11-29 13:18:16.546 [DefaultDispatcher-worker-1] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/addPassenger from class io.ktor.http.content.TextContent
2024-11-29 13:18:16.547 [DefaultDispatcher-worker-1 @call-context#57] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:18:16.548 [DefaultDispatcher-worker-1 @call-context#57] INFO  io.ktor.test - Application started in 0.002 seconds.
2024-11-29 13:18:16.548 [DefaultDispatcher-worker-6 @coroutine#58] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:18:16.548 [DefaultDispatcher-worker-6 @coroutine#58] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:18:16.549 [DefaultDispatcher-worker-1 @request#57] TRACE io.ktor.server.routing.Routing - Trace for [travel, addPassenger]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:1 -> FAILURE "Selector didn't match" @ /travel/create
    /travel/addPassenger, segment:2 -> SUCCESS @ /travel/addPassenger
      /travel/addPassenger/(method:POST), segment:2 -> SUCCESS @ /travel/addPassenger/(method:POST)
    /travel/swapTravel, segment:1 -> FAILURE "Selector didn't match" @ /travel/swapTravel
Matched routes:
  "" -> "travel" -> "addPassenger" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/addPassenger/(method:POST)
2024-11-29 13:18:16.550 [DefaultDispatcher-worker-1 @request#57] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.AddPassengerDto) for call /travel/addPassenger
2024-11-29 13:18:16.553 [DefaultDispatcher-worker-1 @request#57] INFO  io.ktor.test - Adding passenger prueba@gmail.com to travel 1
2024-11-29 13:18:16.554 [DefaultDispatcher-worker-1 @request#57] INFO  io.ktor.test - Adding passenger prueba@gmail.com was false
2024-11-29 13:18:16.558 [DefaultDispatcher-worker-4] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/addPassenger
2024-11-29 13:18:16.558 [DefaultDispatcher-worker-4] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/addPassenger
2024-11-29 13:18:16.559 [DefaultDispatcher-worker-4] TRACE i.k.c.p.c.ContentNegotiation - Response body was converted to class com.sharcar.domain.usecases.model.AddPassengerResult for http://localhost/travel/addPassenger.
2024-11-29 13:18:16.568 [DefaultDispatcher-worker-4] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/addPassenger
2024-11-29 13:18:16.569 [DefaultDispatcher-worker-4] TRACE i.k.c.p.c.ContentNegotiation - Converted request body using io.ktor.serialization.kotlinx.KotlinxSerializationConverter@4b1ed824 for http:///travel/addPassenger
2024-11-29 13:18:16.569 [DefaultDispatcher-worker-4] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/addPassenger
2024-11-29 13:18:16.569 [DefaultDispatcher-worker-4] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/addPassenger from class io.ktor.http.content.TextContent
2024-11-29 13:18:16.570 [DefaultDispatcher-worker-4 @call-context#69] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:18:16.570 [DefaultDispatcher-worker-4 @call-context#69] INFO  io.ktor.test - Application started in 0.001 seconds.
2024-11-29 13:18:16.571 [DefaultDispatcher-worker-3 @coroutine#70] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:18:16.571 [DefaultDispatcher-worker-3 @coroutine#70] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:18:16.571 [DefaultDispatcher-worker-4 @request#69] TRACE io.ktor.server.routing.Routing - Trace for [travel, addPassenger]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:1 -> FAILURE "Selector didn't match" @ /travel/create
    /travel/addPassenger, segment:2 -> SUCCESS @ /travel/addPassenger
      /travel/addPassenger/(method:POST), segment:2 -> SUCCESS @ /travel/addPassenger/(method:POST)
    /travel/swapTravel, segment:1 -> FAILURE "Selector didn't match" @ /travel/swapTravel
Matched routes:
  "" -> "travel" -> "addPassenger" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/addPassenger/(method:POST)
2024-11-29 13:18:16.572 [DefaultDispatcher-worker-4 @request#69] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.AddPassengerDto) for call /travel/addPassenger
2024-11-29 13:18:16.572 [DefaultDispatcher-worker-4 @request#69] INFO  io.ktor.test - Adding passenger prueba@gmail.com to travel 1
2024-11-29 13:18:16.573 [DefaultDispatcher-worker-4 @request#69] INFO  io.ktor.test - Adding passenger prueba@gmail.com was true
2024-11-29 13:18:16.575 [DefaultDispatcher-worker-5] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/addPassenger
2024-11-29 13:18:16.576 [DefaultDispatcher-worker-5] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/addPassenger
2024-11-29 13:18:16.576 [DefaultDispatcher-worker-5] TRACE i.k.c.p.c.ContentNegotiation - Response body was converted to class com.sharcar.domain.usecases.model.AddPassengerResult for http://localhost/travel/addPassenger.
2024-11-29 13:18:16.583 [DefaultDispatcher-worker-5] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/create
2024-11-29 13:18:16.583 [DefaultDispatcher-worker-5] TRACE i.k.c.p.c.ContentNegotiation - Body type class kotlin.String is in ignored types. Skipping ContentNegotiation for http:///travel/create.
2024-11-29 13:18:16.583 [DefaultDispatcher-worker-5] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/create
2024-11-29 13:18:16.583 [DefaultDispatcher-worker-5] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/create from class kotlin.String
2024-11-29 13:18:16.585 [DefaultDispatcher-worker-5 @call-context#81] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:18:16.586 [DefaultDispatcher-worker-5 @call-context#81] INFO  io.ktor.test - Application started in 0.002 seconds.
2024-11-29 13:18:16.586 [DefaultDispatcher-worker-6 @coroutine#82] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:18:16.587 [DefaultDispatcher-worker-6 @coroutine#82] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:18:16.587 [DefaultDispatcher-worker-5 @request#81] TRACE io.ktor.server.routing.Routing - Trace for [travel, create]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:2 -> SUCCESS @ /travel/create
      /travel/create/(method:POST), segment:2 -> SUCCESS @ /travel/create/(method:POST)
    /travel/addPassenger, segment:1 -> FAILURE "Selector didn't match" @ /travel/addPassenger
    /travel/swapTravel, segment:1 -> FAILURE "Selector didn't match" @ /travel/swapTravel
Matched routes:
  "" -> "travel" -> "create" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/create/(method:POST)
2024-11-29 13:18:16.588 [DefaultDispatcher-worker-5 @request#81] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.CreateTravelDto) for call /travel/create
2024-11-29 13:18:16.589 [DefaultDispatcher-worker-5 @request#81] DEBUG io.ktor.test - Unhandled: POST - /travel/create. Exception class io.ktor.server.plugins.BadRequestException: Failed to convert request body to class com.sharcar.api.dto.CreateTravelDto
io.ktor.server.plugins.BadRequestException: Failed to convert request body to class com.sharcar.api.dto.CreateTravelDto
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.convertBody(RequestConverter.kt:69)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.access$convertBody(RequestConverter.kt:1)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invokeSuspend(RequestConverter.kt:40)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invoke(RequestConverter.kt)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invoke(RequestConverter.kt)
	at io.ktor.server.application.OnCallReceiveContext.transformBody(KtorCallContexts.kt:64)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invokeSuspend(RequestConverter.kt:28)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invoke(RequestConverter.kt)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invoke(RequestConverter.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invokeSuspend(PluginBuilder.kt:165)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invokeSuspend(PluginBuilder.kt:109)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invokeSuspend(PluginBuilder.kt:217)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invokeSuspend(PluginBuilder.kt:200)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invoke(PluginBuilder.kt)
	at io.ktor.util.debug.ContextUtilsKt.addToContextInDebugMode(ContextUtils.kt:30)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invokeSuspend(PluginBuilder.kt:196)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invoke(PluginBuilder.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.application.PipelineCall$DefaultImpls.receiveNullable(PipelineCall.kt:92)
	at io.ktor.server.routing.RoutingPipelineCall.receiveNullable(RoutingPipelineCall.kt:20)
	at io.ktor.server.routing.RoutingCall.receiveNullable(RoutingNode.kt:226)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invokeSuspend(TravelApi.kt:54)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invoke(TravelApi.kt)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invoke(TravelApi.kt)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invokeSuspend(RoutingNode.kt:116)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invoke(RoutingNode.kt)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invoke(RoutingNode.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.routing.RoutingRoot.executeResult(RoutingRoot.kt:193)
	at io.ktor.server.routing.RoutingRoot.interceptor(RoutingRoot.kt:66)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invokeSuspend(RoutingRoot.kt:143)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invoke(RoutingRoot.kt)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invoke(RoutingRoot.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invokeSuspend(BaseApplicationEngine.kt:112)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invoke(BaseApplicationEngine.kt)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invoke(BaseApplicationEngine.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.testing.TestApplicationEngine$2.invokeSuspend(TestApplicationEngine.kt:222)
	at io.ktor.server.testing.TestApplicationEngine$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$1.invokeSuspend(TestApplicationEngine.kt:96)
	at io.ktor.server.testing.TestApplicationEngine$1.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$1.invoke(TestApplicationEngine.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invokeSuspend(TestApplicationEngine.kt:221)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invoke(TestApplicationEngine.kt)
	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndispatchedOrReturn(Undispatched.kt:42)
	at kotlinx.coroutines.BuildersKt__Builders_commonKt.withContext(Builders.common.kt:164)
	at kotlinx.coroutines.BuildersKt.withContext(Unknown Source)
	at io.ktor.server.testing.TestApplicationEngine.handleRequest$ktor_server_test_host(TestApplicationEngine.kt:186)
	at io.ktor.server.testing.TestApplicationEngine.handleRequest$ktor_server_test_host$default(TestApplicationEngine.kt:169)
	at io.ktor.server.testing.client.TestHttpClientEngine.runRequest(TestHttpClientEngine.kt:89)
	at io.ktor.server.testing.client.TestHttpClientEngine.execute(TestHttpClientEngine.kt:56)
	at io.ktor.server.testing.client.DelegatingTestClientEngine.execute(DelegatingTestClientEngine.kt:58)
	at io.ktor.server.testing.client.DelegatingTestClientEngine$execute$1.invokeSuspend(DelegatingTestClientEngine.kt)
	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:101)
	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:113)
	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:89)
	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:589)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:823)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:720)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:707)
Caused by: io.ktor.serialization.JsonConvertException: Illegal input: Unexpected JSON token at offset 7: Encountered an unknown key 'id' at path: $
Use 'ignoreUnknownKeys = true' in 'Json {}' builder to ignore unknown keys.
JSON input: {
    "id": 1
}
	at io.ktor.serialization.kotlinx.KotlinxSerializationConverter.deserialize(KotlinxSerializationConverter.kt:77)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.convertBody(RequestConverter.kt:67)
	... 97 common frames omitted
Caused by: kotlinx.serialization.json.internal.JsonDecodingException: Unexpected JSON token at offset 7: Encountered an unknown key 'id' at path: $
Use 'ignoreUnknownKeys = true' in 'Json {}' builder to ignore unknown keys.
JSON input: {
    "id": 1
}
	at kotlinx.serialization.json.internal.JsonExceptionsKt.JsonDecodingException(JsonExceptions.kt:24)
	at kotlinx.serialization.json.internal.JsonExceptionsKt.JsonDecodingException(JsonExceptions.kt:32)
	at kotlinx.serialization.json.internal.AbstractJsonLexer.fail(AbstractJsonLexer.kt:580)
	at kotlinx.serialization.json.internal.AbstractJsonLexer.failOnUnknownKey(AbstractJsonLexer.kt:575)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.handleUnknown(StreamingJsonDecoder.kt:257)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeObjectIndex(StreamingJsonDecoder.kt:243)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeElementIndex(StreamingJsonDecoder.kt:178)
	at com.sharcar.api.dto.CreateTravelDto$$serializer.deserialize(CreateTravelDto.kt:5)
	at com.sharcar.api.dto.CreateTravelDto$$serializer.deserialize(CreateTravelDto.kt:5)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeSerializableValue(StreamingJsonDecoder.kt:69)
	at kotlinx.serialization.json.Json.decodeFromString(Json.kt:165)
	at io.ktor.serialization.kotlinx.KotlinxSerializationConverter.deserialize(KotlinxSerializationConverter.kt:69)
	... 98 common frames omitted
2024-11-29 13:18:16.589 [DefaultDispatcher-worker-5 @request#81] TRACE i.k.s.p.c.ContentNegotiation - Skipping response body transformation from HttpStatusCode to OutgoingContent for the POST /travel/create request because the HttpStatusCode type is ignored. See [ContentNegotiationConfig::ignoreType].
2024-11-29 13:18:16.590 [DefaultDispatcher-worker-6] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/create
2024-11-29 13:18:16.590 [DefaultDispatcher-worker-6] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/create
2024-11-29 13:18:16.599 [DefaultDispatcher-worker-6] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/swapTravel
2024-11-29 13:18:16.599 [DefaultDispatcher-worker-6] TRACE i.k.c.p.c.ContentNegotiation - Converted request body using io.ktor.serialization.kotlinx.KotlinxSerializationConverter@1ec11f18 for http:///travel/swapTravel
2024-11-29 13:18:16.599 [DefaultDispatcher-worker-6] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/swapTravel
2024-11-29 13:18:16.600 [DefaultDispatcher-worker-6] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/swapTravel from class io.ktor.http.content.TextContent
2024-11-29 13:18:16.601 [DefaultDispatcher-worker-5 @call-context#90] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:18:16.602 [DefaultDispatcher-worker-5 @call-context#90] INFO  io.ktor.test - Application started in 0.002 seconds.
2024-11-29 13:18:16.602 [DefaultDispatcher-worker-4 @coroutine#91] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:18:16.602 [DefaultDispatcher-worker-4 @coroutine#91] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:18:16.603 [DefaultDispatcher-worker-5 @request#90] TRACE io.ktor.server.routing.Routing - Trace for [travel, swapTravel]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:1 -> FAILURE "Selector didn't match" @ /travel/create
    /travel/addPassenger, segment:1 -> FAILURE "Selector didn't match" @ /travel/addPassenger
    /travel/swapTravel, segment:2 -> SUCCESS @ /travel/swapTravel
      /travel/swapTravel/(method:POST), segment:2 -> SUCCESS @ /travel/swapTravel/(method:POST)
Matched routes:
  "" -> "travel" -> "swapTravel" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/swapTravel/(method:POST)
2024-11-29 13:18:16.604 [DefaultDispatcher-worker-5 @request#90] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.SwapTravelDto) for call /travel/swapTravel
2024-11-29 13:18:16.604 [DefaultDispatcher-worker-5 @request#90] INFO  io.ktor.test - Swapping travel 2 to 1
2024-11-29 13:18:16.605 [DefaultDispatcher-worker-5 @request#90] INFO  io.ktor.test - Swapping travel 2 to 1 was true
2024-11-29 13:18:16.607 [DefaultDispatcher-worker-6] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/swapTravel
2024-11-29 13:18:16.607 [DefaultDispatcher-worker-6] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/swapTravel
2024-11-29 13:18:16.608 [DefaultDispatcher-worker-6] TRACE i.k.c.p.c.ContentNegotiation - Response body was converted to class com.sharcar.domain.usecases.model.SwapTravelToNewOneResult for http://localhost/travel/swapTravel.
2024-11-29 13:23:30.617 [DefaultDispatcher-worker-1] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/create
2024-11-29 13:23:30.660 [DefaultDispatcher-worker-1] TRACE i.k.c.p.c.ContentNegotiation - Converted request body using io.ktor.serialization.kotlinx.KotlinxSerializationConverter@4bcfbcfe for http:///travel/create
2024-11-29 13:23:30.661 [DefaultDispatcher-worker-1] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/create
2024-11-29 13:23:30.661 [DefaultDispatcher-worker-1] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/create from class io.ktor.http.content.TextContent
2024-11-29 13:23:30.716 [DefaultDispatcher-worker-2 @call-context#3] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:23:30.762 [DefaultDispatcher-worker-2 @call-context#3] INFO  io.ktor.test - Application started in 0.061 seconds.
2024-11-29 13:23:30.765 [DefaultDispatcher-worker-1 @coroutine#4] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:23:30.765 [DefaultDispatcher-worker-1 @coroutine#4] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:23:30.801 [DefaultDispatcher-worker-2 @request#3] TRACE io.ktor.server.routing.Routing - Trace for [travel, create]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:2 -> SUCCESS @ /travel/create
      /travel/create/(method:POST), segment:2 -> SUCCESS @ /travel/create/(method:POST)
    /travel/addPassenger, segment:1 -> FAILURE "Selector didn't match" @ /travel/addPassenger
    /travel/swapTravel, segment:1 -> FAILURE "Selector didn't match" @ /travel/swapTravel
Matched routes:
  "" -> "travel" -> "create" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/create/(method:POST)
2024-11-29 13:23:30.815 [DefaultDispatcher-worker-2 @request#3] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.CreateTravelDto) for call /travel/create
2024-11-29 13:23:30.832 [DefaultDispatcher-worker-2 @request#3] INFO  io.ktor.test - Creating travel from usuario@gmail.com
2024-11-29 13:23:30.835 [DefaultDispatcher-worker-2 @request#3] INFO  io.ktor.test - Created travel from usuario@gmail.com
2024-11-29 13:23:30.874 [DefaultDispatcher-worker-2] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/create
2024-11-29 13:23:30.874 [DefaultDispatcher-worker-2] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/create
2024-11-29 13:23:30.889 [DefaultDispatcher-worker-2] TRACE i.k.c.p.c.ContentNegotiation - Response body was converted to class com.sharcar.domain.usecases.model.CreationInscriptionResult for http://localhost/travel/create.
2024-11-29 13:23:30.910 [DefaultDispatcher-worker-2] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/create
2024-11-29 13:23:30.910 [DefaultDispatcher-worker-2] TRACE i.k.c.p.c.ContentNegotiation - Body type class kotlin.String is in ignored types. Skipping ContentNegotiation for http:///travel/create.
2024-11-29 13:23:30.910 [DefaultDispatcher-worker-2] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/create
2024-11-29 13:23:30.911 [DefaultDispatcher-worker-2] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/create from class kotlin.String
2024-11-29 13:23:30.912 [DefaultDispatcher-worker-2 @call-context#15] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:23:30.913 [DefaultDispatcher-worker-2 @call-context#15] INFO  io.ktor.test - Application started in 0.002 seconds.
2024-11-29 13:23:30.913 [DefaultDispatcher-worker-3 @coroutine#16] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:23:30.913 [DefaultDispatcher-worker-3 @coroutine#16] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:23:30.914 [DefaultDispatcher-worker-2 @request#15] TRACE io.ktor.server.routing.Routing - Trace for [travel, create]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:2 -> SUCCESS @ /travel/create
      /travel/create/(method:POST), segment:2 -> SUCCESS @ /travel/create/(method:POST)
    /travel/addPassenger, segment:1 -> FAILURE "Selector didn't match" @ /travel/addPassenger
    /travel/swapTravel, segment:1 -> FAILURE "Selector didn't match" @ /travel/swapTravel
Matched routes:
  "" -> "travel" -> "create" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/create/(method:POST)
2024-11-29 13:23:30.914 [DefaultDispatcher-worker-2 @request#15] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.CreateTravelDto) for call /travel/create
2024-11-29 13:23:30.921 [DefaultDispatcher-worker-2 @request#15] DEBUG io.ktor.test - Unhandled: POST - /travel/create. Exception class io.ktor.server.plugins.BadRequestException: Failed to convert request body to class com.sharcar.api.dto.CreateTravelDto
io.ktor.server.plugins.BadRequestException: Failed to convert request body to class com.sharcar.api.dto.CreateTravelDto
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.convertBody(RequestConverter.kt:69)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.access$convertBody(RequestConverter.kt:1)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invokeSuspend(RequestConverter.kt:40)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invoke(RequestConverter.kt)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invoke(RequestConverter.kt)
	at io.ktor.server.application.OnCallReceiveContext.transformBody(KtorCallContexts.kt:64)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invokeSuspend(RequestConverter.kt:28)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invoke(RequestConverter.kt)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invoke(RequestConverter.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invokeSuspend(PluginBuilder.kt:165)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invokeSuspend(PluginBuilder.kt:109)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invokeSuspend(PluginBuilder.kt:217)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invokeSuspend(PluginBuilder.kt:200)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invoke(PluginBuilder.kt)
	at io.ktor.util.debug.ContextUtilsKt.addToContextInDebugMode(ContextUtils.kt:30)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invokeSuspend(PluginBuilder.kt:196)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invoke(PluginBuilder.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.application.PipelineCall$DefaultImpls.receiveNullable(PipelineCall.kt:92)
	at io.ktor.server.routing.RoutingPipelineCall.receiveNullable(RoutingPipelineCall.kt:20)
	at io.ktor.server.routing.RoutingCall.receiveNullable(RoutingNode.kt:226)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invokeSuspend(TravelApi.kt:54)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invoke(TravelApi.kt)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invoke(TravelApi.kt)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invokeSuspend(RoutingNode.kt:116)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invoke(RoutingNode.kt)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invoke(RoutingNode.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.routing.RoutingRoot.executeResult(RoutingRoot.kt:193)
	at io.ktor.server.routing.RoutingRoot.interceptor(RoutingRoot.kt:66)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invokeSuspend(RoutingRoot.kt:143)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invoke(RoutingRoot.kt)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invoke(RoutingRoot.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invokeSuspend(BaseApplicationEngine.kt:112)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invoke(BaseApplicationEngine.kt)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invoke(BaseApplicationEngine.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.testing.TestApplicationEngine$2.invokeSuspend(TestApplicationEngine.kt:222)
	at io.ktor.server.testing.TestApplicationEngine$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$1.invokeSuspend(TestApplicationEngine.kt:96)
	at io.ktor.server.testing.TestApplicationEngine$1.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$1.invoke(TestApplicationEngine.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invokeSuspend(TestApplicationEngine.kt:221)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invoke(TestApplicationEngine.kt)
	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndispatchedOrReturn(Undispatched.kt:42)
	at kotlinx.coroutines.BuildersKt__Builders_commonKt.withContext(Builders.common.kt:164)
	at kotlinx.coroutines.BuildersKt.withContext(Unknown Source)
	at io.ktor.server.testing.TestApplicationEngine.handleRequest$ktor_server_test_host(TestApplicationEngine.kt:186)
	at io.ktor.server.testing.TestApplicationEngine.handleRequest$ktor_server_test_host$default(TestApplicationEngine.kt:169)
	at io.ktor.server.testing.client.TestHttpClientEngine.runRequest(TestHttpClientEngine.kt:89)
	at io.ktor.server.testing.client.TestHttpClientEngine.execute(TestHttpClientEngine.kt:56)
	at io.ktor.server.testing.client.DelegatingTestClientEngine.execute(DelegatingTestClientEngine.kt:58)
	at io.ktor.server.testing.client.DelegatingTestClientEngine$execute$1.invokeSuspend(DelegatingTestClientEngine.kt)
	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:101)
	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:113)
	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:89)
	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:589)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:823)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:720)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:707)
Caused by: io.ktor.serialization.JsonConvertException: Illegal input: Unexpected JSON token at offset 7: Encountered an unknown key 'id' at path: $
Use 'ignoreUnknownKeys = true' in 'Json {}' builder to ignore unknown keys.
JSON input: {
    "id": 1,
    "date": "2007-12-03T10:15:30",
    "place": "Gasolinera",
    "driverId": 1,
}
	at io.ktor.serialization.kotlinx.KotlinxSerializationConverter.deserialize(KotlinxSerializationConverter.kt:77)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.convertBody(RequestConverter.kt:67)
	... 97 common frames omitted
Caused by: kotlinx.serialization.json.internal.JsonDecodingException: Unexpected JSON token at offset 7: Encountered an unknown key 'id' at path: $
Use 'ignoreUnknownKeys = true' in 'Json {}' builder to ignore unknown keys.
JSON input: {
    "id": 1,
    "date": "2007-12-03T10:15:30",
    "place": "Gasolinera",
    "driverId": 1,
}
	at kotlinx.serialization.json.internal.JsonExceptionsKt.JsonDecodingException(JsonExceptions.kt:24)
	at kotlinx.serialization.json.internal.JsonExceptionsKt.JsonDecodingException(JsonExceptions.kt:32)
	at kotlinx.serialization.json.internal.AbstractJsonLexer.fail(AbstractJsonLexer.kt:580)
	at kotlinx.serialization.json.internal.AbstractJsonLexer.failOnUnknownKey(AbstractJsonLexer.kt:575)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.handleUnknown(StreamingJsonDecoder.kt:257)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeObjectIndex(StreamingJsonDecoder.kt:243)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeElementIndex(StreamingJsonDecoder.kt:178)
	at com.sharcar.api.dto.CreateTravelDto$$serializer.deserialize(CreateTravelDto.kt:5)
	at com.sharcar.api.dto.CreateTravelDto$$serializer.deserialize(CreateTravelDto.kt:5)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeSerializableValue(StreamingJsonDecoder.kt:69)
	at kotlinx.serialization.json.Json.decodeFromString(Json.kt:165)
	at io.ktor.serialization.kotlinx.KotlinxSerializationConverter.deserialize(KotlinxSerializationConverter.kt:69)
	... 98 common frames omitted
2024-11-29 13:23:30.924 [DefaultDispatcher-worker-2 @request#15] TRACE i.k.s.p.c.ContentNegotiation - Skipping response body transformation from HttpStatusCode to OutgoingContent for the POST /travel/create request because the HttpStatusCode type is ignored. See [ContentNegotiationConfig::ignoreType].
2024-11-29 13:23:30.925 [DefaultDispatcher-worker-2] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/create
2024-11-29 13:23:30.925 [DefaultDispatcher-worker-2] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/create
2024-11-29 13:23:30.933 [DefaultDispatcher-worker-2] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/create
2024-11-29 13:23:30.933 [DefaultDispatcher-worker-2] TRACE i.k.c.p.c.ContentNegotiation - Converted request body using io.ktor.serialization.kotlinx.KotlinxSerializationConverter@6c2b6b58 for http:///travel/create
2024-11-29 13:23:30.933 [DefaultDispatcher-worker-2] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/create
2024-11-29 13:23:30.933 [DefaultDispatcher-worker-2] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/create from class io.ktor.http.content.TextContent
2024-11-29 13:23:30.934 [DefaultDispatcher-worker-2 @call-context#24] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:23:30.935 [DefaultDispatcher-worker-2 @call-context#24] INFO  io.ktor.test - Application started in 0.001 seconds.
2024-11-29 13:23:30.935 [DefaultDispatcher-worker-5 @coroutine#25] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:23:30.935 [DefaultDispatcher-worker-5 @coroutine#25] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:23:30.936 [DefaultDispatcher-worker-2 @request#24] TRACE io.ktor.server.routing.Routing - Trace for [travel, create]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:2 -> SUCCESS @ /travel/create
      /travel/create/(method:POST), segment:2 -> SUCCESS @ /travel/create/(method:POST)
    /travel/addPassenger, segment:1 -> FAILURE "Selector didn't match" @ /travel/addPassenger
    /travel/swapTravel, segment:1 -> FAILURE "Selector didn't match" @ /travel/swapTravel
Matched routes:
  "" -> "travel" -> "create" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/create/(method:POST)
2024-11-29 13:23:30.937 [DefaultDispatcher-worker-2 @request#24] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.CreateTravelDto) for call /travel/create
2024-11-29 13:23:30.937 [DefaultDispatcher-worker-2 @request#24] INFO  io.ktor.test - Creating travel from usuario@gmail.com
2024-11-29 13:23:30.938 [DefaultDispatcher-worker-2 @request#24] INFO  io.ktor.test - Created travel from usuario@gmail.com
2024-11-29 13:23:30.940 [DefaultDispatcher-worker-3] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/create
2024-11-29 13:23:30.940 [DefaultDispatcher-worker-3] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/create
2024-11-29 13:23:30.941 [DefaultDispatcher-worker-3] TRACE i.k.c.p.c.ContentNegotiation - Response body was converted to class com.sharcar.domain.usecases.model.CreationInscriptionResult for http://localhost/travel/create.
2024-11-29 13:23:30.948 [DefaultDispatcher-worker-3] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/create
2024-11-29 13:23:30.948 [DefaultDispatcher-worker-3] TRACE i.k.c.p.c.ContentNegotiation - Body type class kotlin.String is in ignored types. Skipping ContentNegotiation for http:///travel/create.
2024-11-29 13:23:30.948 [DefaultDispatcher-worker-3] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/create
2024-11-29 13:23:30.949 [DefaultDispatcher-worker-3] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/create from class kotlin.String
2024-11-29 13:23:30.950 [DefaultDispatcher-worker-3 @call-context#36] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:23:30.951 [DefaultDispatcher-worker-3 @call-context#36] INFO  io.ktor.test - Application started in 0.002 seconds.
2024-11-29 13:23:30.951 [DefaultDispatcher-worker-4 @coroutine#37] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:23:30.951 [DefaultDispatcher-worker-4 @coroutine#37] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:23:30.952 [DefaultDispatcher-worker-4 @request#36] TRACE io.ktor.server.routing.Routing - Trace for [travel, create]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:2 -> SUCCESS @ /travel/create
      /travel/create/(method:POST), segment:2 -> SUCCESS @ /travel/create/(method:POST)
    /travel/addPassenger, segment:1 -> FAILURE "Selector didn't match" @ /travel/addPassenger
    /travel/swapTravel, segment:1 -> FAILURE "Selector didn't match" @ /travel/swapTravel
Matched routes:
  "" -> "travel" -> "create" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/create/(method:POST)
2024-11-29 13:23:30.952 [DefaultDispatcher-worker-4 @request#36] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.CreateTravelDto) for call /travel/create
2024-11-29 13:23:30.953 [DefaultDispatcher-worker-4 @request#36] DEBUG io.ktor.test - Unhandled: POST - /travel/create. Exception class io.ktor.server.plugins.BadRequestException: Failed to convert request body to class com.sharcar.api.dto.CreateTravelDto
io.ktor.server.plugins.BadRequestException: Failed to convert request body to class com.sharcar.api.dto.CreateTravelDto
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.convertBody(RequestConverter.kt:69)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.access$convertBody(RequestConverter.kt:1)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invokeSuspend(RequestConverter.kt:40)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invoke(RequestConverter.kt)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invoke(RequestConverter.kt)
	at io.ktor.server.application.OnCallReceiveContext.transformBody(KtorCallContexts.kt:64)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invokeSuspend(RequestConverter.kt:28)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invoke(RequestConverter.kt)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invoke(RequestConverter.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invokeSuspend(PluginBuilder.kt:165)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invokeSuspend(PluginBuilder.kt:109)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invokeSuspend(PluginBuilder.kt:217)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invokeSuspend(PluginBuilder.kt:200)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invoke(PluginBuilder.kt)
	at io.ktor.util.debug.ContextUtilsKt.addToContextInDebugMode(ContextUtils.kt:30)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invokeSuspend(PluginBuilder.kt:196)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invoke(PluginBuilder.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.application.PipelineCall$DefaultImpls.receiveNullable(PipelineCall.kt:92)
	at io.ktor.server.routing.RoutingPipelineCall.receiveNullable(RoutingPipelineCall.kt:20)
	at io.ktor.server.routing.RoutingCall.receiveNullable(RoutingNode.kt:226)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invokeSuspend(TravelApi.kt:54)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invoke(TravelApi.kt)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invoke(TravelApi.kt)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invokeSuspend(RoutingNode.kt:116)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invoke(RoutingNode.kt)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invoke(RoutingNode.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.routing.RoutingRoot.executeResult(RoutingRoot.kt:193)
	at io.ktor.server.routing.RoutingRoot.interceptor(RoutingRoot.kt:66)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invokeSuspend(RoutingRoot.kt:143)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invoke(RoutingRoot.kt)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invoke(RoutingRoot.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invokeSuspend(BaseApplicationEngine.kt:112)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invoke(BaseApplicationEngine.kt)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invoke(BaseApplicationEngine.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.testing.TestApplicationEngine$2.invokeSuspend(TestApplicationEngine.kt:222)
	at io.ktor.server.testing.TestApplicationEngine$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$1.invokeSuspend(TestApplicationEngine.kt:96)
	at io.ktor.server.testing.TestApplicationEngine$1.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$1.invoke(TestApplicationEngine.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invokeSuspend(TestApplicationEngine.kt:221)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invoke(TestApplicationEngine.kt)
	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndispatchedOrReturn(Undispatched.kt:42)
	at kotlinx.coroutines.BuildersKt__Builders_commonKt.withContext(Builders.common.kt:164)
	at kotlinx.coroutines.BuildersKt.withContext(Unknown Source)
	at io.ktor.server.testing.TestApplicationEngine.handleRequest$ktor_server_test_host(TestApplicationEngine.kt:186)
	at io.ktor.server.testing.TestApplicationEngine.handleRequest$ktor_server_test_host$default(TestApplicationEngine.kt:169)
	at io.ktor.server.testing.client.TestHttpClientEngine.runRequest(TestHttpClientEngine.kt:89)
	at io.ktor.server.testing.client.TestHttpClientEngine.execute(TestHttpClientEngine.kt:56)
	at io.ktor.server.testing.client.DelegatingTestClientEngine.execute(DelegatingTestClientEngine.kt:58)
	at io.ktor.server.testing.client.DelegatingTestClientEngine$execute$1.invokeSuspend(DelegatingTestClientEngine.kt)
	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:101)
	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:113)
	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:89)
	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:589)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:823)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:720)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:707)
Caused by: io.ktor.serialization.JsonConvertException: Illegal input: Unexpected JSON token at offset 7: Encountered an unknown key 'id' at path: $
Use 'ignoreUnknownKeys = true' in 'Json {}' builder to ignore unknown keys.
JSON input: {
    "id": 1
}
	at io.ktor.serialization.kotlinx.KotlinxSerializationConverter.deserialize(KotlinxSerializationConverter.kt:77)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.convertBody(RequestConverter.kt:67)
	... 97 common frames omitted
Caused by: kotlinx.serialization.json.internal.JsonDecodingException: Unexpected JSON token at offset 7: Encountered an unknown key 'id' at path: $
Use 'ignoreUnknownKeys = true' in 'Json {}' builder to ignore unknown keys.
JSON input: {
    "id": 1
}
	at kotlinx.serialization.json.internal.JsonExceptionsKt.JsonDecodingException(JsonExceptions.kt:24)
	at kotlinx.serialization.json.internal.JsonExceptionsKt.JsonDecodingException(JsonExceptions.kt:32)
	at kotlinx.serialization.json.internal.AbstractJsonLexer.fail(AbstractJsonLexer.kt:580)
	at kotlinx.serialization.json.internal.AbstractJsonLexer.failOnUnknownKey(AbstractJsonLexer.kt:575)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.handleUnknown(StreamingJsonDecoder.kt:257)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeObjectIndex(StreamingJsonDecoder.kt:243)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeElementIndex(StreamingJsonDecoder.kt:178)
	at com.sharcar.api.dto.CreateTravelDto$$serializer.deserialize(CreateTravelDto.kt:5)
	at com.sharcar.api.dto.CreateTravelDto$$serializer.deserialize(CreateTravelDto.kt:5)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeSerializableValue(StreamingJsonDecoder.kt:69)
	at kotlinx.serialization.json.Json.decodeFromString(Json.kt:165)
	at io.ktor.serialization.kotlinx.KotlinxSerializationConverter.deserialize(KotlinxSerializationConverter.kt:69)
	... 98 common frames omitted
2024-11-29 13:23:30.954 [DefaultDispatcher-worker-4 @request#36] TRACE i.k.s.p.c.ContentNegotiation - Skipping response body transformation from HttpStatusCode to OutgoingContent for the POST /travel/create request because the HttpStatusCode type is ignored. See [ContentNegotiationConfig::ignoreType].
2024-11-29 13:23:30.954 [DefaultDispatcher-worker-4] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/create
2024-11-29 13:23:30.954 [DefaultDispatcher-worker-4] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/create
2024-11-29 13:23:30.966 [DefaultDispatcher-worker-4] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/swapTravel
2024-11-29 13:23:30.968 [DefaultDispatcher-worker-4] TRACE i.k.c.p.c.ContentNegotiation - Converted request body using io.ktor.serialization.kotlinx.KotlinxSerializationConverter@79019c84 for http:///travel/swapTravel
2024-11-29 13:23:30.968 [DefaultDispatcher-worker-4] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/swapTravel
2024-11-29 13:23:30.968 [DefaultDispatcher-worker-4] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/swapTravel from class io.ktor.http.content.TextContent
2024-11-29 13:23:30.969 [DefaultDispatcher-worker-4 @call-context#45] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:23:30.970 [DefaultDispatcher-worker-4 @call-context#45] INFO  io.ktor.test - Application started in 0.001 seconds.
2024-11-29 13:23:30.970 [DefaultDispatcher-worker-5 @coroutine#46] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:23:30.970 [DefaultDispatcher-worker-5 @coroutine#46] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:23:30.971 [DefaultDispatcher-worker-4 @request#45] TRACE io.ktor.server.routing.Routing - Trace for [travel, swapTravel]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:1 -> FAILURE "Selector didn't match" @ /travel/create
    /travel/addPassenger, segment:1 -> FAILURE "Selector didn't match" @ /travel/addPassenger
    /travel/swapTravel, segment:2 -> SUCCESS @ /travel/swapTravel
      /travel/swapTravel/(method:POST), segment:2 -> SUCCESS @ /travel/swapTravel/(method:POST)
Matched routes:
  "" -> "travel" -> "swapTravel" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/swapTravel/(method:POST)
2024-11-29 13:23:30.972 [DefaultDispatcher-worker-4 @request#45] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.SwapTravelDto) for call /travel/swapTravel
2024-11-29 13:23:30.975 [DefaultDispatcher-worker-4 @request#45] INFO  io.ktor.test - Swapping travel 2 to 1
2024-11-29 13:23:30.978 [DefaultDispatcher-worker-4 @request#45] INFO  io.ktor.test - Swapping travel 2 to 1 was false
2024-11-29 13:23:30.982 [DefaultDispatcher-worker-1] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/swapTravel
2024-11-29 13:23:30.982 [DefaultDispatcher-worker-1] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/swapTravel
2024-11-29 13:23:30.983 [DefaultDispatcher-worker-1] TRACE i.k.c.p.c.ContentNegotiation - Response body was converted to class com.sharcar.domain.usecases.model.SwapTravelToNewOneResult for http://localhost/travel/swapTravel.
2024-11-29 13:23:30.994 [DefaultDispatcher-worker-1] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/addPassenger
2024-11-29 13:23:30.996 [DefaultDispatcher-worker-1] TRACE i.k.c.p.c.ContentNegotiation - Converted request body using io.ktor.serialization.kotlinx.KotlinxSerializationConverter@5138ca7d for http:///travel/addPassenger
2024-11-29 13:23:30.996 [DefaultDispatcher-worker-1] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/addPassenger
2024-11-29 13:23:30.996 [DefaultDispatcher-worker-1] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/addPassenger from class io.ktor.http.content.TextContent
2024-11-29 13:23:30.997 [DefaultDispatcher-worker-1 @call-context#57] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:23:30.998 [DefaultDispatcher-worker-1 @call-context#57] INFO  io.ktor.test - Application started in 0.001 seconds.
2024-11-29 13:23:30.998 [DefaultDispatcher-worker-6 @coroutine#58] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:23:30.998 [DefaultDispatcher-worker-6 @coroutine#58] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:23:30.999 [DefaultDispatcher-worker-1 @request#57] TRACE io.ktor.server.routing.Routing - Trace for [travel, addPassenger]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:1 -> FAILURE "Selector didn't match" @ /travel/create
    /travel/addPassenger, segment:2 -> SUCCESS @ /travel/addPassenger
      /travel/addPassenger/(method:POST), segment:2 -> SUCCESS @ /travel/addPassenger/(method:POST)
    /travel/swapTravel, segment:1 -> FAILURE "Selector didn't match" @ /travel/swapTravel
Matched routes:
  "" -> "travel" -> "addPassenger" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/addPassenger/(method:POST)
2024-11-29 13:23:31.000 [DefaultDispatcher-worker-1 @request#57] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.AddPassengerDto) for call /travel/addPassenger
2024-11-29 13:23:31.002 [DefaultDispatcher-worker-1 @request#57] INFO  io.ktor.test - Adding passenger prueba@gmail.com to travel 1
2024-11-29 13:23:31.003 [DefaultDispatcher-worker-1 @request#57] INFO  io.ktor.test - Adding passenger prueba@gmail.com was false
2024-11-29 13:23:31.007 [DefaultDispatcher-worker-1] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/addPassenger
2024-11-29 13:23:31.007 [DefaultDispatcher-worker-1] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/addPassenger
2024-11-29 13:23:31.007 [DefaultDispatcher-worker-1] TRACE i.k.c.p.c.ContentNegotiation - Response body was converted to class com.sharcar.domain.usecases.model.AddPassengerResult for http://localhost/travel/addPassenger.
2024-11-29 13:23:31.013 [DefaultDispatcher-worker-1] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/addPassenger
2024-11-29 13:23:31.014 [DefaultDispatcher-worker-1] TRACE i.k.c.p.c.ContentNegotiation - Converted request body using io.ktor.serialization.kotlinx.KotlinxSerializationConverter@727f6252 for http:///travel/addPassenger
2024-11-29 13:23:31.014 [DefaultDispatcher-worker-1] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/addPassenger
2024-11-29 13:23:31.014 [DefaultDispatcher-worker-1] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/addPassenger from class io.ktor.http.content.TextContent
2024-11-29 13:23:31.015 [DefaultDispatcher-worker-1 @call-context#69] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:23:31.016 [DefaultDispatcher-worker-1 @call-context#69] INFO  io.ktor.test - Application started in 0.001 seconds.
2024-11-29 13:23:31.016 [DefaultDispatcher-worker-2 @coroutine#70] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:23:31.016 [DefaultDispatcher-worker-2 @coroutine#70] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:23:31.017 [DefaultDispatcher-worker-1 @request#69] TRACE io.ktor.server.routing.Routing - Trace for [travel, addPassenger]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:1 -> FAILURE "Selector didn't match" @ /travel/create
    /travel/addPassenger, segment:2 -> SUCCESS @ /travel/addPassenger
      /travel/addPassenger/(method:POST), segment:2 -> SUCCESS @ /travel/addPassenger/(method:POST)
    /travel/swapTravel, segment:1 -> FAILURE "Selector didn't match" @ /travel/swapTravel
Matched routes:
  "" -> "travel" -> "addPassenger" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/addPassenger/(method:POST)
2024-11-29 13:23:31.017 [DefaultDispatcher-worker-1 @request#69] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.AddPassengerDto) for call /travel/addPassenger
2024-11-29 13:23:31.018 [DefaultDispatcher-worker-1 @request#69] INFO  io.ktor.test - Adding passenger prueba@gmail.com to travel 1
2024-11-29 13:23:31.018 [DefaultDispatcher-worker-1 @request#69] INFO  io.ktor.test - Adding passenger prueba@gmail.com was true
2024-11-29 13:23:31.020 [DefaultDispatcher-worker-2] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/addPassenger
2024-11-29 13:23:31.020 [DefaultDispatcher-worker-2] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/addPassenger
2024-11-29 13:23:31.020 [DefaultDispatcher-worker-2] TRACE i.k.c.p.c.ContentNegotiation - Response body was converted to class com.sharcar.domain.usecases.model.AddPassengerResult for http://localhost/travel/addPassenger.
2024-11-29 13:23:31.026 [DefaultDispatcher-worker-2] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/create
2024-11-29 13:23:31.026 [DefaultDispatcher-worker-2] TRACE i.k.c.p.c.ContentNegotiation - Body type class kotlin.String is in ignored types. Skipping ContentNegotiation for http:///travel/create.
2024-11-29 13:23:31.026 [DefaultDispatcher-worker-2] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/create
2024-11-29 13:23:31.027 [DefaultDispatcher-worker-2] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/create from class kotlin.String
2024-11-29 13:23:31.027 [DefaultDispatcher-worker-2 @call-context#81] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:23:31.028 [DefaultDispatcher-worker-2 @call-context#81] INFO  io.ktor.test - Application started in 0.001 seconds.
2024-11-29 13:23:31.029 [DefaultDispatcher-worker-5 @coroutine#82] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:23:31.029 [DefaultDispatcher-worker-5 @coroutine#82] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:23:31.030 [DefaultDispatcher-worker-2 @request#81] TRACE io.ktor.server.routing.Routing - Trace for [travel, create]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:2 -> SUCCESS @ /travel/create
      /travel/create/(method:POST), segment:2 -> SUCCESS @ /travel/create/(method:POST)
    /travel/addPassenger, segment:1 -> FAILURE "Selector didn't match" @ /travel/addPassenger
    /travel/swapTravel, segment:1 -> FAILURE "Selector didn't match" @ /travel/swapTravel
Matched routes:
  "" -> "travel" -> "create" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/create/(method:POST)
2024-11-29 13:23:31.030 [DefaultDispatcher-worker-2 @request#81] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.CreateTravelDto) for call /travel/create
2024-11-29 13:23:31.030 [DefaultDispatcher-worker-2 @request#81] DEBUG io.ktor.test - Unhandled: POST - /travel/create. Exception class io.ktor.server.plugins.BadRequestException: Failed to convert request body to class com.sharcar.api.dto.CreateTravelDto
io.ktor.server.plugins.BadRequestException: Failed to convert request body to class com.sharcar.api.dto.CreateTravelDto
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.convertBody(RequestConverter.kt:69)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.access$convertBody(RequestConverter.kt:1)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invokeSuspend(RequestConverter.kt:40)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invoke(RequestConverter.kt)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invoke(RequestConverter.kt)
	at io.ktor.server.application.OnCallReceiveContext.transformBody(KtorCallContexts.kt:64)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invokeSuspend(RequestConverter.kt:28)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invoke(RequestConverter.kt)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invoke(RequestConverter.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invokeSuspend(PluginBuilder.kt:165)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invokeSuspend(PluginBuilder.kt:109)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invokeSuspend(PluginBuilder.kt:217)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invokeSuspend(PluginBuilder.kt:200)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invoke(PluginBuilder.kt)
	at io.ktor.util.debug.ContextUtilsKt.addToContextInDebugMode(ContextUtils.kt:30)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invokeSuspend(PluginBuilder.kt:196)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invoke(PluginBuilder.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.application.PipelineCall$DefaultImpls.receiveNullable(PipelineCall.kt:92)
	at io.ktor.server.routing.RoutingPipelineCall.receiveNullable(RoutingPipelineCall.kt:20)
	at io.ktor.server.routing.RoutingCall.receiveNullable(RoutingNode.kt:226)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invokeSuspend(TravelApi.kt:54)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invoke(TravelApi.kt)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invoke(TravelApi.kt)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invokeSuspend(RoutingNode.kt:116)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invoke(RoutingNode.kt)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invoke(RoutingNode.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.routing.RoutingRoot.executeResult(RoutingRoot.kt:193)
	at io.ktor.server.routing.RoutingRoot.interceptor(RoutingRoot.kt:66)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invokeSuspend(RoutingRoot.kt:143)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invoke(RoutingRoot.kt)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invoke(RoutingRoot.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invokeSuspend(BaseApplicationEngine.kt:112)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invoke(BaseApplicationEngine.kt)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invoke(BaseApplicationEngine.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.testing.TestApplicationEngine$2.invokeSuspend(TestApplicationEngine.kt:222)
	at io.ktor.server.testing.TestApplicationEngine$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$1.invokeSuspend(TestApplicationEngine.kt:96)
	at io.ktor.server.testing.TestApplicationEngine$1.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$1.invoke(TestApplicationEngine.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invokeSuspend(TestApplicationEngine.kt:221)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invoke(TestApplicationEngine.kt)
	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndispatchedOrReturn(Undispatched.kt:42)
	at kotlinx.coroutines.BuildersKt__Builders_commonKt.withContext(Builders.common.kt:164)
	at kotlinx.coroutines.BuildersKt.withContext(Unknown Source)
	at io.ktor.server.testing.TestApplicationEngine.handleRequest$ktor_server_test_host(TestApplicationEngine.kt:186)
	at io.ktor.server.testing.TestApplicationEngine.handleRequest$ktor_server_test_host$default(TestApplicationEngine.kt:169)
	at io.ktor.server.testing.client.TestHttpClientEngine.runRequest(TestHttpClientEngine.kt:89)
	at io.ktor.server.testing.client.TestHttpClientEngine.execute(TestHttpClientEngine.kt:56)
	at io.ktor.server.testing.client.DelegatingTestClientEngine.execute(DelegatingTestClientEngine.kt:58)
	at io.ktor.server.testing.client.DelegatingTestClientEngine$execute$1.invokeSuspend(DelegatingTestClientEngine.kt)
	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:101)
	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:113)
	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:89)
	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:589)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:823)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:720)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:707)
Caused by: io.ktor.serialization.JsonConvertException: Illegal input: Unexpected JSON token at offset 7: Encountered an unknown key 'id' at path: $
Use 'ignoreUnknownKeys = true' in 'Json {}' builder to ignore unknown keys.
JSON input: {
    "id": 1
}
	at io.ktor.serialization.kotlinx.KotlinxSerializationConverter.deserialize(KotlinxSerializationConverter.kt:77)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.convertBody(RequestConverter.kt:67)
	... 97 common frames omitted
Caused by: kotlinx.serialization.json.internal.JsonDecodingException: Unexpected JSON token at offset 7: Encountered an unknown key 'id' at path: $
Use 'ignoreUnknownKeys = true' in 'Json {}' builder to ignore unknown keys.
JSON input: {
    "id": 1
}
	at kotlinx.serialization.json.internal.JsonExceptionsKt.JsonDecodingException(JsonExceptions.kt:24)
	at kotlinx.serialization.json.internal.JsonExceptionsKt.JsonDecodingException(JsonExceptions.kt:32)
	at kotlinx.serialization.json.internal.AbstractJsonLexer.fail(AbstractJsonLexer.kt:580)
	at kotlinx.serialization.json.internal.AbstractJsonLexer.failOnUnknownKey(AbstractJsonLexer.kt:575)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.handleUnknown(StreamingJsonDecoder.kt:257)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeObjectIndex(StreamingJsonDecoder.kt:243)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeElementIndex(StreamingJsonDecoder.kt:178)
	at com.sharcar.api.dto.CreateTravelDto$$serializer.deserialize(CreateTravelDto.kt:5)
	at com.sharcar.api.dto.CreateTravelDto$$serializer.deserialize(CreateTravelDto.kt:5)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeSerializableValue(StreamingJsonDecoder.kt:69)
	at kotlinx.serialization.json.Json.decodeFromString(Json.kt:165)
	at io.ktor.serialization.kotlinx.KotlinxSerializationConverter.deserialize(KotlinxSerializationConverter.kt:69)
	... 98 common frames omitted
2024-11-29 13:23:31.031 [DefaultDispatcher-worker-2 @request#81] TRACE i.k.s.p.c.ContentNegotiation - Skipping response body transformation from HttpStatusCode to OutgoingContent for the POST /travel/create request because the HttpStatusCode type is ignored. See [ContentNegotiationConfig::ignoreType].
2024-11-29 13:23:31.032 [DefaultDispatcher-worker-1] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/create
2024-11-29 13:23:31.032 [DefaultDispatcher-worker-1] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/create
2024-11-29 13:23:31.039 [DefaultDispatcher-worker-1] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/swapTravel
2024-11-29 13:23:31.040 [DefaultDispatcher-worker-1] TRACE i.k.c.p.c.ContentNegotiation - Converted request body using io.ktor.serialization.kotlinx.KotlinxSerializationConverter@22aee55c for http:///travel/swapTravel
2024-11-29 13:23:31.040 [DefaultDispatcher-worker-1] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/swapTravel
2024-11-29 13:23:31.040 [DefaultDispatcher-worker-1] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/swapTravel from class io.ktor.http.content.TextContent
2024-11-29 13:23:31.041 [DefaultDispatcher-worker-1 @call-context#90] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:23:31.042 [DefaultDispatcher-worker-1 @call-context#90] INFO  io.ktor.test - Application started in 0.001 seconds.
2024-11-29 13:23:31.042 [DefaultDispatcher-worker-2 @coroutine#91] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:23:31.042 [DefaultDispatcher-worker-2 @coroutine#91] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:23:31.043 [DefaultDispatcher-worker-1 @request#90] TRACE io.ktor.server.routing.Routing - Trace for [travel, swapTravel]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:1 -> FAILURE "Selector didn't match" @ /travel/create
    /travel/addPassenger, segment:1 -> FAILURE "Selector didn't match" @ /travel/addPassenger
    /travel/swapTravel, segment:2 -> SUCCESS @ /travel/swapTravel
      /travel/swapTravel/(method:POST), segment:2 -> SUCCESS @ /travel/swapTravel/(method:POST)
Matched routes:
  "" -> "travel" -> "swapTravel" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/swapTravel/(method:POST)
2024-11-29 13:23:31.043 [DefaultDispatcher-worker-1 @request#90] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.SwapTravelDto) for call /travel/swapTravel
2024-11-29 13:23:31.044 [DefaultDispatcher-worker-1 @request#90] INFO  io.ktor.test - Swapping travel 2 to 1
2024-11-29 13:23:31.044 [DefaultDispatcher-worker-1 @request#90] INFO  io.ktor.test - Swapping travel 2 to 1 was true
2024-11-29 13:23:31.046 [DefaultDispatcher-worker-1] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/swapTravel
2024-11-29 13:23:31.047 [DefaultDispatcher-worker-1] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/swapTravel
2024-11-29 13:23:31.047 [DefaultDispatcher-worker-1] TRACE i.k.c.p.c.ContentNegotiation - Response body was converted to class com.sharcar.domain.usecases.model.SwapTravelToNewOneResult for http://localhost/travel/swapTravel.
2024-11-29 13:24:26.440 [DefaultDispatcher-worker-1] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/create
2024-11-29 13:24:26.469 [DefaultDispatcher-worker-1] TRACE i.k.c.p.c.ContentNegotiation - Converted request body using io.ktor.serialization.kotlinx.KotlinxSerializationConverter@4bcfbcfe for http:///travel/create
2024-11-29 13:24:26.469 [DefaultDispatcher-worker-1] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/create
2024-11-29 13:24:26.469 [DefaultDispatcher-worker-1] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/create from class io.ktor.http.content.TextContent
2024-11-29 13:24:26.527 [DefaultDispatcher-worker-2 @call-context#3] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:24:26.579 [DefaultDispatcher-worker-2 @call-context#3] INFO  io.ktor.test - Application started in 0.067 seconds.
2024-11-29 13:24:26.582 [DefaultDispatcher-worker-1 @coroutine#4] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:24:26.583 [DefaultDispatcher-worker-1 @coroutine#4] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:24:26.631 [DefaultDispatcher-worker-4 @request#3] TRACE io.ktor.server.routing.Routing - Trace for [travel, create]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:2 -> SUCCESS @ /travel/create
      /travel/create/(method:POST), segment:2 -> SUCCESS @ /travel/create/(method:POST)
    /travel/addPassenger, segment:1 -> FAILURE "Selector didn't match" @ /travel/addPassenger
    /travel/swapTravel, segment:1 -> FAILURE "Selector didn't match" @ /travel/swapTravel
Matched routes:
  "" -> "travel" -> "create" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/create/(method:POST)
2024-11-29 13:24:26.661 [DefaultDispatcher-worker-4 @request#3] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.CreateTravelDto) for call /travel/create
2024-11-29 13:24:26.680 [DefaultDispatcher-worker-4 @request#3] INFO  io.ktor.test - Creating travel from usuario@gmail.com
2024-11-29 13:24:26.684 [DefaultDispatcher-worker-4 @request#3] INFO  io.ktor.test - Created travel from usuario@gmail.com
2024-11-29 13:24:26.750 [DefaultDispatcher-worker-2] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/create
2024-11-29 13:24:26.750 [DefaultDispatcher-worker-2] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/create
2024-11-29 13:24:26.771 [DefaultDispatcher-worker-2] TRACE i.k.c.p.c.ContentNegotiation - Response body was converted to class com.sharcar.domain.usecases.model.CreationInscriptionResult for http://localhost/travel/create.
2024-11-29 13:24:26.799 [DefaultDispatcher-worker-2] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/create
2024-11-29 13:24:26.800 [DefaultDispatcher-worker-2] TRACE i.k.c.p.c.ContentNegotiation - Body type class kotlin.String is in ignored types. Skipping ContentNegotiation for http:///travel/create.
2024-11-29 13:24:26.800 [DefaultDispatcher-worker-2] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/create
2024-11-29 13:24:26.801 [DefaultDispatcher-worker-2] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/create from class kotlin.String
2024-11-29 13:24:26.803 [DefaultDispatcher-worker-2 @call-context#15] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:24:26.804 [DefaultDispatcher-worker-2 @call-context#15] INFO  io.ktor.test - Application started in 0.002 seconds.
2024-11-29 13:24:26.804 [DefaultDispatcher-worker-1 @coroutine#16] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:24:26.804 [DefaultDispatcher-worker-1 @coroutine#16] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:24:26.805 [DefaultDispatcher-worker-2 @request#15] TRACE io.ktor.server.routing.Routing - Trace for [travel, create]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:2 -> SUCCESS @ /travel/create
      /travel/create/(method:POST), segment:2 -> SUCCESS @ /travel/create/(method:POST)
    /travel/addPassenger, segment:1 -> FAILURE "Selector didn't match" @ /travel/addPassenger
    /travel/swapTravel, segment:1 -> FAILURE "Selector didn't match" @ /travel/swapTravel
Matched routes:
  "" -> "travel" -> "create" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/create/(method:POST)
2024-11-29 13:24:26.806 [DefaultDispatcher-worker-2 @request#15] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.CreateTravelDto) for call /travel/create
2024-11-29 13:24:26.812 [DefaultDispatcher-worker-2 @request#15] DEBUG io.ktor.test - Unhandled: POST - /travel/create. Exception class io.ktor.server.plugins.BadRequestException: Failed to convert request body to class com.sharcar.api.dto.CreateTravelDto
io.ktor.server.plugins.BadRequestException: Failed to convert request body to class com.sharcar.api.dto.CreateTravelDto
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.convertBody(RequestConverter.kt:69)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.access$convertBody(RequestConverter.kt:1)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invokeSuspend(RequestConverter.kt:40)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invoke(RequestConverter.kt)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invoke(RequestConverter.kt)
	at io.ktor.server.application.OnCallReceiveContext.transformBody(KtorCallContexts.kt:64)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invokeSuspend(RequestConverter.kt:28)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invoke(RequestConverter.kt)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invoke(RequestConverter.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invokeSuspend(PluginBuilder.kt:165)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invokeSuspend(PluginBuilder.kt:109)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invokeSuspend(PluginBuilder.kt:217)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invokeSuspend(PluginBuilder.kt:200)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invoke(PluginBuilder.kt)
	at io.ktor.util.debug.ContextUtilsKt.addToContextInDebugMode(ContextUtils.kt:30)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invokeSuspend(PluginBuilder.kt:196)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invoke(PluginBuilder.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.application.PipelineCall$DefaultImpls.receiveNullable(PipelineCall.kt:92)
	at io.ktor.server.routing.RoutingPipelineCall.receiveNullable(RoutingPipelineCall.kt:20)
	at io.ktor.server.routing.RoutingCall.receiveNullable(RoutingNode.kt:226)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invokeSuspend(TravelApi.kt:54)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invoke(TravelApi.kt)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invoke(TravelApi.kt)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invokeSuspend(RoutingNode.kt:116)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invoke(RoutingNode.kt)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invoke(RoutingNode.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.routing.RoutingRoot.executeResult(RoutingRoot.kt:193)
	at io.ktor.server.routing.RoutingRoot.interceptor(RoutingRoot.kt:66)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invokeSuspend(RoutingRoot.kt:143)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invoke(RoutingRoot.kt)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invoke(RoutingRoot.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invokeSuspend(BaseApplicationEngine.kt:112)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invoke(BaseApplicationEngine.kt)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invoke(BaseApplicationEngine.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.testing.TestApplicationEngine$2.invokeSuspend(TestApplicationEngine.kt:222)
	at io.ktor.server.testing.TestApplicationEngine$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$1.invokeSuspend(TestApplicationEngine.kt:96)
	at io.ktor.server.testing.TestApplicationEngine$1.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$1.invoke(TestApplicationEngine.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invokeSuspend(TestApplicationEngine.kt:221)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invoke(TestApplicationEngine.kt)
	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndispatchedOrReturn(Undispatched.kt:42)
	at kotlinx.coroutines.BuildersKt__Builders_commonKt.withContext(Builders.common.kt:164)
	at kotlinx.coroutines.BuildersKt.withContext(Unknown Source)
	at io.ktor.server.testing.TestApplicationEngine.handleRequest$ktor_server_test_host(TestApplicationEngine.kt:186)
	at io.ktor.server.testing.TestApplicationEngine.handleRequest$ktor_server_test_host$default(TestApplicationEngine.kt:169)
	at io.ktor.server.testing.client.TestHttpClientEngine.runRequest(TestHttpClientEngine.kt:89)
	at io.ktor.server.testing.client.TestHttpClientEngine.execute(TestHttpClientEngine.kt:56)
	at io.ktor.server.testing.client.DelegatingTestClientEngine.execute(DelegatingTestClientEngine.kt:58)
	at io.ktor.server.testing.client.DelegatingTestClientEngine$execute$1.invokeSuspend(DelegatingTestClientEngine.kt)
	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:101)
	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:113)
	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:89)
	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:589)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:823)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:720)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:707)
Caused by: io.ktor.serialization.JsonConvertException: Illegal input: Unexpected JSON token at offset 7: Encountered an unknown key 'id' at path: $
Use 'ignoreUnknownKeys = true' in 'Json {}' builder to ignore unknown keys.
JSON input: {
    "id": 1,
    "date": "2007-12-03T10:15:30",
    "place": "Gasolinera",
    "driverId": 1,
}
	at io.ktor.serialization.kotlinx.KotlinxSerializationConverter.deserialize(KotlinxSerializationConverter.kt:77)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.convertBody(RequestConverter.kt:67)
	... 97 common frames omitted
Caused by: kotlinx.serialization.json.internal.JsonDecodingException: Unexpected JSON token at offset 7: Encountered an unknown key 'id' at path: $
Use 'ignoreUnknownKeys = true' in 'Json {}' builder to ignore unknown keys.
JSON input: {
    "id": 1,
    "date": "2007-12-03T10:15:30",
    "place": "Gasolinera",
    "driverId": 1,
}
	at kotlinx.serialization.json.internal.JsonExceptionsKt.JsonDecodingException(JsonExceptions.kt:24)
	at kotlinx.serialization.json.internal.JsonExceptionsKt.JsonDecodingException(JsonExceptions.kt:32)
	at kotlinx.serialization.json.internal.AbstractJsonLexer.fail(AbstractJsonLexer.kt:580)
	at kotlinx.serialization.json.internal.AbstractJsonLexer.failOnUnknownKey(AbstractJsonLexer.kt:575)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.handleUnknown(StreamingJsonDecoder.kt:257)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeObjectIndex(StreamingJsonDecoder.kt:243)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeElementIndex(StreamingJsonDecoder.kt:178)
	at com.sharcar.api.dto.CreateTravelDto$$serializer.deserialize(CreateTravelDto.kt:5)
	at com.sharcar.api.dto.CreateTravelDto$$serializer.deserialize(CreateTravelDto.kt:5)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeSerializableValue(StreamingJsonDecoder.kt:69)
	at kotlinx.serialization.json.Json.decodeFromString(Json.kt:165)
	at io.ktor.serialization.kotlinx.KotlinxSerializationConverter.deserialize(KotlinxSerializationConverter.kt:69)
	... 98 common frames omitted
2024-11-29 13:24:26.815 [DefaultDispatcher-worker-2 @request#15] TRACE i.k.s.p.c.ContentNegotiation - Skipping response body transformation from HttpStatusCode to OutgoingContent for the POST /travel/create request because the HttpStatusCode type is ignored. See [ContentNegotiationConfig::ignoreType].
2024-11-29 13:24:26.816 [DefaultDispatcher-worker-2] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/create
2024-11-29 13:24:26.817 [DefaultDispatcher-worker-2] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/create
2024-11-29 13:24:26.825 [DefaultDispatcher-worker-2] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/create
2024-11-29 13:24:26.825 [DefaultDispatcher-worker-2] TRACE i.k.c.p.c.ContentNegotiation - Converted request body using io.ktor.serialization.kotlinx.KotlinxSerializationConverter@2c307686 for http:///travel/create
2024-11-29 13:24:26.825 [DefaultDispatcher-worker-2] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/create
2024-11-29 13:24:26.825 [DefaultDispatcher-worker-2] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/create from class io.ktor.http.content.TextContent
2024-11-29 13:24:26.826 [DefaultDispatcher-worker-2 @call-context#24] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:24:26.827 [DefaultDispatcher-worker-2 @call-context#24] INFO  io.ktor.test - Application started in 0.001 seconds.
2024-11-29 13:24:26.827 [DefaultDispatcher-worker-1 @coroutine#25] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:24:26.828 [DefaultDispatcher-worker-1 @coroutine#25] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:24:26.829 [DefaultDispatcher-worker-1 @request#24] TRACE io.ktor.server.routing.Routing - Trace for [travel, create]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:2 -> SUCCESS @ /travel/create
      /travel/create/(method:POST), segment:2 -> SUCCESS @ /travel/create/(method:POST)
    /travel/addPassenger, segment:1 -> FAILURE "Selector didn't match" @ /travel/addPassenger
    /travel/swapTravel, segment:1 -> FAILURE "Selector didn't match" @ /travel/swapTravel
Matched routes:
  "" -> "travel" -> "create" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/create/(method:POST)
2024-11-29 13:24:26.829 [DefaultDispatcher-worker-1 @request#24] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.CreateTravelDto) for call /travel/create
2024-11-29 13:24:26.830 [DefaultDispatcher-worker-1 @request#24] INFO  io.ktor.test - Creating travel from usuario@gmail.com
2024-11-29 13:24:26.830 [DefaultDispatcher-worker-1 @request#24] INFO  io.ktor.test - Created travel from usuario@gmail.com
2024-11-29 13:24:26.832 [DefaultDispatcher-worker-6] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/create
2024-11-29 13:24:26.832 [DefaultDispatcher-worker-6] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/create
2024-11-29 13:24:26.833 [DefaultDispatcher-worker-6] TRACE i.k.c.p.c.ContentNegotiation - Response body was converted to class com.sharcar.domain.usecases.model.CreationInscriptionResult for http://localhost/travel/create.
2024-11-29 13:24:26.839 [DefaultDispatcher-worker-6] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/create
2024-11-29 13:24:26.839 [DefaultDispatcher-worker-6] TRACE i.k.c.p.c.ContentNegotiation - Body type class kotlin.String is in ignored types. Skipping ContentNegotiation for http:///travel/create.
2024-11-29 13:24:26.840 [DefaultDispatcher-worker-6] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/create
2024-11-29 13:24:26.840 [DefaultDispatcher-worker-6] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/create from class kotlin.String
2024-11-29 13:24:26.841 [DefaultDispatcher-worker-6 @call-context#36] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:24:26.842 [DefaultDispatcher-worker-6 @call-context#36] INFO  io.ktor.test - Application started in 0.001 seconds.
2024-11-29 13:24:26.842 [DefaultDispatcher-worker-2 @coroutine#37] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:24:26.842 [DefaultDispatcher-worker-2 @coroutine#37] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:24:26.843 [DefaultDispatcher-worker-6 @request#36] TRACE io.ktor.server.routing.Routing - Trace for [travel, create]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:2 -> SUCCESS @ /travel/create
      /travel/create/(method:POST), segment:2 -> SUCCESS @ /travel/create/(method:POST)
    /travel/addPassenger, segment:1 -> FAILURE "Selector didn't match" @ /travel/addPassenger
    /travel/swapTravel, segment:1 -> FAILURE "Selector didn't match" @ /travel/swapTravel
Matched routes:
  "" -> "travel" -> "create" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/create/(method:POST)
2024-11-29 13:24:26.844 [DefaultDispatcher-worker-6 @request#36] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.CreateTravelDto) for call /travel/create
2024-11-29 13:24:26.844 [DefaultDispatcher-worker-6 @request#36] DEBUG io.ktor.test - Unhandled: POST - /travel/create. Exception class io.ktor.server.plugins.BadRequestException: Failed to convert request body to class com.sharcar.api.dto.CreateTravelDto
io.ktor.server.plugins.BadRequestException: Failed to convert request body to class com.sharcar.api.dto.CreateTravelDto
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.convertBody(RequestConverter.kt:69)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.access$convertBody(RequestConverter.kt:1)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invokeSuspend(RequestConverter.kt:40)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invoke(RequestConverter.kt)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invoke(RequestConverter.kt)
	at io.ktor.server.application.OnCallReceiveContext.transformBody(KtorCallContexts.kt:64)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invokeSuspend(RequestConverter.kt:28)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invoke(RequestConverter.kt)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invoke(RequestConverter.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invokeSuspend(PluginBuilder.kt:165)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invokeSuspend(PluginBuilder.kt:109)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invokeSuspend(PluginBuilder.kt:217)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invokeSuspend(PluginBuilder.kt:200)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invoke(PluginBuilder.kt)
	at io.ktor.util.debug.ContextUtilsKt.addToContextInDebugMode(ContextUtils.kt:30)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invokeSuspend(PluginBuilder.kt:196)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invoke(PluginBuilder.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.application.PipelineCall$DefaultImpls.receiveNullable(PipelineCall.kt:92)
	at io.ktor.server.routing.RoutingPipelineCall.receiveNullable(RoutingPipelineCall.kt:20)
	at io.ktor.server.routing.RoutingCall.receiveNullable(RoutingNode.kt:226)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invokeSuspend(TravelApi.kt:54)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invoke(TravelApi.kt)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invoke(TravelApi.kt)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invokeSuspend(RoutingNode.kt:116)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invoke(RoutingNode.kt)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invoke(RoutingNode.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.routing.RoutingRoot.executeResult(RoutingRoot.kt:193)
	at io.ktor.server.routing.RoutingRoot.interceptor(RoutingRoot.kt:66)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invokeSuspend(RoutingRoot.kt:143)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invoke(RoutingRoot.kt)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invoke(RoutingRoot.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invokeSuspend(BaseApplicationEngine.kt:112)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invoke(BaseApplicationEngine.kt)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invoke(BaseApplicationEngine.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.testing.TestApplicationEngine$2.invokeSuspend(TestApplicationEngine.kt:222)
	at io.ktor.server.testing.TestApplicationEngine$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$1.invokeSuspend(TestApplicationEngine.kt:96)
	at io.ktor.server.testing.TestApplicationEngine$1.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$1.invoke(TestApplicationEngine.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invokeSuspend(TestApplicationEngine.kt:221)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invoke(TestApplicationEngine.kt)
	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndispatchedOrReturn(Undispatched.kt:42)
	at kotlinx.coroutines.BuildersKt__Builders_commonKt.withContext(Builders.common.kt:164)
	at kotlinx.coroutines.BuildersKt.withContext(Unknown Source)
	at io.ktor.server.testing.TestApplicationEngine.handleRequest$ktor_server_test_host(TestApplicationEngine.kt:186)
	at io.ktor.server.testing.TestApplicationEngine.handleRequest$ktor_server_test_host$default(TestApplicationEngine.kt:169)
	at io.ktor.server.testing.client.TestHttpClientEngine.runRequest(TestHttpClientEngine.kt:89)
	at io.ktor.server.testing.client.TestHttpClientEngine.execute(TestHttpClientEngine.kt:56)
	at io.ktor.server.testing.client.DelegatingTestClientEngine.execute(DelegatingTestClientEngine.kt:58)
	at io.ktor.server.testing.client.DelegatingTestClientEngine$execute$1.invokeSuspend(DelegatingTestClientEngine.kt)
	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:101)
	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:113)
	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:89)
	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:589)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:823)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:720)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:707)
Caused by: io.ktor.serialization.JsonConvertException: Illegal input: Unexpected JSON token at offset 7: Encountered an unknown key 'id' at path: $
Use 'ignoreUnknownKeys = true' in 'Json {}' builder to ignore unknown keys.
JSON input: {
    "id": 1
}
	at io.ktor.serialization.kotlinx.KotlinxSerializationConverter.deserialize(KotlinxSerializationConverter.kt:77)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.convertBody(RequestConverter.kt:67)
	... 97 common frames omitted
Caused by: kotlinx.serialization.json.internal.JsonDecodingException: Unexpected JSON token at offset 7: Encountered an unknown key 'id' at path: $
Use 'ignoreUnknownKeys = true' in 'Json {}' builder to ignore unknown keys.
JSON input: {
    "id": 1
}
	at kotlinx.serialization.json.internal.JsonExceptionsKt.JsonDecodingException(JsonExceptions.kt:24)
	at kotlinx.serialization.json.internal.JsonExceptionsKt.JsonDecodingException(JsonExceptions.kt:32)
	at kotlinx.serialization.json.internal.AbstractJsonLexer.fail(AbstractJsonLexer.kt:580)
	at kotlinx.serialization.json.internal.AbstractJsonLexer.failOnUnknownKey(AbstractJsonLexer.kt:575)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.handleUnknown(StreamingJsonDecoder.kt:257)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeObjectIndex(StreamingJsonDecoder.kt:243)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeElementIndex(StreamingJsonDecoder.kt:178)
	at com.sharcar.api.dto.CreateTravelDto$$serializer.deserialize(CreateTravelDto.kt:5)
	at com.sharcar.api.dto.CreateTravelDto$$serializer.deserialize(CreateTravelDto.kt:5)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeSerializableValue(StreamingJsonDecoder.kt:69)
	at kotlinx.serialization.json.Json.decodeFromString(Json.kt:165)
	at io.ktor.serialization.kotlinx.KotlinxSerializationConverter.deserialize(KotlinxSerializationConverter.kt:69)
	... 98 common frames omitted
2024-11-29 13:24:26.845 [DefaultDispatcher-worker-6 @request#36] TRACE i.k.s.p.c.ContentNegotiation - Skipping response body transformation from HttpStatusCode to OutgoingContent for the POST /travel/create request because the HttpStatusCode type is ignored. See [ContentNegotiationConfig::ignoreType].
2024-11-29 13:24:26.846 [DefaultDispatcher-worker-4] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/create
2024-11-29 13:24:26.846 [DefaultDispatcher-worker-4] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/create
2024-11-29 13:24:26.859 [DefaultDispatcher-worker-4] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/swapTravel
2024-11-29 13:24:26.861 [DefaultDispatcher-worker-4] TRACE i.k.c.p.c.ContentNegotiation - Converted request body using io.ktor.serialization.kotlinx.KotlinxSerializationConverter@1807ac62 for http:///travel/swapTravel
2024-11-29 13:24:26.861 [DefaultDispatcher-worker-4] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/swapTravel
2024-11-29 13:24:26.861 [DefaultDispatcher-worker-4] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/swapTravel from class io.ktor.http.content.TextContent
2024-11-29 13:24:26.862 [DefaultDispatcher-worker-4 @call-context#45] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:24:26.863 [DefaultDispatcher-worker-4 @call-context#45] INFO  io.ktor.test - Application started in 0.001 seconds.
2024-11-29 13:24:26.863 [DefaultDispatcher-worker-6 @coroutine#46] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:24:26.863 [DefaultDispatcher-worker-6 @coroutine#46] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:24:26.864 [DefaultDispatcher-worker-4 @request#45] TRACE io.ktor.server.routing.Routing - Trace for [travel, swapTravel]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:1 -> FAILURE "Selector didn't match" @ /travel/create
    /travel/addPassenger, segment:1 -> FAILURE "Selector didn't match" @ /travel/addPassenger
    /travel/swapTravel, segment:2 -> SUCCESS @ /travel/swapTravel
      /travel/swapTravel/(method:POST), segment:2 -> SUCCESS @ /travel/swapTravel/(method:POST)
Matched routes:
  "" -> "travel" -> "swapTravel" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/swapTravel/(method:POST)
2024-11-29 13:24:26.865 [DefaultDispatcher-worker-4 @request#45] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.SwapTravelDto) for call /travel/swapTravel
2024-11-29 13:24:26.868 [DefaultDispatcher-worker-4 @request#45] INFO  io.ktor.test - Swapping travel 2 to 1
2024-11-29 13:24:26.871 [DefaultDispatcher-worker-4 @request#45] INFO  io.ktor.test - Swapping travel 2 to 1 was false
2024-11-29 13:24:26.875 [DefaultDispatcher-worker-6] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/swapTravel
2024-11-29 13:24:26.876 [DefaultDispatcher-worker-6] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/swapTravel
2024-11-29 13:24:26.876 [DefaultDispatcher-worker-6] TRACE i.k.c.p.c.ContentNegotiation - Response body was converted to class com.sharcar.domain.usecases.model.SwapTravelToNewOneResult for http://localhost/travel/swapTravel.
2024-11-29 13:24:26.889 [DefaultDispatcher-worker-6] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/addPassenger
2024-11-29 13:24:26.890 [DefaultDispatcher-worker-6] TRACE i.k.c.p.c.ContentNegotiation - Converted request body using io.ktor.serialization.kotlinx.KotlinxSerializationConverter@738e7f6d for http:///travel/addPassenger
2024-11-29 13:24:26.891 [DefaultDispatcher-worker-6] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/addPassenger
2024-11-29 13:24:26.891 [DefaultDispatcher-worker-6] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/addPassenger from class io.ktor.http.content.TextContent
2024-11-29 13:24:26.892 [DefaultDispatcher-worker-6 @call-context#57] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:24:26.893 [DefaultDispatcher-worker-6 @call-context#57] INFO  io.ktor.test - Application started in 0.001 seconds.
2024-11-29 13:24:26.893 [DefaultDispatcher-worker-1 @coroutine#58] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:24:26.893 [DefaultDispatcher-worker-1 @coroutine#58] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:24:26.894 [DefaultDispatcher-worker-6 @request#57] TRACE io.ktor.server.routing.Routing - Trace for [travel, addPassenger]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:1 -> FAILURE "Selector didn't match" @ /travel/create
    /travel/addPassenger, segment:2 -> SUCCESS @ /travel/addPassenger
      /travel/addPassenger/(method:POST), segment:2 -> SUCCESS @ /travel/addPassenger/(method:POST)
    /travel/swapTravel, segment:1 -> FAILURE "Selector didn't match" @ /travel/swapTravel
Matched routes:
  "" -> "travel" -> "addPassenger" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/addPassenger/(method:POST)
2024-11-29 13:24:26.895 [DefaultDispatcher-worker-6 @request#57] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.AddPassengerDto) for call /travel/addPassenger
2024-11-29 13:24:26.897 [DefaultDispatcher-worker-6 @request#57] INFO  io.ktor.test - Adding passenger prueba@gmail.com to travel 1
2024-11-29 13:24:26.898 [DefaultDispatcher-worker-6 @request#57] INFO  io.ktor.test - Adding passenger prueba@gmail.com was false
2024-11-29 13:24:26.902 [DefaultDispatcher-worker-1] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/addPassenger
2024-11-29 13:24:26.902 [DefaultDispatcher-worker-1] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/addPassenger
2024-11-29 13:24:26.903 [DefaultDispatcher-worker-1] TRACE i.k.c.p.c.ContentNegotiation - Response body was converted to class com.sharcar.domain.usecases.model.AddPassengerResult for http://localhost/travel/addPassenger.
2024-11-29 13:24:26.909 [DefaultDispatcher-worker-1] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/addPassenger
2024-11-29 13:24:26.910 [DefaultDispatcher-worker-1] TRACE i.k.c.p.c.ContentNegotiation - Converted request body using io.ktor.serialization.kotlinx.KotlinxSerializationConverter@2f6824d8 for http:///travel/addPassenger
2024-11-29 13:24:26.910 [DefaultDispatcher-worker-1] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/addPassenger
2024-11-29 13:24:26.910 [DefaultDispatcher-worker-1] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/addPassenger from class io.ktor.http.content.TextContent
2024-11-29 13:24:26.911 [DefaultDispatcher-worker-1 @call-context#69] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:24:26.913 [DefaultDispatcher-worker-1 @call-context#69] INFO  io.ktor.test - Application started in 0.002 seconds.
2024-11-29 13:24:26.913 [DefaultDispatcher-worker-3 @coroutine#70] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:24:26.913 [DefaultDispatcher-worker-3 @coroutine#70] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:24:26.915 [DefaultDispatcher-worker-1 @request#69] TRACE io.ktor.server.routing.Routing - Trace for [travel, addPassenger]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:1 -> FAILURE "Selector didn't match" @ /travel/create
    /travel/addPassenger, segment:2 -> SUCCESS @ /travel/addPassenger
      /travel/addPassenger/(method:POST), segment:2 -> SUCCESS @ /travel/addPassenger/(method:POST)
    /travel/swapTravel, segment:1 -> FAILURE "Selector didn't match" @ /travel/swapTravel
Matched routes:
  "" -> "travel" -> "addPassenger" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/addPassenger/(method:POST)
2024-11-29 13:24:26.915 [DefaultDispatcher-worker-1 @request#69] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.AddPassengerDto) for call /travel/addPassenger
2024-11-29 13:24:26.916 [DefaultDispatcher-worker-1 @request#69] INFO  io.ktor.test - Adding passenger prueba@gmail.com to travel 1
2024-11-29 13:24:26.916 [DefaultDispatcher-worker-1 @request#69] INFO  io.ktor.test - Adding passenger prueba@gmail.com was true
2024-11-29 13:24:26.918 [DefaultDispatcher-worker-4] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/addPassenger
2024-11-29 13:24:26.918 [DefaultDispatcher-worker-4] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/addPassenger
2024-11-29 13:24:26.919 [DefaultDispatcher-worker-4] TRACE i.k.c.p.c.ContentNegotiation - Response body was converted to class com.sharcar.domain.usecases.model.AddPassengerResult for http://localhost/travel/addPassenger.
2024-11-29 13:24:26.925 [DefaultDispatcher-worker-4] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/create
2024-11-29 13:24:26.925 [DefaultDispatcher-worker-4] TRACE i.k.c.p.c.ContentNegotiation - Body type class kotlin.String is in ignored types. Skipping ContentNegotiation for http:///travel/create.
2024-11-29 13:24:26.925 [DefaultDispatcher-worker-4] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/create
2024-11-29 13:24:26.926 [DefaultDispatcher-worker-4] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/create from class kotlin.String
2024-11-29 13:24:26.926 [DefaultDispatcher-worker-4 @call-context#81] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:24:26.927 [DefaultDispatcher-worker-4 @call-context#81] INFO  io.ktor.test - Application started in 0.001 seconds.
2024-11-29 13:24:26.927 [DefaultDispatcher-worker-3 @coroutine#82] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:24:26.927 [DefaultDispatcher-worker-3 @coroutine#82] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:24:26.928 [DefaultDispatcher-worker-4 @request#81] TRACE io.ktor.server.routing.Routing - Trace for [travel, create]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:2 -> SUCCESS @ /travel/create
      /travel/create/(method:POST), segment:2 -> SUCCESS @ /travel/create/(method:POST)
    /travel/addPassenger, segment:1 -> FAILURE "Selector didn't match" @ /travel/addPassenger
    /travel/swapTravel, segment:1 -> FAILURE "Selector didn't match" @ /travel/swapTravel
Matched routes:
  "" -> "travel" -> "create" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/create/(method:POST)
2024-11-29 13:24:26.929 [DefaultDispatcher-worker-4 @request#81] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.CreateTravelDto) for call /travel/create
2024-11-29 13:24:26.929 [DefaultDispatcher-worker-4 @request#81] DEBUG io.ktor.test - Unhandled: POST - /travel/create. Exception class io.ktor.server.plugins.BadRequestException: Failed to convert request body to class com.sharcar.api.dto.CreateTravelDto
io.ktor.server.plugins.BadRequestException: Failed to convert request body to class com.sharcar.api.dto.CreateTravelDto
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.convertBody(RequestConverter.kt:69)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.access$convertBody(RequestConverter.kt:1)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invokeSuspend(RequestConverter.kt:40)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invoke(RequestConverter.kt)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invoke(RequestConverter.kt)
	at io.ktor.server.application.OnCallReceiveContext.transformBody(KtorCallContexts.kt:64)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invokeSuspend(RequestConverter.kt:28)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invoke(RequestConverter.kt)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invoke(RequestConverter.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invokeSuspend(PluginBuilder.kt:165)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invokeSuspend(PluginBuilder.kt:109)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invokeSuspend(PluginBuilder.kt:217)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invokeSuspend(PluginBuilder.kt:200)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invoke(PluginBuilder.kt)
	at io.ktor.util.debug.ContextUtilsKt.addToContextInDebugMode(ContextUtils.kt:30)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invokeSuspend(PluginBuilder.kt:196)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invoke(PluginBuilder.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.application.PipelineCall$DefaultImpls.receiveNullable(PipelineCall.kt:92)
	at io.ktor.server.routing.RoutingPipelineCall.receiveNullable(RoutingPipelineCall.kt:20)
	at io.ktor.server.routing.RoutingCall.receiveNullable(RoutingNode.kt:226)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invokeSuspend(TravelApi.kt:54)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invoke(TravelApi.kt)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invoke(TravelApi.kt)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invokeSuspend(RoutingNode.kt:116)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invoke(RoutingNode.kt)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invoke(RoutingNode.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.routing.RoutingRoot.executeResult(RoutingRoot.kt:193)
	at io.ktor.server.routing.RoutingRoot.interceptor(RoutingRoot.kt:66)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invokeSuspend(RoutingRoot.kt:143)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invoke(RoutingRoot.kt)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invoke(RoutingRoot.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invokeSuspend(BaseApplicationEngine.kt:112)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invoke(BaseApplicationEngine.kt)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invoke(BaseApplicationEngine.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.testing.TestApplicationEngine$2.invokeSuspend(TestApplicationEngine.kt:222)
	at io.ktor.server.testing.TestApplicationEngine$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$1.invokeSuspend(TestApplicationEngine.kt:96)
	at io.ktor.server.testing.TestApplicationEngine$1.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$1.invoke(TestApplicationEngine.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invokeSuspend(TestApplicationEngine.kt:221)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invoke(TestApplicationEngine.kt)
	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndispatchedOrReturn(Undispatched.kt:42)
	at kotlinx.coroutines.BuildersKt__Builders_commonKt.withContext(Builders.common.kt:164)
	at kotlinx.coroutines.BuildersKt.withContext(Unknown Source)
	at io.ktor.server.testing.TestApplicationEngine.handleRequest$ktor_server_test_host(TestApplicationEngine.kt:186)
	at io.ktor.server.testing.TestApplicationEngine.handleRequest$ktor_server_test_host$default(TestApplicationEngine.kt:169)
	at io.ktor.server.testing.client.TestHttpClientEngine.runRequest(TestHttpClientEngine.kt:89)
	at io.ktor.server.testing.client.TestHttpClientEngine.execute(TestHttpClientEngine.kt:56)
	at io.ktor.server.testing.client.DelegatingTestClientEngine.execute(DelegatingTestClientEngine.kt:58)
	at io.ktor.server.testing.client.DelegatingTestClientEngine$execute$1.invokeSuspend(DelegatingTestClientEngine.kt)
	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:101)
	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:113)
	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:89)
	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:589)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:823)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:720)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:707)
Caused by: io.ktor.serialization.JsonConvertException: Illegal input: Unexpected JSON token at offset 7: Encountered an unknown key 'id' at path: $
Use 'ignoreUnknownKeys = true' in 'Json {}' builder to ignore unknown keys.
JSON input: {
    "id": 1
}
	at io.ktor.serialization.kotlinx.KotlinxSerializationConverter.deserialize(KotlinxSerializationConverter.kt:77)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.convertBody(RequestConverter.kt:67)
	... 97 common frames omitted
Caused by: kotlinx.serialization.json.internal.JsonDecodingException: Unexpected JSON token at offset 7: Encountered an unknown key 'id' at path: $
Use 'ignoreUnknownKeys = true' in 'Json {}' builder to ignore unknown keys.
JSON input: {
    "id": 1
}
	at kotlinx.serialization.json.internal.JsonExceptionsKt.JsonDecodingException(JsonExceptions.kt:24)
	at kotlinx.serialization.json.internal.JsonExceptionsKt.JsonDecodingException(JsonExceptions.kt:32)
	at kotlinx.serialization.json.internal.AbstractJsonLexer.fail(AbstractJsonLexer.kt:580)
	at kotlinx.serialization.json.internal.AbstractJsonLexer.failOnUnknownKey(AbstractJsonLexer.kt:575)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.handleUnknown(StreamingJsonDecoder.kt:257)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeObjectIndex(StreamingJsonDecoder.kt:243)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeElementIndex(StreamingJsonDecoder.kt:178)
	at com.sharcar.api.dto.CreateTravelDto$$serializer.deserialize(CreateTravelDto.kt:5)
	at com.sharcar.api.dto.CreateTravelDto$$serializer.deserialize(CreateTravelDto.kt:5)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeSerializableValue(StreamingJsonDecoder.kt:69)
	at kotlinx.serialization.json.Json.decodeFromString(Json.kt:165)
	at io.ktor.serialization.kotlinx.KotlinxSerializationConverter.deserialize(KotlinxSerializationConverter.kt:69)
	... 98 common frames omitted
2024-11-29 13:24:26.930 [DefaultDispatcher-worker-4 @request#81] TRACE i.k.s.p.c.ContentNegotiation - Skipping response body transformation from HttpStatusCode to OutgoingContent for the POST /travel/create request because the HttpStatusCode type is ignored. See [ContentNegotiationConfig::ignoreType].
2024-11-29 13:24:26.930 [DefaultDispatcher-worker-4] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/create
2024-11-29 13:24:26.930 [DefaultDispatcher-worker-4] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/create
2024-11-29 13:24:26.937 [DefaultDispatcher-worker-4] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/swapTravel
2024-11-29 13:24:26.938 [DefaultDispatcher-worker-4] TRACE i.k.c.p.c.ContentNegotiation - Converted request body using io.ktor.serialization.kotlinx.KotlinxSerializationConverter@493d97df for http:///travel/swapTravel
2024-11-29 13:24:26.938 [DefaultDispatcher-worker-4] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/swapTravel
2024-11-29 13:24:26.938 [DefaultDispatcher-worker-4] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/swapTravel from class io.ktor.http.content.TextContent
2024-11-29 13:24:26.939 [DefaultDispatcher-worker-4 @call-context#90] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:24:26.940 [DefaultDispatcher-worker-4 @call-context#90] INFO  io.ktor.test - Application started in 0.001 seconds.
2024-11-29 13:24:26.940 [DefaultDispatcher-worker-6 @coroutine#91] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:24:26.941 [DefaultDispatcher-worker-6 @coroutine#91] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:24:26.941 [DefaultDispatcher-worker-4 @request#90] TRACE io.ktor.server.routing.Routing - Trace for [travel, swapTravel]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:1 -> FAILURE "Selector didn't match" @ /travel/create
    /travel/addPassenger, segment:1 -> FAILURE "Selector didn't match" @ /travel/addPassenger
    /travel/swapTravel, segment:2 -> SUCCESS @ /travel/swapTravel
      /travel/swapTravel/(method:POST), segment:2 -> SUCCESS @ /travel/swapTravel/(method:POST)
Matched routes:
  "" -> "travel" -> "swapTravel" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/swapTravel/(method:POST)
2024-11-29 13:24:26.942 [DefaultDispatcher-worker-4 @request#90] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.SwapTravelDto) for call /travel/swapTravel
2024-11-29 13:24:26.942 [DefaultDispatcher-worker-4 @request#90] INFO  io.ktor.test - Swapping travel 2 to 1
2024-11-29 13:24:26.943 [DefaultDispatcher-worker-4 @request#90] INFO  io.ktor.test - Swapping travel 2 to 1 was true
2024-11-29 13:24:26.944 [DefaultDispatcher-worker-1] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/swapTravel
2024-11-29 13:24:26.944 [DefaultDispatcher-worker-1] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/swapTravel
2024-11-29 13:24:26.945 [DefaultDispatcher-worker-1] TRACE i.k.c.p.c.ContentNegotiation - Response body was converted to class com.sharcar.domain.usecases.model.SwapTravelToNewOneResult for http://localhost/travel/swapTravel.
2024-11-29 13:29:50.896 [DefaultDispatcher-worker-1] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/create
2024-11-29 13:29:50.936 [DefaultDispatcher-worker-1] TRACE i.k.c.p.c.ContentNegotiation - Converted request body using io.ktor.serialization.kotlinx.KotlinxSerializationConverter@33c88fbd for http:///travel/create
2024-11-29 13:29:50.936 [DefaultDispatcher-worker-1] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/create
2024-11-29 13:29:50.936 [DefaultDispatcher-worker-1] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/create from class io.ktor.http.content.TextContent
2024-11-29 13:29:51.000 [DefaultDispatcher-worker-2 @call-context#3] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:29:51.043 [DefaultDispatcher-worker-2 @call-context#3] INFO  io.ktor.test - Application started in 0.06 seconds.
2024-11-29 13:29:51.046 [DefaultDispatcher-worker-1 @coroutine#4] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:29:51.046 [DefaultDispatcher-worker-1 @coroutine#4] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:29:51.080 [DefaultDispatcher-worker-2 @request#3] TRACE io.ktor.server.routing.Routing - Trace for [travel, create]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:2 -> SUCCESS @ /travel/create
      /travel/create/(method:POST), segment:2 -> SUCCESS @ /travel/create/(method:POST)
    /travel/addPassenger, segment:1 -> FAILURE "Selector didn't match" @ /travel/addPassenger
    /travel/swapTravel, segment:1 -> FAILURE "Selector didn't match" @ /travel/swapTravel
Matched routes:
  "" -> "travel" -> "create" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/create/(method:POST)
2024-11-29 13:29:51.096 [DefaultDispatcher-worker-2 @request#3] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.CreateTravelDto) for call /travel/create
2024-11-29 13:29:51.113 [DefaultDispatcher-worker-2 @request#3] INFO  io.ktor.test - Creating travel from usuario@gmail.com
2024-11-29 13:29:51.117 [DefaultDispatcher-worker-2 @request#3] INFO  io.ktor.test - Created travel from usuario@gmail.com
2024-11-29 13:29:51.157 [DefaultDispatcher-worker-4] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/create
2024-11-29 13:29:51.157 [DefaultDispatcher-worker-4] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/create
2024-11-29 13:29:51.171 [DefaultDispatcher-worker-4] TRACE i.k.c.p.c.ContentNegotiation - Response body was converted to class com.sharcar.domain.usecases.model.CreationInscriptionResult for http://localhost/travel/create.
2024-11-29 13:29:51.188 [DefaultDispatcher-worker-4] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/create
2024-11-29 13:29:51.188 [DefaultDispatcher-worker-4] TRACE i.k.c.p.c.ContentNegotiation - Body type class kotlin.String is in ignored types. Skipping ContentNegotiation for http:///travel/create.
2024-11-29 13:29:51.189 [DefaultDispatcher-worker-4] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/create
2024-11-29 13:29:51.189 [DefaultDispatcher-worker-4] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/create from class kotlin.String
2024-11-29 13:29:51.190 [DefaultDispatcher-worker-4 @call-context#15] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:29:51.191 [DefaultDispatcher-worker-4 @call-context#15] INFO  io.ktor.test - Application started in 0.001 seconds.
2024-11-29 13:29:51.192 [DefaultDispatcher-worker-3 @coroutine#16] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:29:51.192 [DefaultDispatcher-worker-3 @coroutine#16] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:29:51.193 [DefaultDispatcher-worker-3 @request#15] TRACE io.ktor.server.routing.Routing - Trace for [travel, create]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:2 -> SUCCESS @ /travel/create
      /travel/create/(method:POST), segment:2 -> SUCCESS @ /travel/create/(method:POST)
    /travel/addPassenger, segment:1 -> FAILURE "Selector didn't match" @ /travel/addPassenger
    /travel/swapTravel, segment:1 -> FAILURE "Selector didn't match" @ /travel/swapTravel
Matched routes:
  "" -> "travel" -> "create" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/create/(method:POST)
2024-11-29 13:29:51.193 [DefaultDispatcher-worker-3 @request#15] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.CreateTravelDto) for call /travel/create
2024-11-29 13:29:51.201 [DefaultDispatcher-worker-3 @request#15] DEBUG io.ktor.test - Unhandled: POST - /travel/create. Exception class io.ktor.server.plugins.BadRequestException: Failed to convert request body to class com.sharcar.api.dto.CreateTravelDto
io.ktor.server.plugins.BadRequestException: Failed to convert request body to class com.sharcar.api.dto.CreateTravelDto
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.convertBody(RequestConverter.kt:69)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.access$convertBody(RequestConverter.kt:1)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invokeSuspend(RequestConverter.kt:40)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invoke(RequestConverter.kt)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invoke(RequestConverter.kt)
	at io.ktor.server.application.OnCallReceiveContext.transformBody(KtorCallContexts.kt:64)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invokeSuspend(RequestConverter.kt:28)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invoke(RequestConverter.kt)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invoke(RequestConverter.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invokeSuspend(PluginBuilder.kt:165)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invokeSuspend(PluginBuilder.kt:109)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invokeSuspend(PluginBuilder.kt:217)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invokeSuspend(PluginBuilder.kt:200)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invoke(PluginBuilder.kt)
	at io.ktor.util.debug.ContextUtilsKt.addToContextInDebugMode(ContextUtils.kt:30)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invokeSuspend(PluginBuilder.kt:196)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invoke(PluginBuilder.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.application.PipelineCall$DefaultImpls.receiveNullable(PipelineCall.kt:92)
	at io.ktor.server.routing.RoutingPipelineCall.receiveNullable(RoutingPipelineCall.kt:20)
	at io.ktor.server.routing.RoutingCall.receiveNullable(RoutingNode.kt:226)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invokeSuspend(TravelApi.kt:54)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invoke(TravelApi.kt)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invoke(TravelApi.kt)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invokeSuspend(RoutingNode.kt:116)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invoke(RoutingNode.kt)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invoke(RoutingNode.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.routing.RoutingRoot.executeResult(RoutingRoot.kt:193)
	at io.ktor.server.routing.RoutingRoot.interceptor(RoutingRoot.kt:66)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invokeSuspend(RoutingRoot.kt:143)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invoke(RoutingRoot.kt)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invoke(RoutingRoot.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invokeSuspend(BaseApplicationEngine.kt:112)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invoke(BaseApplicationEngine.kt)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invoke(BaseApplicationEngine.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.testing.TestApplicationEngine$2.invokeSuspend(TestApplicationEngine.kt:222)
	at io.ktor.server.testing.TestApplicationEngine$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$1.invokeSuspend(TestApplicationEngine.kt:96)
	at io.ktor.server.testing.TestApplicationEngine$1.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$1.invoke(TestApplicationEngine.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invokeSuspend(TestApplicationEngine.kt:221)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invoke(TestApplicationEngine.kt)
	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndispatchedOrReturn(Undispatched.kt:42)
	at kotlinx.coroutines.BuildersKt__Builders_commonKt.withContext(Builders.common.kt:164)
	at kotlinx.coroutines.BuildersKt.withContext(Unknown Source)
	at io.ktor.server.testing.TestApplicationEngine.handleRequest$ktor_server_test_host(TestApplicationEngine.kt:186)
	at io.ktor.server.testing.TestApplicationEngine.handleRequest$ktor_server_test_host$default(TestApplicationEngine.kt:169)
	at io.ktor.server.testing.client.TestHttpClientEngine.runRequest(TestHttpClientEngine.kt:89)
	at io.ktor.server.testing.client.TestHttpClientEngine.execute(TestHttpClientEngine.kt:56)
	at io.ktor.server.testing.client.DelegatingTestClientEngine.execute(DelegatingTestClientEngine.kt:58)
	at io.ktor.server.testing.client.DelegatingTestClientEngine$execute$1.invokeSuspend(DelegatingTestClientEngine.kt)
	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:101)
	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:113)
	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:89)
	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:589)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:823)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:720)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:707)
Caused by: io.ktor.serialization.JsonConvertException: Illegal input: Unexpected JSON token at offset 7: Encountered an unknown key 'id' at path: $
Use 'ignoreUnknownKeys = true' in 'Json {}' builder to ignore unknown keys.
JSON input: {
    "id": 1,
    "date": "2007-12-03T10:15:30",
    "place": "Gasolinera",
    "driverId": 1,
}
	at io.ktor.serialization.kotlinx.KotlinxSerializationConverter.deserialize(KotlinxSerializationConverter.kt:77)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.convertBody(RequestConverter.kt:67)
	... 97 common frames omitted
Caused by: kotlinx.serialization.json.internal.JsonDecodingException: Unexpected JSON token at offset 7: Encountered an unknown key 'id' at path: $
Use 'ignoreUnknownKeys = true' in 'Json {}' builder to ignore unknown keys.
JSON input: {
    "id": 1,
    "date": "2007-12-03T10:15:30",
    "place": "Gasolinera",
    "driverId": 1,
}
	at kotlinx.serialization.json.internal.JsonExceptionsKt.JsonDecodingException(JsonExceptions.kt:24)
	at kotlinx.serialization.json.internal.JsonExceptionsKt.JsonDecodingException(JsonExceptions.kt:32)
	at kotlinx.serialization.json.internal.AbstractJsonLexer.fail(AbstractJsonLexer.kt:580)
	at kotlinx.serialization.json.internal.AbstractJsonLexer.failOnUnknownKey(AbstractJsonLexer.kt:575)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.handleUnknown(StreamingJsonDecoder.kt:257)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeObjectIndex(StreamingJsonDecoder.kt:243)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeElementIndex(StreamingJsonDecoder.kt:178)
	at com.sharcar.api.dto.CreateTravelDto$$serializer.deserialize(CreateTravelDto.kt:5)
	at com.sharcar.api.dto.CreateTravelDto$$serializer.deserialize(CreateTravelDto.kt:5)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeSerializableValue(StreamingJsonDecoder.kt:69)
	at kotlinx.serialization.json.Json.decodeFromString(Json.kt:165)
	at io.ktor.serialization.kotlinx.KotlinxSerializationConverter.deserialize(KotlinxSerializationConverter.kt:69)
	... 98 common frames omitted
2024-11-29 13:29:51.204 [DefaultDispatcher-worker-3 @request#15] TRACE i.k.s.p.c.ContentNegotiation - Skipping response body transformation from HttpStatusCode to OutgoingContent for the POST /travel/create request because the HttpStatusCode type is ignored. See [ContentNegotiationConfig::ignoreType].
2024-11-29 13:29:51.206 [DefaultDispatcher-worker-6] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/create
2024-11-29 13:29:51.206 [DefaultDispatcher-worker-6] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/create
2024-11-29 13:29:51.215 [DefaultDispatcher-worker-6] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/create
2024-11-29 13:29:51.215 [DefaultDispatcher-worker-6] TRACE i.k.c.p.c.ContentNegotiation - Converted request body using io.ktor.serialization.kotlinx.KotlinxSerializationConverter@7b2b2b17 for http:///travel/create
2024-11-29 13:29:51.215 [DefaultDispatcher-worker-6] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/create
2024-11-29 13:29:51.215 [DefaultDispatcher-worker-6] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/create from class io.ktor.http.content.TextContent
2024-11-29 13:29:51.216 [DefaultDispatcher-worker-6 @call-context#24] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:29:51.217 [DefaultDispatcher-worker-6 @call-context#24] INFO  io.ktor.test - Application started in 0.001 seconds.
2024-11-29 13:29:51.217 [DefaultDispatcher-worker-3 @coroutine#25] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:29:51.217 [DefaultDispatcher-worker-3 @coroutine#25] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:29:51.218 [DefaultDispatcher-worker-6 @request#24] TRACE io.ktor.server.routing.Routing - Trace for [travel, create]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:2 -> SUCCESS @ /travel/create
      /travel/create/(method:POST), segment:2 -> SUCCESS @ /travel/create/(method:POST)
    /travel/addPassenger, segment:1 -> FAILURE "Selector didn't match" @ /travel/addPassenger
    /travel/swapTravel, segment:1 -> FAILURE "Selector didn't match" @ /travel/swapTravel
Matched routes:
  "" -> "travel" -> "create" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/create/(method:POST)
2024-11-29 13:29:51.219 [DefaultDispatcher-worker-6 @request#24] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.CreateTravelDto) for call /travel/create
2024-11-29 13:29:51.219 [DefaultDispatcher-worker-6 @request#24] INFO  io.ktor.test - Creating travel from usuario@gmail.com
2024-11-29 13:29:51.220 [DefaultDispatcher-worker-6 @request#24] INFO  io.ktor.test - Created travel from usuario@gmail.com
2024-11-29 13:29:51.224 [DefaultDispatcher-worker-6] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/create
2024-11-29 13:29:51.224 [DefaultDispatcher-worker-6] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/create
2024-11-29 13:29:51.225 [DefaultDispatcher-worker-6] TRACE i.k.c.p.c.ContentNegotiation - Response body was converted to class com.sharcar.domain.usecases.model.CreationInscriptionResult for http://localhost/travel/create.
2024-11-29 13:29:51.232 [DefaultDispatcher-worker-6] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/create
2024-11-29 13:29:51.232 [DefaultDispatcher-worker-6] TRACE i.k.c.p.c.ContentNegotiation - Body type class kotlin.String is in ignored types. Skipping ContentNegotiation for http:///travel/create.
2024-11-29 13:29:51.232 [DefaultDispatcher-worker-6] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/create
2024-11-29 13:29:51.232 [DefaultDispatcher-worker-6] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/create from class kotlin.String
2024-11-29 13:29:51.233 [DefaultDispatcher-worker-6 @call-context#36] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:29:51.234 [DefaultDispatcher-worker-6 @call-context#36] INFO  io.ktor.test - Application started in 0.001 seconds.
2024-11-29 13:29:51.234 [DefaultDispatcher-worker-4 @coroutine#37] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:29:51.234 [DefaultDispatcher-worker-4 @coroutine#37] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:29:51.235 [DefaultDispatcher-worker-6 @request#36] TRACE io.ktor.server.routing.Routing - Trace for [travel, create]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:2 -> SUCCESS @ /travel/create
      /travel/create/(method:POST), segment:2 -> SUCCESS @ /travel/create/(method:POST)
    /travel/addPassenger, segment:1 -> FAILURE "Selector didn't match" @ /travel/addPassenger
    /travel/swapTravel, segment:1 -> FAILURE "Selector didn't match" @ /travel/swapTravel
Matched routes:
  "" -> "travel" -> "create" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/create/(method:POST)
2024-11-29 13:29:51.236 [DefaultDispatcher-worker-6 @request#36] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.CreateTravelDto) for call /travel/create
2024-11-29 13:29:51.236 [DefaultDispatcher-worker-6 @request#36] DEBUG io.ktor.test - Unhandled: POST - /travel/create. Exception class io.ktor.server.plugins.BadRequestException: Failed to convert request body to class com.sharcar.api.dto.CreateTravelDto
io.ktor.server.plugins.BadRequestException: Failed to convert request body to class com.sharcar.api.dto.CreateTravelDto
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.convertBody(RequestConverter.kt:69)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.access$convertBody(RequestConverter.kt:1)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invokeSuspend(RequestConverter.kt:40)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invoke(RequestConverter.kt)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invoke(RequestConverter.kt)
	at io.ktor.server.application.OnCallReceiveContext.transformBody(KtorCallContexts.kt:64)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invokeSuspend(RequestConverter.kt:28)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invoke(RequestConverter.kt)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invoke(RequestConverter.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invokeSuspend(PluginBuilder.kt:165)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invokeSuspend(PluginBuilder.kt:109)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invokeSuspend(PluginBuilder.kt:217)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invokeSuspend(PluginBuilder.kt:200)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invoke(PluginBuilder.kt)
	at io.ktor.util.debug.ContextUtilsKt.addToContextInDebugMode(ContextUtils.kt:30)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invokeSuspend(PluginBuilder.kt:196)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invoke(PluginBuilder.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.application.PipelineCall$DefaultImpls.receiveNullable(PipelineCall.kt:92)
	at io.ktor.server.routing.RoutingPipelineCall.receiveNullable(RoutingPipelineCall.kt:20)
	at io.ktor.server.routing.RoutingCall.receiveNullable(RoutingNode.kt:226)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invokeSuspend(TravelApi.kt:54)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invoke(TravelApi.kt)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invoke(TravelApi.kt)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invokeSuspend(RoutingNode.kt:116)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invoke(RoutingNode.kt)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invoke(RoutingNode.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.routing.RoutingRoot.executeResult(RoutingRoot.kt:193)
	at io.ktor.server.routing.RoutingRoot.interceptor(RoutingRoot.kt:66)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invokeSuspend(RoutingRoot.kt:143)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invoke(RoutingRoot.kt)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invoke(RoutingRoot.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invokeSuspend(BaseApplicationEngine.kt:112)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invoke(BaseApplicationEngine.kt)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invoke(BaseApplicationEngine.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.testing.TestApplicationEngine$2.invokeSuspend(TestApplicationEngine.kt:222)
	at io.ktor.server.testing.TestApplicationEngine$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$1.invokeSuspend(TestApplicationEngine.kt:96)
	at io.ktor.server.testing.TestApplicationEngine$1.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$1.invoke(TestApplicationEngine.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invokeSuspend(TestApplicationEngine.kt:221)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invoke(TestApplicationEngine.kt)
	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndispatchedOrReturn(Undispatched.kt:42)
	at kotlinx.coroutines.BuildersKt__Builders_commonKt.withContext(Builders.common.kt:164)
	at kotlinx.coroutines.BuildersKt.withContext(Unknown Source)
	at io.ktor.server.testing.TestApplicationEngine.handleRequest$ktor_server_test_host(TestApplicationEngine.kt:186)
	at io.ktor.server.testing.TestApplicationEngine.handleRequest$ktor_server_test_host$default(TestApplicationEngine.kt:169)
	at io.ktor.server.testing.client.TestHttpClientEngine.runRequest(TestHttpClientEngine.kt:89)
	at io.ktor.server.testing.client.TestHttpClientEngine.execute(TestHttpClientEngine.kt:56)
	at io.ktor.server.testing.client.DelegatingTestClientEngine.execute(DelegatingTestClientEngine.kt:58)
	at io.ktor.server.testing.client.DelegatingTestClientEngine$execute$1.invokeSuspend(DelegatingTestClientEngine.kt)
	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:101)
	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:113)
	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:89)
	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:589)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:823)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:720)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:707)
Caused by: io.ktor.serialization.JsonConvertException: Illegal input: Unexpected JSON token at offset 7: Encountered an unknown key 'id' at path: $
Use 'ignoreUnknownKeys = true' in 'Json {}' builder to ignore unknown keys.
JSON input: {
    "id": 1
}
	at io.ktor.serialization.kotlinx.KotlinxSerializationConverter.deserialize(KotlinxSerializationConverter.kt:77)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.convertBody(RequestConverter.kt:67)
	... 97 common frames omitted
Caused by: kotlinx.serialization.json.internal.JsonDecodingException: Unexpected JSON token at offset 7: Encountered an unknown key 'id' at path: $
Use 'ignoreUnknownKeys = true' in 'Json {}' builder to ignore unknown keys.
JSON input: {
    "id": 1
}
	at kotlinx.serialization.json.internal.JsonExceptionsKt.JsonDecodingException(JsonExceptions.kt:24)
	at kotlinx.serialization.json.internal.JsonExceptionsKt.JsonDecodingException(JsonExceptions.kt:32)
	at kotlinx.serialization.json.internal.AbstractJsonLexer.fail(AbstractJsonLexer.kt:580)
	at kotlinx.serialization.json.internal.AbstractJsonLexer.failOnUnknownKey(AbstractJsonLexer.kt:575)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.handleUnknown(StreamingJsonDecoder.kt:257)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeObjectIndex(StreamingJsonDecoder.kt:243)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeElementIndex(StreamingJsonDecoder.kt:178)
	at com.sharcar.api.dto.CreateTravelDto$$serializer.deserialize(CreateTravelDto.kt:5)
	at com.sharcar.api.dto.CreateTravelDto$$serializer.deserialize(CreateTravelDto.kt:5)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeSerializableValue(StreamingJsonDecoder.kt:69)
	at kotlinx.serialization.json.Json.decodeFromString(Json.kt:165)
	at io.ktor.serialization.kotlinx.KotlinxSerializationConverter.deserialize(KotlinxSerializationConverter.kt:69)
	... 98 common frames omitted
2024-11-29 13:29:51.237 [DefaultDispatcher-worker-6 @request#36] TRACE i.k.s.p.c.ContentNegotiation - Skipping response body transformation from HttpStatusCode to OutgoingContent for the POST /travel/create request because the HttpStatusCode type is ignored. See [ContentNegotiationConfig::ignoreType].
2024-11-29 13:29:51.238 [DefaultDispatcher-worker-3] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/create
2024-11-29 13:29:51.238 [DefaultDispatcher-worker-3] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/create
2024-11-29 13:29:51.251 [DefaultDispatcher-worker-3] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/swapTravel
2024-11-29 13:29:51.253 [DefaultDispatcher-worker-3] TRACE i.k.c.p.c.ContentNegotiation - Converted request body using io.ktor.serialization.kotlinx.KotlinxSerializationConverter@14ffeae4 for http:///travel/swapTravel
2024-11-29 13:29:51.253 [DefaultDispatcher-worker-3] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/swapTravel
2024-11-29 13:29:51.253 [DefaultDispatcher-worker-3] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/swapTravel from class io.ktor.http.content.TextContent
2024-11-29 13:29:51.254 [DefaultDispatcher-worker-3 @call-context#45] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:29:51.255 [DefaultDispatcher-worker-3 @call-context#45] INFO  io.ktor.test - Application started in 0.001 seconds.
2024-11-29 13:29:51.256 [DefaultDispatcher-worker-6 @coroutine#46] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:29:51.256 [DefaultDispatcher-worker-6 @coroutine#46] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:29:51.257 [DefaultDispatcher-worker-3 @request#45] TRACE io.ktor.server.routing.Routing - Trace for [travel, swapTravel]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:1 -> FAILURE "Selector didn't match" @ /travel/create
    /travel/addPassenger, segment:1 -> FAILURE "Selector didn't match" @ /travel/addPassenger
    /travel/swapTravel, segment:2 -> SUCCESS @ /travel/swapTravel
      /travel/swapTravel/(method:POST), segment:2 -> SUCCESS @ /travel/swapTravel/(method:POST)
Matched routes:
  "" -> "travel" -> "swapTravel" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/swapTravel/(method:POST)
2024-11-29 13:29:51.257 [DefaultDispatcher-worker-3 @request#45] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.SwapTravelDto) for call /travel/swapTravel
2024-11-29 13:29:51.261 [DefaultDispatcher-worker-3 @request#45] INFO  io.ktor.test - Swapping travel 2 to 1
2024-11-29 13:29:51.264 [DefaultDispatcher-worker-3 @request#45] INFO  io.ktor.test - Swapping travel 2 to 1 was false
2024-11-29 13:29:51.268 [DefaultDispatcher-worker-4] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/swapTravel
2024-11-29 13:29:51.268 [DefaultDispatcher-worker-4] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/swapTravel
2024-11-29 13:29:51.269 [DefaultDispatcher-worker-4] TRACE i.k.c.p.c.ContentNegotiation - Response body was converted to class com.sharcar.domain.usecases.model.SwapTravelToNewOneResult for http://localhost/travel/swapTravel.
2024-11-29 13:29:51.280 [DefaultDispatcher-worker-4] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/addPassenger
2024-11-29 13:29:51.282 [DefaultDispatcher-worker-4] TRACE i.k.c.p.c.ContentNegotiation - Converted request body using io.ktor.serialization.kotlinx.KotlinxSerializationConverter@31a48505 for http:///travel/addPassenger
2024-11-29 13:29:51.282 [DefaultDispatcher-worker-4] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/addPassenger
2024-11-29 13:29:51.282 [DefaultDispatcher-worker-4] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/addPassenger from class io.ktor.http.content.TextContent
2024-11-29 13:29:51.283 [DefaultDispatcher-worker-4 @call-context#57] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:29:51.284 [DefaultDispatcher-worker-4 @call-context#57] INFO  io.ktor.test - Application started in 0.001 seconds.
2024-11-29 13:29:51.284 [DefaultDispatcher-worker-6 @coroutine#58] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:29:51.284 [DefaultDispatcher-worker-6 @coroutine#58] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:29:51.285 [DefaultDispatcher-worker-4 @request#57] TRACE io.ktor.server.routing.Routing - Trace for [travel, addPassenger]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:1 -> FAILURE "Selector didn't match" @ /travel/create
    /travel/addPassenger, segment:2 -> SUCCESS @ /travel/addPassenger
      /travel/addPassenger/(method:POST), segment:2 -> SUCCESS @ /travel/addPassenger/(method:POST)
    /travel/swapTravel, segment:1 -> FAILURE "Selector didn't match" @ /travel/swapTravel
Matched routes:
  "" -> "travel" -> "addPassenger" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/addPassenger/(method:POST)
2024-11-29 13:29:51.286 [DefaultDispatcher-worker-4 @request#57] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.AddPassengerDto) for call /travel/addPassenger
2024-11-29 13:29:51.288 [DefaultDispatcher-worker-4 @request#57] INFO  io.ktor.test - Adding passenger prueba@gmail.com to travel 1
2024-11-29 13:29:51.289 [DefaultDispatcher-worker-4 @request#57] INFO  io.ktor.test - Adding passenger prueba@gmail.com was false
2024-11-29 13:29:51.292 [DefaultDispatcher-worker-6] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/addPassenger
2024-11-29 13:29:51.292 [DefaultDispatcher-worker-6] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/addPassenger
2024-11-29 13:29:51.293 [DefaultDispatcher-worker-6] TRACE i.k.c.p.c.ContentNegotiation - Response body was converted to class com.sharcar.domain.usecases.model.AddPassengerResult for http://localhost/travel/addPassenger.
2024-11-29 13:29:51.299 [DefaultDispatcher-worker-6] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/addPassenger
2024-11-29 13:29:51.300 [DefaultDispatcher-worker-6] TRACE i.k.c.p.c.ContentNegotiation - Converted request body using io.ktor.serialization.kotlinx.KotlinxSerializationConverter@4f693905 for http:///travel/addPassenger
2024-11-29 13:29:51.300 [DefaultDispatcher-worker-6] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/addPassenger
2024-11-29 13:29:51.300 [DefaultDispatcher-worker-6] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/addPassenger from class io.ktor.http.content.TextContent
2024-11-29 13:29:51.301 [DefaultDispatcher-worker-6 @call-context#69] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:29:51.302 [DefaultDispatcher-worker-6 @call-context#69] INFO  io.ktor.test - Application started in 0.001 seconds.
2024-11-29 13:29:51.302 [DefaultDispatcher-worker-2 @coroutine#70] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:29:51.302 [DefaultDispatcher-worker-2 @coroutine#70] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:29:51.303 [DefaultDispatcher-worker-6 @request#69] TRACE io.ktor.server.routing.Routing - Trace for [travel, addPassenger]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:1 -> FAILURE "Selector didn't match" @ /travel/create
    /travel/addPassenger, segment:2 -> SUCCESS @ /travel/addPassenger
      /travel/addPassenger/(method:POST), segment:2 -> SUCCESS @ /travel/addPassenger/(method:POST)
    /travel/swapTravel, segment:1 -> FAILURE "Selector didn't match" @ /travel/swapTravel
Matched routes:
  "" -> "travel" -> "addPassenger" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/addPassenger/(method:POST)
2024-11-29 13:29:51.303 [DefaultDispatcher-worker-6 @request#69] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.AddPassengerDto) for call /travel/addPassenger
2024-11-29 13:29:51.304 [DefaultDispatcher-worker-6 @request#69] INFO  io.ktor.test - Adding passenger prueba@gmail.com to travel 1
2024-11-29 13:29:51.304 [DefaultDispatcher-worker-6 @request#69] INFO  io.ktor.test - Adding passenger prueba@gmail.com was true
2024-11-29 13:29:51.305 [DefaultDispatcher-worker-5] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/addPassenger
2024-11-29 13:29:51.306 [DefaultDispatcher-worker-5] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/addPassenger
2024-11-29 13:29:51.307 [DefaultDispatcher-worker-5] TRACE i.k.c.p.c.ContentNegotiation - Response body was converted to class com.sharcar.domain.usecases.model.AddPassengerResult for http://localhost/travel/addPassenger.
2024-11-29 13:29:51.313 [DefaultDispatcher-worker-5] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/create
2024-11-29 13:29:51.313 [DefaultDispatcher-worker-5] TRACE i.k.c.p.c.ContentNegotiation - Body type class kotlin.String is in ignored types. Skipping ContentNegotiation for http:///travel/create.
2024-11-29 13:29:51.313 [DefaultDispatcher-worker-5] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/create
2024-11-29 13:29:51.313 [DefaultDispatcher-worker-5] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/create from class kotlin.String
2024-11-29 13:29:51.314 [DefaultDispatcher-worker-5 @call-context#81] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:29:51.314 [DefaultDispatcher-worker-5 @call-context#81] INFO  io.ktor.test - Application started in 0.0 seconds.
2024-11-29 13:29:51.315 [DefaultDispatcher-worker-2 @coroutine#82] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:29:51.315 [DefaultDispatcher-worker-2 @coroutine#82] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:29:51.316 [DefaultDispatcher-worker-5 @request#81] TRACE io.ktor.server.routing.Routing - Trace for [travel, create]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:2 -> SUCCESS @ /travel/create
      /travel/create/(method:POST), segment:2 -> SUCCESS @ /travel/create/(method:POST)
    /travel/addPassenger, segment:1 -> FAILURE "Selector didn't match" @ /travel/addPassenger
    /travel/swapTravel, segment:1 -> FAILURE "Selector didn't match" @ /travel/swapTravel
Matched routes:
  "" -> "travel" -> "create" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/create/(method:POST)
2024-11-29 13:29:51.316 [DefaultDispatcher-worker-5 @request#81] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.CreateTravelDto) for call /travel/create
2024-11-29 13:29:51.316 [DefaultDispatcher-worker-5 @request#81] DEBUG io.ktor.test - Unhandled: POST - /travel/create. Exception class io.ktor.server.plugins.BadRequestException: Failed to convert request body to class com.sharcar.api.dto.CreateTravelDto
io.ktor.server.plugins.BadRequestException: Failed to convert request body to class com.sharcar.api.dto.CreateTravelDto
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.convertBody(RequestConverter.kt:69)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.access$convertBody(RequestConverter.kt:1)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invokeSuspend(RequestConverter.kt:40)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invoke(RequestConverter.kt)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invoke(RequestConverter.kt)
	at io.ktor.server.application.OnCallReceiveContext.transformBody(KtorCallContexts.kt:64)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invokeSuspend(RequestConverter.kt:28)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invoke(RequestConverter.kt)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invoke(RequestConverter.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invokeSuspend(PluginBuilder.kt:165)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invokeSuspend(PluginBuilder.kt:109)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invokeSuspend(PluginBuilder.kt:217)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invokeSuspend(PluginBuilder.kt:200)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invoke(PluginBuilder.kt)
	at io.ktor.util.debug.ContextUtilsKt.addToContextInDebugMode(ContextUtils.kt:30)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invokeSuspend(PluginBuilder.kt:196)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invoke(PluginBuilder.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.application.PipelineCall$DefaultImpls.receiveNullable(PipelineCall.kt:92)
	at io.ktor.server.routing.RoutingPipelineCall.receiveNullable(RoutingPipelineCall.kt:20)
	at io.ktor.server.routing.RoutingCall.receiveNullable(RoutingNode.kt:226)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invokeSuspend(TravelApi.kt:54)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invoke(TravelApi.kt)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invoke(TravelApi.kt)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invokeSuspend(RoutingNode.kt:116)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invoke(RoutingNode.kt)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invoke(RoutingNode.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.routing.RoutingRoot.executeResult(RoutingRoot.kt:193)
	at io.ktor.server.routing.RoutingRoot.interceptor(RoutingRoot.kt:66)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invokeSuspend(RoutingRoot.kt:143)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invoke(RoutingRoot.kt)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invoke(RoutingRoot.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invokeSuspend(BaseApplicationEngine.kt:112)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invoke(BaseApplicationEngine.kt)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invoke(BaseApplicationEngine.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.testing.TestApplicationEngine$2.invokeSuspend(TestApplicationEngine.kt:222)
	at io.ktor.server.testing.TestApplicationEngine$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$1.invokeSuspend(TestApplicationEngine.kt:96)
	at io.ktor.server.testing.TestApplicationEngine$1.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$1.invoke(TestApplicationEngine.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invokeSuspend(TestApplicationEngine.kt:221)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invoke(TestApplicationEngine.kt)
	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndispatchedOrReturn(Undispatched.kt:42)
	at kotlinx.coroutines.BuildersKt__Builders_commonKt.withContext(Builders.common.kt:164)
	at kotlinx.coroutines.BuildersKt.withContext(Unknown Source)
	at io.ktor.server.testing.TestApplicationEngine.handleRequest$ktor_server_test_host(TestApplicationEngine.kt:186)
	at io.ktor.server.testing.TestApplicationEngine.handleRequest$ktor_server_test_host$default(TestApplicationEngine.kt:169)
	at io.ktor.server.testing.client.TestHttpClientEngine.runRequest(TestHttpClientEngine.kt:89)
	at io.ktor.server.testing.client.TestHttpClientEngine.execute(TestHttpClientEngine.kt:56)
	at io.ktor.server.testing.client.DelegatingTestClientEngine.execute(DelegatingTestClientEngine.kt:58)
	at io.ktor.server.testing.client.DelegatingTestClientEngine$execute$1.invokeSuspend(DelegatingTestClientEngine.kt)
	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:101)
	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:113)
	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:89)
	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:589)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:823)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:720)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:707)
Caused by: io.ktor.serialization.JsonConvertException: Illegal input: Unexpected JSON token at offset 7: Encountered an unknown key 'id' at path: $
Use 'ignoreUnknownKeys = true' in 'Json {}' builder to ignore unknown keys.
JSON input: {
    "id": 1
}
	at io.ktor.serialization.kotlinx.KotlinxSerializationConverter.deserialize(KotlinxSerializationConverter.kt:77)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.convertBody(RequestConverter.kt:67)
	... 97 common frames omitted
Caused by: kotlinx.serialization.json.internal.JsonDecodingException: Unexpected JSON token at offset 7: Encountered an unknown key 'id' at path: $
Use 'ignoreUnknownKeys = true' in 'Json {}' builder to ignore unknown keys.
JSON input: {
    "id": 1
}
	at kotlinx.serialization.json.internal.JsonExceptionsKt.JsonDecodingException(JsonExceptions.kt:24)
	at kotlinx.serialization.json.internal.JsonExceptionsKt.JsonDecodingException(JsonExceptions.kt:32)
	at kotlinx.serialization.json.internal.AbstractJsonLexer.fail(AbstractJsonLexer.kt:580)
	at kotlinx.serialization.json.internal.AbstractJsonLexer.failOnUnknownKey(AbstractJsonLexer.kt:575)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.handleUnknown(StreamingJsonDecoder.kt:257)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeObjectIndex(StreamingJsonDecoder.kt:243)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeElementIndex(StreamingJsonDecoder.kt:178)
	at com.sharcar.api.dto.CreateTravelDto$$serializer.deserialize(CreateTravelDto.kt:5)
	at com.sharcar.api.dto.CreateTravelDto$$serializer.deserialize(CreateTravelDto.kt:5)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeSerializableValue(StreamingJsonDecoder.kt:69)
	at kotlinx.serialization.json.Json.decodeFromString(Json.kt:165)
	at io.ktor.serialization.kotlinx.KotlinxSerializationConverter.deserialize(KotlinxSerializationConverter.kt:69)
	... 98 common frames omitted
2024-11-29 13:29:51.317 [DefaultDispatcher-worker-5 @request#81] TRACE i.k.s.p.c.ContentNegotiation - Skipping response body transformation from HttpStatusCode to OutgoingContent for the POST /travel/create request because the HttpStatusCode type is ignored. See [ContentNegotiationConfig::ignoreType].
2024-11-29 13:29:51.317 [DefaultDispatcher-worker-5] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/create
2024-11-29 13:29:51.317 [DefaultDispatcher-worker-5] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/create
2024-11-29 13:29:51.324 [DefaultDispatcher-worker-5] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/swapTravel
2024-11-29 13:29:51.324 [DefaultDispatcher-worker-5] TRACE i.k.c.p.c.ContentNegotiation - Converted request body using io.ktor.serialization.kotlinx.KotlinxSerializationConverter@39d0c57d for http:///travel/swapTravel
2024-11-29 13:29:51.324 [DefaultDispatcher-worker-5] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/swapTravel
2024-11-29 13:29:51.324 [DefaultDispatcher-worker-5] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/swapTravel from class io.ktor.http.content.TextContent
2024-11-29 13:29:51.325 [DefaultDispatcher-worker-5 @call-context#90] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:29:51.326 [DefaultDispatcher-worker-5 @call-context#90] INFO  io.ktor.test - Application started in 0.001 seconds.
2024-11-29 13:29:51.326 [DefaultDispatcher-worker-4 @coroutine#91] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:29:51.326 [DefaultDispatcher-worker-4 @coroutine#91] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:29:51.327 [DefaultDispatcher-worker-5 @request#90] TRACE io.ktor.server.routing.Routing - Trace for [travel, swapTravel]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:1 -> FAILURE "Selector didn't match" @ /travel/create
    /travel/addPassenger, segment:1 -> FAILURE "Selector didn't match" @ /travel/addPassenger
    /travel/swapTravel, segment:2 -> SUCCESS @ /travel/swapTravel
      /travel/swapTravel/(method:POST), segment:2 -> SUCCESS @ /travel/swapTravel/(method:POST)
Matched routes:
  "" -> "travel" -> "swapTravel" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/swapTravel/(method:POST)
2024-11-29 13:29:51.327 [DefaultDispatcher-worker-5 @request#90] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.SwapTravelDto) for call /travel/swapTravel
2024-11-29 13:29:51.328 [DefaultDispatcher-worker-5 @request#90] INFO  io.ktor.test - Swapping travel 2 to 1
2024-11-29 13:29:51.328 [DefaultDispatcher-worker-5 @request#90] INFO  io.ktor.test - Swapping travel 2 to 1 was true
2024-11-29 13:29:51.330 [DefaultDispatcher-worker-6] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/swapTravel
2024-11-29 13:29:51.330 [DefaultDispatcher-worker-6] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/swapTravel
2024-11-29 13:29:51.331 [DefaultDispatcher-worker-6] TRACE i.k.c.p.c.ContentNegotiation - Response body was converted to class com.sharcar.domain.usecases.model.SwapTravelToNewOneResult for http://localhost/travel/swapTravel.
2024-11-29 13:32:24.155 [DefaultDispatcher-worker-1] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/create
2024-11-29 13:32:24.192 [DefaultDispatcher-worker-1] TRACE i.k.c.p.c.ContentNegotiation - Converted request body using io.ktor.serialization.kotlinx.KotlinxSerializationConverter@33c88fbd for http:///travel/create
2024-11-29 13:32:24.193 [DefaultDispatcher-worker-1] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/create
2024-11-29 13:32:24.193 [DefaultDispatcher-worker-1] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/create from class io.ktor.http.content.TextContent
2024-11-29 13:32:24.258 [DefaultDispatcher-worker-2 @call-context#3] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:32:24.303 [DefaultDispatcher-worker-2 @call-context#3] INFO  io.ktor.test - Application started in 0.064 seconds.
2024-11-29 13:32:24.305 [DefaultDispatcher-worker-1 @coroutine#4] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:32:24.306 [DefaultDispatcher-worker-1 @coroutine#4] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:32:24.346 [DefaultDispatcher-worker-2 @request#3] TRACE io.ktor.server.routing.Routing - Trace for [travel, create]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:2 -> SUCCESS @ /travel/create
      /travel/create/(method:POST), segment:2 -> SUCCESS @ /travel/create/(method:POST)
    /travel/addPassenger, segment:1 -> FAILURE "Selector didn't match" @ /travel/addPassenger
    /travel/swapTravel, segment:1 -> FAILURE "Selector didn't match" @ /travel/swapTravel
Matched routes:
  "" -> "travel" -> "create" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/create/(method:POST)
2024-11-29 13:32:24.366 [DefaultDispatcher-worker-2 @request#3] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.CreateTravelDto) for call /travel/create
2024-11-29 13:32:24.384 [DefaultDispatcher-worker-2 @request#3] INFO  io.ktor.test - Creating travel from usuario@gmail.com
2024-11-29 13:32:24.388 [DefaultDispatcher-worker-2 @request#3] INFO  io.ktor.test - Created travel from usuario@gmail.com
2024-11-29 13:32:24.430 [DefaultDispatcher-worker-5] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/create
2024-11-29 13:32:24.430 [DefaultDispatcher-worker-5] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/create
2024-11-29 13:32:24.445 [DefaultDispatcher-worker-5] TRACE i.k.c.p.c.ContentNegotiation - Response body was converted to class com.sharcar.domain.usecases.model.CreationInscriptionResult for http://localhost/travel/create.
2024-11-29 13:32:24.465 [DefaultDispatcher-worker-4] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/create
2024-11-29 13:32:24.465 [DefaultDispatcher-worker-4] TRACE i.k.c.p.c.ContentNegotiation - Body type class kotlin.String is in ignored types. Skipping ContentNegotiation for http:///travel/create.
2024-11-29 13:32:24.465 [DefaultDispatcher-worker-4] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/create
2024-11-29 13:32:24.466 [DefaultDispatcher-worker-4] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/create from class kotlin.String
2024-11-29 13:32:24.467 [DefaultDispatcher-worker-4 @call-context#15] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:32:24.468 [DefaultDispatcher-worker-4 @call-context#15] INFO  io.ktor.test - Application started in 0.002 seconds.
2024-11-29 13:32:24.469 [DefaultDispatcher-worker-3 @coroutine#16] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:32:24.469 [DefaultDispatcher-worker-3 @coroutine#16] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:32:24.470 [DefaultDispatcher-worker-4 @request#15] TRACE io.ktor.server.routing.Routing - Trace for [travel, create]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:2 -> SUCCESS @ /travel/create
      /travel/create/(method:POST), segment:2 -> SUCCESS @ /travel/create/(method:POST)
    /travel/addPassenger, segment:1 -> FAILURE "Selector didn't match" @ /travel/addPassenger
    /travel/swapTravel, segment:1 -> FAILURE "Selector didn't match" @ /travel/swapTravel
Matched routes:
  "" -> "travel" -> "create" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/create/(method:POST)
2024-11-29 13:32:24.470 [DefaultDispatcher-worker-4 @request#15] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.CreateTravelDto) for call /travel/create
2024-11-29 13:32:24.478 [DefaultDispatcher-worker-4 @request#15] DEBUG io.ktor.test - Unhandled: POST - /travel/create. Exception class io.ktor.server.plugins.BadRequestException: Failed to convert request body to class com.sharcar.api.dto.CreateTravelDto
io.ktor.server.plugins.BadRequestException: Failed to convert request body to class com.sharcar.api.dto.CreateTravelDto
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.convertBody(RequestConverter.kt:69)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.access$convertBody(RequestConverter.kt:1)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invokeSuspend(RequestConverter.kt:40)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invoke(RequestConverter.kt)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invoke(RequestConverter.kt)
	at io.ktor.server.application.OnCallReceiveContext.transformBody(KtorCallContexts.kt:64)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invokeSuspend(RequestConverter.kt:28)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invoke(RequestConverter.kt)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invoke(RequestConverter.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invokeSuspend(PluginBuilder.kt:165)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invokeSuspend(PluginBuilder.kt:109)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invokeSuspend(PluginBuilder.kt:217)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invokeSuspend(PluginBuilder.kt:200)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invoke(PluginBuilder.kt)
	at io.ktor.util.debug.ContextUtilsKt.addToContextInDebugMode(ContextUtils.kt:30)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invokeSuspend(PluginBuilder.kt:196)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invoke(PluginBuilder.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.application.PipelineCall$DefaultImpls.receiveNullable(PipelineCall.kt:92)
	at io.ktor.server.routing.RoutingPipelineCall.receiveNullable(RoutingPipelineCall.kt:20)
	at io.ktor.server.routing.RoutingCall.receiveNullable(RoutingNode.kt:226)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invokeSuspend(TravelApi.kt:54)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invoke(TravelApi.kt)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invoke(TravelApi.kt)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invokeSuspend(RoutingNode.kt:116)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invoke(RoutingNode.kt)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invoke(RoutingNode.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.routing.RoutingRoot.executeResult(RoutingRoot.kt:193)
	at io.ktor.server.routing.RoutingRoot.interceptor(RoutingRoot.kt:66)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invokeSuspend(RoutingRoot.kt:143)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invoke(RoutingRoot.kt)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invoke(RoutingRoot.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invokeSuspend(BaseApplicationEngine.kt:112)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invoke(BaseApplicationEngine.kt)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invoke(BaseApplicationEngine.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.testing.TestApplicationEngine$2.invokeSuspend(TestApplicationEngine.kt:222)
	at io.ktor.server.testing.TestApplicationEngine$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$1.invokeSuspend(TestApplicationEngine.kt:96)
	at io.ktor.server.testing.TestApplicationEngine$1.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$1.invoke(TestApplicationEngine.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invokeSuspend(TestApplicationEngine.kt:221)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invoke(TestApplicationEngine.kt)
	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndispatchedOrReturn(Undispatched.kt:42)
	at kotlinx.coroutines.BuildersKt__Builders_commonKt.withContext(Builders.common.kt:164)
	at kotlinx.coroutines.BuildersKt.withContext(Unknown Source)
	at io.ktor.server.testing.TestApplicationEngine.handleRequest$ktor_server_test_host(TestApplicationEngine.kt:186)
	at io.ktor.server.testing.TestApplicationEngine.handleRequest$ktor_server_test_host$default(TestApplicationEngine.kt:169)
	at io.ktor.server.testing.client.TestHttpClientEngine.runRequest(TestHttpClientEngine.kt:89)
	at io.ktor.server.testing.client.TestHttpClientEngine.execute(TestHttpClientEngine.kt:56)
	at io.ktor.server.testing.client.DelegatingTestClientEngine.execute(DelegatingTestClientEngine.kt:58)
	at io.ktor.server.testing.client.DelegatingTestClientEngine$execute$1.invokeSuspend(DelegatingTestClientEngine.kt)
	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:101)
	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:113)
	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:89)
	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:589)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:823)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:720)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:707)
Caused by: io.ktor.serialization.JsonConvertException: Illegal input: Unexpected JSON token at offset 7: Encountered an unknown key 'id' at path: $
Use 'ignoreUnknownKeys = true' in 'Json {}' builder to ignore unknown keys.
JSON input: {
    "id": 1,
    "date": "2007-12-03T10:15:30",
    "place": "Gasolinera",
    "driverId": 1,
}
	at io.ktor.serialization.kotlinx.KotlinxSerializationConverter.deserialize(KotlinxSerializationConverter.kt:77)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.convertBody(RequestConverter.kt:67)
	... 97 common frames omitted
Caused by: kotlinx.serialization.json.internal.JsonDecodingException: Unexpected JSON token at offset 7: Encountered an unknown key 'id' at path: $
Use 'ignoreUnknownKeys = true' in 'Json {}' builder to ignore unknown keys.
JSON input: {
    "id": 1,
    "date": "2007-12-03T10:15:30",
    "place": "Gasolinera",
    "driverId": 1,
}
	at kotlinx.serialization.json.internal.JsonExceptionsKt.JsonDecodingException(JsonExceptions.kt:24)
	at kotlinx.serialization.json.internal.JsonExceptionsKt.JsonDecodingException(JsonExceptions.kt:32)
	at kotlinx.serialization.json.internal.AbstractJsonLexer.fail(AbstractJsonLexer.kt:580)
	at kotlinx.serialization.json.internal.AbstractJsonLexer.failOnUnknownKey(AbstractJsonLexer.kt:575)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.handleUnknown(StreamingJsonDecoder.kt:257)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeObjectIndex(StreamingJsonDecoder.kt:243)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeElementIndex(StreamingJsonDecoder.kt:178)
	at com.sharcar.api.dto.CreateTravelDto$$serializer.deserialize(CreateTravelDto.kt:5)
	at com.sharcar.api.dto.CreateTravelDto$$serializer.deserialize(CreateTravelDto.kt:5)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeSerializableValue(StreamingJsonDecoder.kt:69)
	at kotlinx.serialization.json.Json.decodeFromString(Json.kt:165)
	at io.ktor.serialization.kotlinx.KotlinxSerializationConverter.deserialize(KotlinxSerializationConverter.kt:69)
	... 98 common frames omitted
2024-11-29 13:32:24.482 [DefaultDispatcher-worker-4 @request#15] TRACE i.k.s.p.c.ContentNegotiation - Skipping response body transformation from HttpStatusCode to OutgoingContent for the POST /travel/create request because the HttpStatusCode type is ignored. See [ContentNegotiationConfig::ignoreType].
2024-11-29 13:32:24.483 [DefaultDispatcher-worker-4] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/create
2024-11-29 13:32:24.483 [DefaultDispatcher-worker-4] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/create
2024-11-29 13:32:24.491 [DefaultDispatcher-worker-4] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/create
2024-11-29 13:32:24.492 [DefaultDispatcher-worker-4] TRACE i.k.c.p.c.ContentNegotiation - Converted request body using io.ktor.serialization.kotlinx.KotlinxSerializationConverter@231b89a4 for http:///travel/create
2024-11-29 13:32:24.492 [DefaultDispatcher-worker-4] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/create
2024-11-29 13:32:24.492 [DefaultDispatcher-worker-4] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/create from class io.ktor.http.content.TextContent
2024-11-29 13:32:24.495 [DefaultDispatcher-worker-4 @call-context#24] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:32:24.496 [DefaultDispatcher-worker-4 @call-context#24] INFO  io.ktor.test - Application started in 0.001 seconds.
2024-11-29 13:32:24.497 [DefaultDispatcher-worker-6 @coroutine#25] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:32:24.497 [DefaultDispatcher-worker-6 @coroutine#25] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:32:24.498 [DefaultDispatcher-worker-4 @request#24] TRACE io.ktor.server.routing.Routing - Trace for [travel, create]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:2 -> SUCCESS @ /travel/create
      /travel/create/(method:POST), segment:2 -> SUCCESS @ /travel/create/(method:POST)
    /travel/addPassenger, segment:1 -> FAILURE "Selector didn't match" @ /travel/addPassenger
    /travel/swapTravel, segment:1 -> FAILURE "Selector didn't match" @ /travel/swapTravel
Matched routes:
  "" -> "travel" -> "create" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/create/(method:POST)
2024-11-29 13:32:24.499 [DefaultDispatcher-worker-4 @request#24] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.CreateTravelDto) for call /travel/create
2024-11-29 13:32:24.499 [DefaultDispatcher-worker-4 @request#24] INFO  io.ktor.test - Creating travel from usuario@gmail.com
2024-11-29 13:32:24.500 [DefaultDispatcher-worker-4 @request#24] INFO  io.ktor.test - Created travel from usuario@gmail.com
2024-11-29 13:32:24.502 [DefaultDispatcher-worker-4] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/create
2024-11-29 13:32:24.502 [DefaultDispatcher-worker-4] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/create
2024-11-29 13:32:24.503 [DefaultDispatcher-worker-4] TRACE i.k.c.p.c.ContentNegotiation - Response body was converted to class com.sharcar.domain.usecases.model.CreationInscriptionResult for http://localhost/travel/create.
2024-11-29 13:32:24.510 [DefaultDispatcher-worker-4] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/create
2024-11-29 13:32:24.511 [DefaultDispatcher-worker-4] TRACE i.k.c.p.c.ContentNegotiation - Body type class kotlin.String is in ignored types. Skipping ContentNegotiation for http:///travel/create.
2024-11-29 13:32:24.511 [DefaultDispatcher-worker-4] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/create
2024-11-29 13:32:24.511 [DefaultDispatcher-worker-4] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/create from class kotlin.String
2024-11-29 13:32:24.512 [DefaultDispatcher-worker-6 @call-context#36] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:32:24.513 [DefaultDispatcher-worker-6 @call-context#36] INFO  io.ktor.test - Application started in 0.001 seconds.
2024-11-29 13:32:24.513 [DefaultDispatcher-worker-4 @coroutine#37] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:32:24.513 [DefaultDispatcher-worker-4 @coroutine#37] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:32:24.514 [DefaultDispatcher-worker-6 @request#36] TRACE io.ktor.server.routing.Routing - Trace for [travel, create]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:2 -> SUCCESS @ /travel/create
      /travel/create/(method:POST), segment:2 -> SUCCESS @ /travel/create/(method:POST)
    /travel/addPassenger, segment:1 -> FAILURE "Selector didn't match" @ /travel/addPassenger
    /travel/swapTravel, segment:1 -> FAILURE "Selector didn't match" @ /travel/swapTravel
Matched routes:
  "" -> "travel" -> "create" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/create/(method:POST)
2024-11-29 13:32:24.515 [DefaultDispatcher-worker-6 @request#36] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.CreateTravelDto) for call /travel/create
2024-11-29 13:32:24.516 [DefaultDispatcher-worker-6 @request#36] DEBUG io.ktor.test - Unhandled: POST - /travel/create. Exception class io.ktor.server.plugins.BadRequestException: Failed to convert request body to class com.sharcar.api.dto.CreateTravelDto
io.ktor.server.plugins.BadRequestException: Failed to convert request body to class com.sharcar.api.dto.CreateTravelDto
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.convertBody(RequestConverter.kt:69)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.access$convertBody(RequestConverter.kt:1)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invokeSuspend(RequestConverter.kt:40)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invoke(RequestConverter.kt)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invoke(RequestConverter.kt)
	at io.ktor.server.application.OnCallReceiveContext.transformBody(KtorCallContexts.kt:64)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invokeSuspend(RequestConverter.kt:28)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invoke(RequestConverter.kt)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invoke(RequestConverter.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invokeSuspend(PluginBuilder.kt:165)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invokeSuspend(PluginBuilder.kt:109)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invokeSuspend(PluginBuilder.kt:217)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invokeSuspend(PluginBuilder.kt:200)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invoke(PluginBuilder.kt)
	at io.ktor.util.debug.ContextUtilsKt.addToContextInDebugMode(ContextUtils.kt:30)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invokeSuspend(PluginBuilder.kt:196)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invoke(PluginBuilder.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.application.PipelineCall$DefaultImpls.receiveNullable(PipelineCall.kt:92)
	at io.ktor.server.routing.RoutingPipelineCall.receiveNullable(RoutingPipelineCall.kt:20)
	at io.ktor.server.routing.RoutingCall.receiveNullable(RoutingNode.kt:226)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invokeSuspend(TravelApi.kt:54)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invoke(TravelApi.kt)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invoke(TravelApi.kt)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invokeSuspend(RoutingNode.kt:116)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invoke(RoutingNode.kt)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invoke(RoutingNode.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.routing.RoutingRoot.executeResult(RoutingRoot.kt:193)
	at io.ktor.server.routing.RoutingRoot.interceptor(RoutingRoot.kt:66)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invokeSuspend(RoutingRoot.kt:143)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invoke(RoutingRoot.kt)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invoke(RoutingRoot.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invokeSuspend(BaseApplicationEngine.kt:112)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invoke(BaseApplicationEngine.kt)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invoke(BaseApplicationEngine.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.testing.TestApplicationEngine$2.invokeSuspend(TestApplicationEngine.kt:222)
	at io.ktor.server.testing.TestApplicationEngine$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$1.invokeSuspend(TestApplicationEngine.kt:96)
	at io.ktor.server.testing.TestApplicationEngine$1.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$1.invoke(TestApplicationEngine.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invokeSuspend(TestApplicationEngine.kt:221)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invoke(TestApplicationEngine.kt)
	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndispatchedOrReturn(Undispatched.kt:42)
	at kotlinx.coroutines.BuildersKt__Builders_commonKt.withContext(Builders.common.kt:164)
	at kotlinx.coroutines.BuildersKt.withContext(Unknown Source)
	at io.ktor.server.testing.TestApplicationEngine.handleRequest$ktor_server_test_host(TestApplicationEngine.kt:186)
	at io.ktor.server.testing.TestApplicationEngine.handleRequest$ktor_server_test_host$default(TestApplicationEngine.kt:169)
	at io.ktor.server.testing.client.TestHttpClientEngine.runRequest(TestHttpClientEngine.kt:89)
	at io.ktor.server.testing.client.TestHttpClientEngine.execute(TestHttpClientEngine.kt:56)
	at io.ktor.server.testing.client.DelegatingTestClientEngine.execute(DelegatingTestClientEngine.kt:58)
	at io.ktor.server.testing.client.DelegatingTestClientEngine$execute$1.invokeSuspend(DelegatingTestClientEngine.kt)
	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:101)
	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:113)
	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:89)
	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:589)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:823)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:720)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:707)
Caused by: io.ktor.serialization.JsonConvertException: Illegal input: Unexpected JSON token at offset 7: Encountered an unknown key 'id' at path: $
Use 'ignoreUnknownKeys = true' in 'Json {}' builder to ignore unknown keys.
JSON input: {
    "id": 1
}
	at io.ktor.serialization.kotlinx.KotlinxSerializationConverter.deserialize(KotlinxSerializationConverter.kt:77)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.convertBody(RequestConverter.kt:67)
	... 97 common frames omitted
Caused by: kotlinx.serialization.json.internal.JsonDecodingException: Unexpected JSON token at offset 7: Encountered an unknown key 'id' at path: $
Use 'ignoreUnknownKeys = true' in 'Json {}' builder to ignore unknown keys.
JSON input: {
    "id": 1
}
	at kotlinx.serialization.json.internal.JsonExceptionsKt.JsonDecodingException(JsonExceptions.kt:24)
	at kotlinx.serialization.json.internal.JsonExceptionsKt.JsonDecodingException(JsonExceptions.kt:32)
	at kotlinx.serialization.json.internal.AbstractJsonLexer.fail(AbstractJsonLexer.kt:580)
	at kotlinx.serialization.json.internal.AbstractJsonLexer.failOnUnknownKey(AbstractJsonLexer.kt:575)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.handleUnknown(StreamingJsonDecoder.kt:257)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeObjectIndex(StreamingJsonDecoder.kt:243)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeElementIndex(StreamingJsonDecoder.kt:178)
	at com.sharcar.api.dto.CreateTravelDto$$serializer.deserialize(CreateTravelDto.kt:5)
	at com.sharcar.api.dto.CreateTravelDto$$serializer.deserialize(CreateTravelDto.kt:5)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeSerializableValue(StreamingJsonDecoder.kt:69)
	at kotlinx.serialization.json.Json.decodeFromString(Json.kt:165)
	at io.ktor.serialization.kotlinx.KotlinxSerializationConverter.deserialize(KotlinxSerializationConverter.kt:69)
	... 98 common frames omitted
2024-11-29 13:32:24.516 [DefaultDispatcher-worker-6 @request#36] TRACE i.k.s.p.c.ContentNegotiation - Skipping response body transformation from HttpStatusCode to OutgoingContent for the POST /travel/create request because the HttpStatusCode type is ignored. See [ContentNegotiationConfig::ignoreType].
2024-11-29 13:32:24.517 [DefaultDispatcher-worker-5] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/create
2024-11-29 13:32:24.517 [DefaultDispatcher-worker-5] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/create
2024-11-29 13:32:24.528 [DefaultDispatcher-worker-5] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/swapTravel
2024-11-29 13:32:24.529 [DefaultDispatcher-worker-5] TRACE i.k.c.p.c.ContentNegotiation - Converted request body using io.ktor.serialization.kotlinx.KotlinxSerializationConverter@55a3b923 for http:///travel/swapTravel
2024-11-29 13:32:24.530 [DefaultDispatcher-worker-5] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/swapTravel
2024-11-29 13:32:24.530 [DefaultDispatcher-worker-5] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/swapTravel from class io.ktor.http.content.TextContent
2024-11-29 13:32:24.531 [DefaultDispatcher-worker-5 @call-context#45] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:32:24.532 [DefaultDispatcher-worker-5 @call-context#45] INFO  io.ktor.test - Application started in 0.002 seconds.
2024-11-29 13:32:24.532 [DefaultDispatcher-worker-4 @coroutine#46] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:32:24.532 [DefaultDispatcher-worker-4 @coroutine#46] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:32:24.533 [DefaultDispatcher-worker-4 @request#45] TRACE io.ktor.server.routing.Routing - Trace for [travel, swapTravel]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:1 -> FAILURE "Selector didn't match" @ /travel/create
    /travel/addPassenger, segment:1 -> FAILURE "Selector didn't match" @ /travel/addPassenger
    /travel/swapTravel, segment:2 -> SUCCESS @ /travel/swapTravel
      /travel/swapTravel/(method:POST), segment:2 -> SUCCESS @ /travel/swapTravel/(method:POST)
Matched routes:
  "" -> "travel" -> "swapTravel" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/swapTravel/(method:POST)
2024-11-29 13:32:24.534 [DefaultDispatcher-worker-4 @request#45] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.SwapTravelDto) for call /travel/swapTravel
2024-11-29 13:32:24.537 [DefaultDispatcher-worker-4 @request#45] INFO  io.ktor.test - Swapping travel 2 to 1
2024-11-29 13:32:24.541 [DefaultDispatcher-worker-4 @request#45] INFO  io.ktor.test - Swapping travel 2 to 1 was false
2024-11-29 13:32:24.544 [DefaultDispatcher-worker-5] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/swapTravel
2024-11-29 13:32:24.544 [DefaultDispatcher-worker-5] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/swapTravel
2024-11-29 13:32:24.545 [DefaultDispatcher-worker-5] TRACE i.k.c.p.c.ContentNegotiation - Response body was converted to class com.sharcar.domain.usecases.model.SwapTravelToNewOneResult for http://localhost/travel/swapTravel.
2024-11-29 13:32:24.554 [DefaultDispatcher-worker-5] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/addPassenger
2024-11-29 13:32:24.555 [DefaultDispatcher-worker-5] TRACE i.k.c.p.c.ContentNegotiation - Converted request body using io.ktor.serialization.kotlinx.KotlinxSerializationConverter@22f44502 for http:///travel/addPassenger
2024-11-29 13:32:24.556 [DefaultDispatcher-worker-5] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/addPassenger
2024-11-29 13:32:24.556 [DefaultDispatcher-worker-5] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/addPassenger from class io.ktor.http.content.TextContent
2024-11-29 13:32:24.557 [DefaultDispatcher-worker-5 @call-context#57] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:32:24.558 [DefaultDispatcher-worker-5 @call-context#57] INFO  io.ktor.test - Application started in 0.002 seconds.
2024-11-29 13:32:24.558 [DefaultDispatcher-worker-6 @coroutine#58] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:32:24.558 [DefaultDispatcher-worker-6 @coroutine#58] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:32:24.559 [DefaultDispatcher-worker-5 @request#57] TRACE io.ktor.server.routing.Routing - Trace for [travel, addPassenger]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:1 -> FAILURE "Selector didn't match" @ /travel/create
    /travel/addPassenger, segment:2 -> SUCCESS @ /travel/addPassenger
      /travel/addPassenger/(method:POST), segment:2 -> SUCCESS @ /travel/addPassenger/(method:POST)
    /travel/swapTravel, segment:1 -> FAILURE "Selector didn't match" @ /travel/swapTravel
Matched routes:
  "" -> "travel" -> "addPassenger" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/addPassenger/(method:POST)
2024-11-29 13:32:24.559 [DefaultDispatcher-worker-5 @request#57] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.AddPassengerDto) for call /travel/addPassenger
2024-11-29 13:32:24.561 [DefaultDispatcher-worker-5 @request#57] INFO  io.ktor.test - Adding passenger prueba@gmail.com to travel 1
2024-11-29 13:32:24.562 [DefaultDispatcher-worker-5 @request#57] INFO  io.ktor.test - Adding passenger prueba@gmail.com was false
2024-11-29 13:32:24.566 [DefaultDispatcher-worker-6] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/addPassenger
2024-11-29 13:32:24.566 [DefaultDispatcher-worker-6] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/addPassenger
2024-11-29 13:32:24.567 [DefaultDispatcher-worker-6] TRACE i.k.c.p.c.ContentNegotiation - Response body was converted to class com.sharcar.domain.usecases.model.AddPassengerResult for http://localhost/travel/addPassenger.
2024-11-29 13:32:24.573 [DefaultDispatcher-worker-6] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/addPassenger
2024-11-29 13:32:24.574 [DefaultDispatcher-worker-6] TRACE i.k.c.p.c.ContentNegotiation - Converted request body using io.ktor.serialization.kotlinx.KotlinxSerializationConverter@7e0c47d8 for http:///travel/addPassenger
2024-11-29 13:32:24.574 [DefaultDispatcher-worker-6] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/addPassenger
2024-11-29 13:32:24.574 [DefaultDispatcher-worker-6] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/addPassenger from class io.ktor.http.content.TextContent
2024-11-29 13:32:24.575 [DefaultDispatcher-worker-6 @call-context#69] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:32:24.576 [DefaultDispatcher-worker-6 @call-context#69] INFO  io.ktor.test - Application started in 0.001 seconds.
2024-11-29 13:32:24.577 [DefaultDispatcher-worker-3 @coroutine#70] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:32:24.577 [DefaultDispatcher-worker-3 @coroutine#70] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:32:24.578 [DefaultDispatcher-worker-6 @request#69] TRACE io.ktor.server.routing.Routing - Trace for [travel, addPassenger]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:1 -> FAILURE "Selector didn't match" @ /travel/create
    /travel/addPassenger, segment:2 -> SUCCESS @ /travel/addPassenger
      /travel/addPassenger/(method:POST), segment:2 -> SUCCESS @ /travel/addPassenger/(method:POST)
    /travel/swapTravel, segment:1 -> FAILURE "Selector didn't match" @ /travel/swapTravel
Matched routes:
  "" -> "travel" -> "addPassenger" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/addPassenger/(method:POST)
2024-11-29 13:32:24.579 [DefaultDispatcher-worker-6 @request#69] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.AddPassengerDto) for call /travel/addPassenger
2024-11-29 13:32:24.580 [DefaultDispatcher-worker-6 @request#69] INFO  io.ktor.test - Adding passenger prueba@gmail.com to travel 1
2024-11-29 13:32:24.580 [DefaultDispatcher-worker-6 @request#69] INFO  io.ktor.test - Adding passenger prueba@gmail.com was true
2024-11-29 13:32:24.582 [DefaultDispatcher-worker-5] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/addPassenger
2024-11-29 13:32:24.582 [DefaultDispatcher-worker-5] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/addPassenger
2024-11-29 13:32:24.584 [DefaultDispatcher-worker-5] TRACE i.k.c.p.c.ContentNegotiation - Response body was converted to class com.sharcar.domain.usecases.model.AddPassengerResult for http://localhost/travel/addPassenger.
2024-11-29 13:32:24.593 [DefaultDispatcher-worker-5] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/create
2024-11-29 13:32:24.594 [DefaultDispatcher-worker-5] TRACE i.k.c.p.c.ContentNegotiation - Body type class kotlin.String is in ignored types. Skipping ContentNegotiation for http:///travel/create.
2024-11-29 13:32:24.594 [DefaultDispatcher-worker-5] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/create
2024-11-29 13:32:24.594 [DefaultDispatcher-worker-5] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/create from class kotlin.String
2024-11-29 13:32:24.596 [DefaultDispatcher-worker-3 @call-context#81] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:32:24.597 [DefaultDispatcher-worker-3 @call-context#81] INFO  io.ktor.test - Application started in 0.002 seconds.
2024-11-29 13:32:24.597 [DefaultDispatcher-worker-6 @coroutine#82] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:32:24.597 [DefaultDispatcher-worker-6 @coroutine#82] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:32:24.599 [DefaultDispatcher-worker-3 @request#81] TRACE io.ktor.server.routing.Routing - Trace for [travel, create]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:2 -> SUCCESS @ /travel/create
      /travel/create/(method:POST), segment:2 -> SUCCESS @ /travel/create/(method:POST)
    /travel/addPassenger, segment:1 -> FAILURE "Selector didn't match" @ /travel/addPassenger
    /travel/swapTravel, segment:1 -> FAILURE "Selector didn't match" @ /travel/swapTravel
Matched routes:
  "" -> "travel" -> "create" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/create/(method:POST)
2024-11-29 13:32:24.600 [DefaultDispatcher-worker-3 @request#81] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.CreateTravelDto) for call /travel/create
2024-11-29 13:32:24.601 [DefaultDispatcher-worker-3 @request#81] DEBUG io.ktor.test - Unhandled: POST - /travel/create. Exception class io.ktor.server.plugins.BadRequestException: Failed to convert request body to class com.sharcar.api.dto.CreateTravelDto
io.ktor.server.plugins.BadRequestException: Failed to convert request body to class com.sharcar.api.dto.CreateTravelDto
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.convertBody(RequestConverter.kt:69)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.access$convertBody(RequestConverter.kt:1)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invokeSuspend(RequestConverter.kt:40)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invoke(RequestConverter.kt)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invoke(RequestConverter.kt)
	at io.ktor.server.application.OnCallReceiveContext.transformBody(KtorCallContexts.kt:64)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invokeSuspend(RequestConverter.kt:28)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invoke(RequestConverter.kt)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invoke(RequestConverter.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invokeSuspend(PluginBuilder.kt:165)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invokeSuspend(PluginBuilder.kt:109)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invokeSuspend(PluginBuilder.kt:217)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invokeSuspend(PluginBuilder.kt:200)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invoke(PluginBuilder.kt)
	at io.ktor.util.debug.ContextUtilsKt.addToContextInDebugMode(ContextUtils.kt:30)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invokeSuspend(PluginBuilder.kt:196)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invoke(PluginBuilder.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.application.PipelineCall$DefaultImpls.receiveNullable(PipelineCall.kt:92)
	at io.ktor.server.routing.RoutingPipelineCall.receiveNullable(RoutingPipelineCall.kt:20)
	at io.ktor.server.routing.RoutingCall.receiveNullable(RoutingNode.kt:226)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invokeSuspend(TravelApi.kt:54)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invoke(TravelApi.kt)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invoke(TravelApi.kt)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invokeSuspend(RoutingNode.kt:116)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invoke(RoutingNode.kt)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invoke(RoutingNode.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.routing.RoutingRoot.executeResult(RoutingRoot.kt:193)
	at io.ktor.server.routing.RoutingRoot.interceptor(RoutingRoot.kt:66)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invokeSuspend(RoutingRoot.kt:143)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invoke(RoutingRoot.kt)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invoke(RoutingRoot.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invokeSuspend(BaseApplicationEngine.kt:112)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invoke(BaseApplicationEngine.kt)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invoke(BaseApplicationEngine.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.testing.TestApplicationEngine$2.invokeSuspend(TestApplicationEngine.kt:222)
	at io.ktor.server.testing.TestApplicationEngine$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$1.invokeSuspend(TestApplicationEngine.kt:96)
	at io.ktor.server.testing.TestApplicationEngine$1.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$1.invoke(TestApplicationEngine.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invokeSuspend(TestApplicationEngine.kt:221)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invoke(TestApplicationEngine.kt)
	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndispatchedOrReturn(Undispatched.kt:42)
	at kotlinx.coroutines.BuildersKt__Builders_commonKt.withContext(Builders.common.kt:164)
	at kotlinx.coroutines.BuildersKt.withContext(Unknown Source)
	at io.ktor.server.testing.TestApplicationEngine.handleRequest$ktor_server_test_host(TestApplicationEngine.kt:186)
	at io.ktor.server.testing.TestApplicationEngine.handleRequest$ktor_server_test_host$default(TestApplicationEngine.kt:169)
	at io.ktor.server.testing.client.TestHttpClientEngine.runRequest(TestHttpClientEngine.kt:89)
	at io.ktor.server.testing.client.TestHttpClientEngine.execute(TestHttpClientEngine.kt:56)
	at io.ktor.server.testing.client.DelegatingTestClientEngine.execute(DelegatingTestClientEngine.kt:58)
	at io.ktor.server.testing.client.DelegatingTestClientEngine$execute$1.invokeSuspend(DelegatingTestClientEngine.kt)
	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:101)
	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:113)
	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:89)
	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:589)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:823)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:720)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:707)
Caused by: io.ktor.serialization.JsonConvertException: Illegal input: Unexpected JSON token at offset 7: Encountered an unknown key 'id' at path: $
Use 'ignoreUnknownKeys = true' in 'Json {}' builder to ignore unknown keys.
JSON input: {
    "id": 1
}
	at io.ktor.serialization.kotlinx.KotlinxSerializationConverter.deserialize(KotlinxSerializationConverter.kt:77)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.convertBody(RequestConverter.kt:67)
	... 97 common frames omitted
Caused by: kotlinx.serialization.json.internal.JsonDecodingException: Unexpected JSON token at offset 7: Encountered an unknown key 'id' at path: $
Use 'ignoreUnknownKeys = true' in 'Json {}' builder to ignore unknown keys.
JSON input: {
    "id": 1
}
	at kotlinx.serialization.json.internal.JsonExceptionsKt.JsonDecodingException(JsonExceptions.kt:24)
	at kotlinx.serialization.json.internal.JsonExceptionsKt.JsonDecodingException(JsonExceptions.kt:32)
	at kotlinx.serialization.json.internal.AbstractJsonLexer.fail(AbstractJsonLexer.kt:580)
	at kotlinx.serialization.json.internal.AbstractJsonLexer.failOnUnknownKey(AbstractJsonLexer.kt:575)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.handleUnknown(StreamingJsonDecoder.kt:257)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeObjectIndex(StreamingJsonDecoder.kt:243)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeElementIndex(StreamingJsonDecoder.kt:178)
	at com.sharcar.api.dto.CreateTravelDto$$serializer.deserialize(CreateTravelDto.kt:5)
	at com.sharcar.api.dto.CreateTravelDto$$serializer.deserialize(CreateTravelDto.kt:5)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeSerializableValue(StreamingJsonDecoder.kt:69)
	at kotlinx.serialization.json.Json.decodeFromString(Json.kt:165)
	at io.ktor.serialization.kotlinx.KotlinxSerializationConverter.deserialize(KotlinxSerializationConverter.kt:69)
	... 98 common frames omitted
2024-11-29 13:32:24.602 [DefaultDispatcher-worker-3 @request#81] TRACE i.k.s.p.c.ContentNegotiation - Skipping response body transformation from HttpStatusCode to OutgoingContent for the POST /travel/create request because the HttpStatusCode type is ignored. See [ContentNegotiationConfig::ignoreType].
2024-11-29 13:32:24.603 [DefaultDispatcher-worker-3] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/create
2024-11-29 13:32:24.604 [DefaultDispatcher-worker-3] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/create
2024-11-29 13:32:24.615 [DefaultDispatcher-worker-3] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/swapTravel
2024-11-29 13:32:24.616 [DefaultDispatcher-worker-3] TRACE i.k.c.p.c.ContentNegotiation - Converted request body using io.ktor.serialization.kotlinx.KotlinxSerializationConverter@74a03927 for http:///travel/swapTravel
2024-11-29 13:32:24.617 [DefaultDispatcher-worker-3] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/swapTravel
2024-11-29 13:32:24.617 [DefaultDispatcher-worker-3] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/swapTravel from class io.ktor.http.content.TextContent
2024-11-29 13:32:24.619 [DefaultDispatcher-worker-3 @call-context#90] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:32:24.620 [DefaultDispatcher-worker-3 @call-context#90] INFO  io.ktor.test - Application started in 0.002 seconds.
2024-11-29 13:32:24.624 [DefaultDispatcher-worker-2 @coroutine#91] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:32:24.624 [DefaultDispatcher-worker-2 @coroutine#91] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:32:24.627 [DefaultDispatcher-worker-3 @request#90] TRACE io.ktor.server.routing.Routing - Trace for [travel, swapTravel]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:1 -> FAILURE "Selector didn't match" @ /travel/create
    /travel/addPassenger, segment:1 -> FAILURE "Selector didn't match" @ /travel/addPassenger
    /travel/swapTravel, segment:2 -> SUCCESS @ /travel/swapTravel
      /travel/swapTravel/(method:POST), segment:2 -> SUCCESS @ /travel/swapTravel/(method:POST)
Matched routes:
  "" -> "travel" -> "swapTravel" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/swapTravel/(method:POST)
2024-11-29 13:32:24.628 [DefaultDispatcher-worker-3 @request#90] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.SwapTravelDto) for call /travel/swapTravel
2024-11-29 13:32:24.629 [DefaultDispatcher-worker-3 @request#90] INFO  io.ktor.test - Swapping travel 2 to 1
2024-11-29 13:32:24.630 [DefaultDispatcher-worker-3 @request#90] INFO  io.ktor.test - Swapping travel 2 to 1 was true
2024-11-29 13:32:24.633 [DefaultDispatcher-worker-7] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/swapTravel
2024-11-29 13:32:24.634 [DefaultDispatcher-worker-7] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/swapTravel
2024-11-29 13:32:24.635 [DefaultDispatcher-worker-7] TRACE i.k.c.p.c.ContentNegotiation - Response body was converted to class com.sharcar.domain.usecases.model.SwapTravelToNewOneResult for http://localhost/travel/swapTravel.
2024-11-29 13:32:59.316 [DefaultDispatcher-worker-1] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/create
2024-11-29 13:32:59.346 [DefaultDispatcher-worker-1] TRACE i.k.c.p.c.ContentNegotiation - Converted request body using io.ktor.serialization.kotlinx.KotlinxSerializationConverter@4bcfbcfe for http:///travel/create
2024-11-29 13:32:59.347 [DefaultDispatcher-worker-1] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/create
2024-11-29 13:32:59.347 [DefaultDispatcher-worker-1] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/create from class io.ktor.http.content.TextContent
2024-11-29 13:32:59.415 [DefaultDispatcher-worker-2 @call-context#3] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:32:59.460 [DefaultDispatcher-worker-2 @call-context#3] INFO  io.ktor.test - Application started in 0.062 seconds.
2024-11-29 13:32:59.462 [DefaultDispatcher-worker-1 @coroutine#4] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:32:59.463 [DefaultDispatcher-worker-1 @coroutine#4] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:32:59.505 [DefaultDispatcher-worker-2 @request#3] TRACE io.ktor.server.routing.Routing - Trace for [travel, create]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:2 -> SUCCESS @ /travel/create
      /travel/create/(method:POST), segment:2 -> SUCCESS @ /travel/create/(method:POST)
    /travel/addPassenger, segment:1 -> FAILURE "Selector didn't match" @ /travel/addPassenger
    /travel/swapTravel, segment:1 -> FAILURE "Selector didn't match" @ /travel/swapTravel
Matched routes:
  "" -> "travel" -> "create" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/create/(method:POST)
2024-11-29 13:32:59.531 [DefaultDispatcher-worker-2 @request#3] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.CreateTravelDto) for call /travel/create
2024-11-29 13:32:59.559 [DefaultDispatcher-worker-2 @request#3] INFO  io.ktor.test - Creating travel from usuario@gmail.com
2024-11-29 13:32:59.564 [DefaultDispatcher-worker-2 @request#3] INFO  io.ktor.test - Created travel from usuario@gmail.com
2024-11-29 13:32:59.615 [DefaultDispatcher-worker-2] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/create
2024-11-29 13:32:59.615 [DefaultDispatcher-worker-2] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/create
2024-11-29 13:32:59.631 [DefaultDispatcher-worker-2] TRACE i.k.c.p.c.ContentNegotiation - Response body was converted to class com.sharcar.domain.usecases.model.CreationInscriptionResult for http://localhost/travel/create.
2024-11-29 13:32:59.661 [DefaultDispatcher-worker-2] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/create
2024-11-29 13:32:59.661 [DefaultDispatcher-worker-2] TRACE i.k.c.p.c.ContentNegotiation - Body type class kotlin.String is in ignored types. Skipping ContentNegotiation for http:///travel/create.
2024-11-29 13:32:59.661 [DefaultDispatcher-worker-2] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/create
2024-11-29 13:32:59.662 [DefaultDispatcher-worker-2] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/create from class kotlin.String
2024-11-29 13:32:59.663 [DefaultDispatcher-worker-2 @call-context#15] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:32:59.664 [DefaultDispatcher-worker-2 @call-context#15] INFO  io.ktor.test - Application started in 0.002 seconds.
2024-11-29 13:32:59.665 [DefaultDispatcher-worker-4 @coroutine#16] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:32:59.665 [DefaultDispatcher-worker-4 @coroutine#16] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:32:59.666 [DefaultDispatcher-worker-2 @request#15] TRACE io.ktor.server.routing.Routing - Trace for [travel, create]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:2 -> SUCCESS @ /travel/create
      /travel/create/(method:POST), segment:2 -> SUCCESS @ /travel/create/(method:POST)
    /travel/addPassenger, segment:1 -> FAILURE "Selector didn't match" @ /travel/addPassenger
    /travel/swapTravel, segment:1 -> FAILURE "Selector didn't match" @ /travel/swapTravel
Matched routes:
  "" -> "travel" -> "create" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/create/(method:POST)
2024-11-29 13:32:59.666 [DefaultDispatcher-worker-2 @request#15] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.CreateTravelDto) for call /travel/create
2024-11-29 13:32:59.673 [DefaultDispatcher-worker-2 @request#15] DEBUG io.ktor.test - Unhandled: POST - /travel/create. Exception class io.ktor.server.plugins.BadRequestException: Failed to convert request body to class com.sharcar.api.dto.CreateTravelDto
io.ktor.server.plugins.BadRequestException: Failed to convert request body to class com.sharcar.api.dto.CreateTravelDto
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.convertBody(RequestConverter.kt:69)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.access$convertBody(RequestConverter.kt:1)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invokeSuspend(RequestConverter.kt:40)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invoke(RequestConverter.kt)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invoke(RequestConverter.kt)
	at io.ktor.server.application.OnCallReceiveContext.transformBody(KtorCallContexts.kt:64)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invokeSuspend(RequestConverter.kt:28)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invoke(RequestConverter.kt)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invoke(RequestConverter.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invokeSuspend(PluginBuilder.kt:165)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invokeSuspend(PluginBuilder.kt:109)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invokeSuspend(PluginBuilder.kt:217)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invokeSuspend(PluginBuilder.kt:200)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invoke(PluginBuilder.kt)
	at io.ktor.util.debug.ContextUtilsKt.addToContextInDebugMode(ContextUtils.kt:30)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invokeSuspend(PluginBuilder.kt:196)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invoke(PluginBuilder.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.application.PipelineCall$DefaultImpls.receiveNullable(PipelineCall.kt:92)
	at io.ktor.server.routing.RoutingPipelineCall.receiveNullable(RoutingPipelineCall.kt:20)
	at io.ktor.server.routing.RoutingCall.receiveNullable(RoutingNode.kt:226)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invokeSuspend(TravelApi.kt:54)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invoke(TravelApi.kt)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invoke(TravelApi.kt)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invokeSuspend(RoutingNode.kt:116)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invoke(RoutingNode.kt)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invoke(RoutingNode.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.routing.RoutingRoot.executeResult(RoutingRoot.kt:193)
	at io.ktor.server.routing.RoutingRoot.interceptor(RoutingRoot.kt:66)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invokeSuspend(RoutingRoot.kt:143)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invoke(RoutingRoot.kt)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invoke(RoutingRoot.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invokeSuspend(BaseApplicationEngine.kt:112)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invoke(BaseApplicationEngine.kt)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invoke(BaseApplicationEngine.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.testing.TestApplicationEngine$2.invokeSuspend(TestApplicationEngine.kt:222)
	at io.ktor.server.testing.TestApplicationEngine$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$1.invokeSuspend(TestApplicationEngine.kt:96)
	at io.ktor.server.testing.TestApplicationEngine$1.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$1.invoke(TestApplicationEngine.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invokeSuspend(TestApplicationEngine.kt:221)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invoke(TestApplicationEngine.kt)
	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndispatchedOrReturn(Undispatched.kt:42)
	at kotlinx.coroutines.BuildersKt__Builders_commonKt.withContext(Builders.common.kt:164)
	at kotlinx.coroutines.BuildersKt.withContext(Unknown Source)
	at io.ktor.server.testing.TestApplicationEngine.handleRequest$ktor_server_test_host(TestApplicationEngine.kt:186)
	at io.ktor.server.testing.TestApplicationEngine.handleRequest$ktor_server_test_host$default(TestApplicationEngine.kt:169)
	at io.ktor.server.testing.client.TestHttpClientEngine.runRequest(TestHttpClientEngine.kt:89)
	at io.ktor.server.testing.client.TestHttpClientEngine.execute(TestHttpClientEngine.kt:56)
	at io.ktor.server.testing.client.DelegatingTestClientEngine.execute(DelegatingTestClientEngine.kt:58)
	at io.ktor.server.testing.client.DelegatingTestClientEngine$execute$1.invokeSuspend(DelegatingTestClientEngine.kt)
	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:101)
	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:113)
	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:89)
	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:589)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:823)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:720)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:707)
Caused by: io.ktor.serialization.JsonConvertException: Illegal input: Unexpected JSON token at offset 7: Encountered an unknown key 'id' at path: $
Use 'ignoreUnknownKeys = true' in 'Json {}' builder to ignore unknown keys.
JSON input: {
    "id": 1,
    "date": "2007-12-03T10:15:30",
    "place": "Gasolinera",
    "driverId": 1,
}
	at io.ktor.serialization.kotlinx.KotlinxSerializationConverter.deserialize(KotlinxSerializationConverter.kt:77)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.convertBody(RequestConverter.kt:67)
	... 97 common frames omitted
Caused by: kotlinx.serialization.json.internal.JsonDecodingException: Unexpected JSON token at offset 7: Encountered an unknown key 'id' at path: $
Use 'ignoreUnknownKeys = true' in 'Json {}' builder to ignore unknown keys.
JSON input: {
    "id": 1,
    "date": "2007-12-03T10:15:30",
    "place": "Gasolinera",
    "driverId": 1,
}
	at kotlinx.serialization.json.internal.JsonExceptionsKt.JsonDecodingException(JsonExceptions.kt:24)
	at kotlinx.serialization.json.internal.JsonExceptionsKt.JsonDecodingException(JsonExceptions.kt:32)
	at kotlinx.serialization.json.internal.AbstractJsonLexer.fail(AbstractJsonLexer.kt:580)
	at kotlinx.serialization.json.internal.AbstractJsonLexer.failOnUnknownKey(AbstractJsonLexer.kt:575)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.handleUnknown(StreamingJsonDecoder.kt:257)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeObjectIndex(StreamingJsonDecoder.kt:243)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeElementIndex(StreamingJsonDecoder.kt:178)
	at com.sharcar.api.dto.CreateTravelDto$$serializer.deserialize(CreateTravelDto.kt:5)
	at com.sharcar.api.dto.CreateTravelDto$$serializer.deserialize(CreateTravelDto.kt:5)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeSerializableValue(StreamingJsonDecoder.kt:69)
	at kotlinx.serialization.json.Json.decodeFromString(Json.kt:165)
	at io.ktor.serialization.kotlinx.KotlinxSerializationConverter.deserialize(KotlinxSerializationConverter.kt:69)
	... 98 common frames omitted
2024-11-29 13:32:59.676 [DefaultDispatcher-worker-2 @request#15] TRACE i.k.s.p.c.ContentNegotiation - Skipping response body transformation from HttpStatusCode to OutgoingContent for the POST /travel/create request because the HttpStatusCode type is ignored. See [ContentNegotiationConfig::ignoreType].
2024-11-29 13:32:59.678 [DefaultDispatcher-worker-6] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/create
2024-11-29 13:32:59.678 [DefaultDispatcher-worker-6] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/create
2024-11-29 13:32:59.687 [DefaultDispatcher-worker-6] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/create
2024-11-29 13:32:59.688 [DefaultDispatcher-worker-6] TRACE i.k.c.p.c.ContentNegotiation - Converted request body using io.ktor.serialization.kotlinx.KotlinxSerializationConverter@7b2b2b17 for http:///travel/create
2024-11-29 13:32:59.688 [DefaultDispatcher-worker-6] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/create
2024-11-29 13:32:59.688 [DefaultDispatcher-worker-6] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/create from class io.ktor.http.content.TextContent
2024-11-29 13:32:59.689 [DefaultDispatcher-worker-2 @call-context#24] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:32:59.690 [DefaultDispatcher-worker-2 @call-context#24] INFO  io.ktor.test - Application started in 0.001 seconds.
2024-11-29 13:32:59.690 [DefaultDispatcher-worker-5 @coroutine#25] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:32:59.690 [DefaultDispatcher-worker-5 @coroutine#25] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:32:59.691 [DefaultDispatcher-worker-2 @request#24] TRACE io.ktor.server.routing.Routing - Trace for [travel, create]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:2 -> SUCCESS @ /travel/create
      /travel/create/(method:POST), segment:2 -> SUCCESS @ /travel/create/(method:POST)
    /travel/addPassenger, segment:1 -> FAILURE "Selector didn't match" @ /travel/addPassenger
    /travel/swapTravel, segment:1 -> FAILURE "Selector didn't match" @ /travel/swapTravel
Matched routes:
  "" -> "travel" -> "create" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/create/(method:POST)
2024-11-29 13:32:59.692 [DefaultDispatcher-worker-2 @request#24] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.CreateTravelDto) for call /travel/create
2024-11-29 13:32:59.693 [DefaultDispatcher-worker-2 @request#24] INFO  io.ktor.test - Creating travel from usuario@gmail.com
2024-11-29 13:32:59.693 [DefaultDispatcher-worker-2 @request#24] INFO  io.ktor.test - Created travel from usuario@gmail.com
2024-11-29 13:32:59.695 [DefaultDispatcher-worker-2] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/create
2024-11-29 13:32:59.695 [DefaultDispatcher-worker-2] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/create
2024-11-29 13:32:59.696 [DefaultDispatcher-worker-2] TRACE i.k.c.p.c.ContentNegotiation - Response body was converted to class com.sharcar.domain.usecases.model.CreationInscriptionResult for http://localhost/travel/create.
2024-11-29 13:32:59.703 [DefaultDispatcher-worker-2] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/create
2024-11-29 13:32:59.703 [DefaultDispatcher-worker-2] TRACE i.k.c.p.c.ContentNegotiation - Body type class kotlin.String is in ignored types. Skipping ContentNegotiation for http:///travel/create.
2024-11-29 13:32:59.704 [DefaultDispatcher-worker-2] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/create
2024-11-29 13:32:59.704 [DefaultDispatcher-worker-2] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/create from class kotlin.String
2024-11-29 13:32:59.705 [DefaultDispatcher-worker-2 @call-context#36] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:32:59.706 [DefaultDispatcher-worker-2 @call-context#36] INFO  io.ktor.test - Application started in 0.001 seconds.
2024-11-29 13:32:59.706 [DefaultDispatcher-worker-6 @coroutine#37] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:32:59.706 [DefaultDispatcher-worker-6 @coroutine#37] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:32:59.707 [DefaultDispatcher-worker-2 @request#36] TRACE io.ktor.server.routing.Routing - Trace for [travel, create]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:2 -> SUCCESS @ /travel/create
      /travel/create/(method:POST), segment:2 -> SUCCESS @ /travel/create/(method:POST)
    /travel/addPassenger, segment:1 -> FAILURE "Selector didn't match" @ /travel/addPassenger
    /travel/swapTravel, segment:1 -> FAILURE "Selector didn't match" @ /travel/swapTravel
Matched routes:
  "" -> "travel" -> "create" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/create/(method:POST)
2024-11-29 13:32:59.707 [DefaultDispatcher-worker-2 @request#36] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.CreateTravelDto) for call /travel/create
2024-11-29 13:32:59.708 [DefaultDispatcher-worker-2 @request#36] DEBUG io.ktor.test - Unhandled: POST - /travel/create. Exception class io.ktor.server.plugins.BadRequestException: Failed to convert request body to class com.sharcar.api.dto.CreateTravelDto
io.ktor.server.plugins.BadRequestException: Failed to convert request body to class com.sharcar.api.dto.CreateTravelDto
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.convertBody(RequestConverter.kt:69)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.access$convertBody(RequestConverter.kt:1)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invokeSuspend(RequestConverter.kt:40)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invoke(RequestConverter.kt)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invoke(RequestConverter.kt)
	at io.ktor.server.application.OnCallReceiveContext.transformBody(KtorCallContexts.kt:64)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invokeSuspend(RequestConverter.kt:28)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invoke(RequestConverter.kt)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invoke(RequestConverter.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invokeSuspend(PluginBuilder.kt:165)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invokeSuspend(PluginBuilder.kt:109)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invokeSuspend(PluginBuilder.kt:217)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invokeSuspend(PluginBuilder.kt:200)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invoke(PluginBuilder.kt)
	at io.ktor.util.debug.ContextUtilsKt.addToContextInDebugMode(ContextUtils.kt:30)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invokeSuspend(PluginBuilder.kt:196)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invoke(PluginBuilder.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.application.PipelineCall$DefaultImpls.receiveNullable(PipelineCall.kt:92)
	at io.ktor.server.routing.RoutingPipelineCall.receiveNullable(RoutingPipelineCall.kt:20)
	at io.ktor.server.routing.RoutingCall.receiveNullable(RoutingNode.kt:226)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invokeSuspend(TravelApi.kt:54)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invoke(TravelApi.kt)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invoke(TravelApi.kt)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invokeSuspend(RoutingNode.kt:116)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invoke(RoutingNode.kt)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invoke(RoutingNode.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.routing.RoutingRoot.executeResult(RoutingRoot.kt:193)
	at io.ktor.server.routing.RoutingRoot.interceptor(RoutingRoot.kt:66)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invokeSuspend(RoutingRoot.kt:143)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invoke(RoutingRoot.kt)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invoke(RoutingRoot.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invokeSuspend(BaseApplicationEngine.kt:112)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invoke(BaseApplicationEngine.kt)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invoke(BaseApplicationEngine.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.testing.TestApplicationEngine$2.invokeSuspend(TestApplicationEngine.kt:222)
	at io.ktor.server.testing.TestApplicationEngine$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$1.invokeSuspend(TestApplicationEngine.kt:96)
	at io.ktor.server.testing.TestApplicationEngine$1.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$1.invoke(TestApplicationEngine.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invokeSuspend(TestApplicationEngine.kt:221)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invoke(TestApplicationEngine.kt)
	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndispatchedOrReturn(Undispatched.kt:42)
	at kotlinx.coroutines.BuildersKt__Builders_commonKt.withContext(Builders.common.kt:164)
	at kotlinx.coroutines.BuildersKt.withContext(Unknown Source)
	at io.ktor.server.testing.TestApplicationEngine.handleRequest$ktor_server_test_host(TestApplicationEngine.kt:186)
	at io.ktor.server.testing.TestApplicationEngine.handleRequest$ktor_server_test_host$default(TestApplicationEngine.kt:169)
	at io.ktor.server.testing.client.TestHttpClientEngine.runRequest(TestHttpClientEngine.kt:89)
	at io.ktor.server.testing.client.TestHttpClientEngine.execute(TestHttpClientEngine.kt:56)
	at io.ktor.server.testing.client.DelegatingTestClientEngine.execute(DelegatingTestClientEngine.kt:58)
	at io.ktor.server.testing.client.DelegatingTestClientEngine$execute$1.invokeSuspend(DelegatingTestClientEngine.kt)
	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:101)
	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:113)
	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:89)
	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:589)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:823)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:720)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:707)
Caused by: io.ktor.serialization.JsonConvertException: Illegal input: Unexpected JSON token at offset 7: Encountered an unknown key 'id' at path: $
Use 'ignoreUnknownKeys = true' in 'Json {}' builder to ignore unknown keys.
JSON input: {
    "id": 1
}
	at io.ktor.serialization.kotlinx.KotlinxSerializationConverter.deserialize(KotlinxSerializationConverter.kt:77)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.convertBody(RequestConverter.kt:67)
	... 97 common frames omitted
Caused by: kotlinx.serialization.json.internal.JsonDecodingException: Unexpected JSON token at offset 7: Encountered an unknown key 'id' at path: $
Use 'ignoreUnknownKeys = true' in 'Json {}' builder to ignore unknown keys.
JSON input: {
    "id": 1
}
	at kotlinx.serialization.json.internal.JsonExceptionsKt.JsonDecodingException(JsonExceptions.kt:24)
	at kotlinx.serialization.json.internal.JsonExceptionsKt.JsonDecodingException(JsonExceptions.kt:32)
	at kotlinx.serialization.json.internal.AbstractJsonLexer.fail(AbstractJsonLexer.kt:580)
	at kotlinx.serialization.json.internal.AbstractJsonLexer.failOnUnknownKey(AbstractJsonLexer.kt:575)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.handleUnknown(StreamingJsonDecoder.kt:257)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeObjectIndex(StreamingJsonDecoder.kt:243)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeElementIndex(StreamingJsonDecoder.kt:178)
	at com.sharcar.api.dto.CreateTravelDto$$serializer.deserialize(CreateTravelDto.kt:5)
	at com.sharcar.api.dto.CreateTravelDto$$serializer.deserialize(CreateTravelDto.kt:5)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeSerializableValue(StreamingJsonDecoder.kt:69)
	at kotlinx.serialization.json.Json.decodeFromString(Json.kt:165)
	at io.ktor.serialization.kotlinx.KotlinxSerializationConverter.deserialize(KotlinxSerializationConverter.kt:69)
	... 98 common frames omitted
2024-11-29 13:32:59.709 [DefaultDispatcher-worker-2 @request#36] TRACE i.k.s.p.c.ContentNegotiation - Skipping response body transformation from HttpStatusCode to OutgoingContent for the POST /travel/create request because the HttpStatusCode type is ignored. See [ContentNegotiationConfig::ignoreType].
2024-11-29 13:32:59.710 [DefaultDispatcher-worker-5] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/create
2024-11-29 13:32:59.710 [DefaultDispatcher-worker-5] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/create
2024-11-29 13:32:59.723 [DefaultDispatcher-worker-5] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/swapTravel
2024-11-29 13:32:59.725 [DefaultDispatcher-worker-5] TRACE i.k.c.p.c.ContentNegotiation - Converted request body using io.ktor.serialization.kotlinx.KotlinxSerializationConverter@2740bedb for http:///travel/swapTravel
2024-11-29 13:32:59.725 [DefaultDispatcher-worker-5] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/swapTravel
2024-11-29 13:32:59.725 [DefaultDispatcher-worker-5] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/swapTravel from class io.ktor.http.content.TextContent
2024-11-29 13:32:59.727 [DefaultDispatcher-worker-5 @call-context#45] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:32:59.727 [DefaultDispatcher-worker-5 @call-context#45] INFO  io.ktor.test - Application started in 0.001 seconds.
2024-11-29 13:32:59.728 [DefaultDispatcher-worker-2 @coroutine#46] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:32:59.728 [DefaultDispatcher-worker-2 @coroutine#46] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:32:59.729 [DefaultDispatcher-worker-5 @request#45] TRACE io.ktor.server.routing.Routing - Trace for [travel, swapTravel]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:1 -> FAILURE "Selector didn't match" @ /travel/create
    /travel/addPassenger, segment:1 -> FAILURE "Selector didn't match" @ /travel/addPassenger
    /travel/swapTravel, segment:2 -> SUCCESS @ /travel/swapTravel
      /travel/swapTravel/(method:POST), segment:2 -> SUCCESS @ /travel/swapTravel/(method:POST)
Matched routes:
  "" -> "travel" -> "swapTravel" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/swapTravel/(method:POST)
2024-11-29 13:32:59.729 [DefaultDispatcher-worker-5 @request#45] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.SwapTravelDto) for call /travel/swapTravel
2024-11-29 13:32:59.733 [DefaultDispatcher-worker-5 @request#45] INFO  io.ktor.test - Swapping travel 2 to 1
2024-11-29 13:32:59.736 [DefaultDispatcher-worker-5 @request#45] INFO  io.ktor.test - Swapping travel 2 to 1 was false
2024-11-29 13:32:59.740 [DefaultDispatcher-worker-3] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/swapTravel
2024-11-29 13:32:59.740 [DefaultDispatcher-worker-3] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/swapTravel
2024-11-29 13:32:59.741 [DefaultDispatcher-worker-3] TRACE i.k.c.p.c.ContentNegotiation - Response body was converted to class com.sharcar.domain.usecases.model.SwapTravelToNewOneResult for http://localhost/travel/swapTravel.
2024-11-29 13:32:59.754 [DefaultDispatcher-worker-3] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/addPassenger
2024-11-29 13:32:59.755 [DefaultDispatcher-worker-3] TRACE i.k.c.p.c.ContentNegotiation - Converted request body using io.ktor.serialization.kotlinx.KotlinxSerializationConverter@797eaec2 for http:///travel/addPassenger
2024-11-29 13:32:59.756 [DefaultDispatcher-worker-3] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/addPassenger
2024-11-29 13:32:59.756 [DefaultDispatcher-worker-3] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/addPassenger from class io.ktor.http.content.TextContent
2024-11-29 13:32:59.757 [DefaultDispatcher-worker-3 @call-context#57] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:32:59.758 [DefaultDispatcher-worker-3 @call-context#57] INFO  io.ktor.test - Application started in 0.001 seconds.
2024-11-29 13:32:59.758 [DefaultDispatcher-worker-4 @coroutine#58] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:32:59.758 [DefaultDispatcher-worker-4 @coroutine#58] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:32:59.759 [DefaultDispatcher-worker-3 @request#57] TRACE io.ktor.server.routing.Routing - Trace for [travel, addPassenger]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:1 -> FAILURE "Selector didn't match" @ /travel/create
    /travel/addPassenger, segment:2 -> SUCCESS @ /travel/addPassenger
      /travel/addPassenger/(method:POST), segment:2 -> SUCCESS @ /travel/addPassenger/(method:POST)
    /travel/swapTravel, segment:1 -> FAILURE "Selector didn't match" @ /travel/swapTravel
Matched routes:
  "" -> "travel" -> "addPassenger" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/addPassenger/(method:POST)
2024-11-29 13:32:59.759 [DefaultDispatcher-worker-3 @request#57] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.AddPassengerDto) for call /travel/addPassenger
2024-11-29 13:32:59.762 [DefaultDispatcher-worker-3 @request#57] INFO  io.ktor.test - Adding passenger prueba@gmail.com to travel 1
2024-11-29 13:32:59.762 [DefaultDispatcher-worker-3 @request#57] INFO  io.ktor.test - Adding passenger prueba@gmail.com was false
2024-11-29 13:32:59.766 [DefaultDispatcher-worker-3] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/addPassenger
2024-11-29 13:32:59.766 [DefaultDispatcher-worker-3] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/addPassenger
2024-11-29 13:32:59.767 [DefaultDispatcher-worker-3] TRACE i.k.c.p.c.ContentNegotiation - Response body was converted to class com.sharcar.domain.usecases.model.AddPassengerResult for http://localhost/travel/addPassenger.
2024-11-29 13:32:59.774 [DefaultDispatcher-worker-3] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/addPassenger
2024-11-29 13:32:59.775 [DefaultDispatcher-worker-3] TRACE i.k.c.p.c.ContentNegotiation - Converted request body using io.ktor.serialization.kotlinx.KotlinxSerializationConverter@200c1bec for http:///travel/addPassenger
2024-11-29 13:32:59.775 [DefaultDispatcher-worker-3] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/addPassenger
2024-11-29 13:32:59.775 [DefaultDispatcher-worker-3] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/addPassenger from class io.ktor.http.content.TextContent
2024-11-29 13:32:59.776 [DefaultDispatcher-worker-3 @call-context#69] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:32:59.777 [DefaultDispatcher-worker-3 @call-context#69] INFO  io.ktor.test - Application started in 0.001 seconds.
2024-11-29 13:32:59.777 [DefaultDispatcher-worker-2 @coroutine#70] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:32:59.778 [DefaultDispatcher-worker-2 @coroutine#70] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:32:59.778 [DefaultDispatcher-worker-3 @request#69] TRACE io.ktor.server.routing.Routing - Trace for [travel, addPassenger]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:1 -> FAILURE "Selector didn't match" @ /travel/create
    /travel/addPassenger, segment:2 -> SUCCESS @ /travel/addPassenger
      /travel/addPassenger/(method:POST), segment:2 -> SUCCESS @ /travel/addPassenger/(method:POST)
    /travel/swapTravel, segment:1 -> FAILURE "Selector didn't match" @ /travel/swapTravel
Matched routes:
  "" -> "travel" -> "addPassenger" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/addPassenger/(method:POST)
2024-11-29 13:32:59.779 [DefaultDispatcher-worker-3 @request#69] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.AddPassengerDto) for call /travel/addPassenger
2024-11-29 13:32:59.779 [DefaultDispatcher-worker-3 @request#69] INFO  io.ktor.test - Adding passenger prueba@gmail.com to travel 1
2024-11-29 13:32:59.779 [DefaultDispatcher-worker-3 @request#69] INFO  io.ktor.test - Adding passenger prueba@gmail.com was true
2024-11-29 13:32:59.781 [DefaultDispatcher-worker-2] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/addPassenger
2024-11-29 13:32:59.781 [DefaultDispatcher-worker-2] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/addPassenger
2024-11-29 13:32:59.782 [DefaultDispatcher-worker-2] TRACE i.k.c.p.c.ContentNegotiation - Response body was converted to class com.sharcar.domain.usecases.model.AddPassengerResult for http://localhost/travel/addPassenger.
2024-11-29 13:32:59.789 [DefaultDispatcher-worker-2] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/create
2024-11-29 13:32:59.789 [DefaultDispatcher-worker-2] TRACE i.k.c.p.c.ContentNegotiation - Body type class kotlin.String is in ignored types. Skipping ContentNegotiation for http:///travel/create.
2024-11-29 13:32:59.789 [DefaultDispatcher-worker-2] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/create
2024-11-29 13:32:59.789 [DefaultDispatcher-worker-2] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/create from class kotlin.String
2024-11-29 13:32:59.790 [DefaultDispatcher-worker-2 @call-context#81] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:32:59.791 [DefaultDispatcher-worker-2 @call-context#81] INFO  io.ktor.test - Application started in 0.001 seconds.
2024-11-29 13:32:59.792 [DefaultDispatcher-worker-3 @coroutine#82] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:32:59.792 [DefaultDispatcher-worker-3 @coroutine#82] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:32:59.793 [DefaultDispatcher-worker-2 @request#81] TRACE io.ktor.server.routing.Routing - Trace for [travel, create]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:2 -> SUCCESS @ /travel/create
      /travel/create/(method:POST), segment:2 -> SUCCESS @ /travel/create/(method:POST)
    /travel/addPassenger, segment:1 -> FAILURE "Selector didn't match" @ /travel/addPassenger
    /travel/swapTravel, segment:1 -> FAILURE "Selector didn't match" @ /travel/swapTravel
Matched routes:
  "" -> "travel" -> "create" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/create/(method:POST)
2024-11-29 13:32:59.793 [DefaultDispatcher-worker-2 @request#81] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.CreateTravelDto) for call /travel/create
2024-11-29 13:32:59.794 [DefaultDispatcher-worker-2 @request#81] DEBUG io.ktor.test - Unhandled: POST - /travel/create. Exception class io.ktor.server.plugins.BadRequestException: Failed to convert request body to class com.sharcar.api.dto.CreateTravelDto
io.ktor.server.plugins.BadRequestException: Failed to convert request body to class com.sharcar.api.dto.CreateTravelDto
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.convertBody(RequestConverter.kt:69)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.access$convertBody(RequestConverter.kt:1)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invokeSuspend(RequestConverter.kt:40)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invoke(RequestConverter.kt)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invoke(RequestConverter.kt)
	at io.ktor.server.application.OnCallReceiveContext.transformBody(KtorCallContexts.kt:64)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invokeSuspend(RequestConverter.kt:28)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invoke(RequestConverter.kt)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invoke(RequestConverter.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invokeSuspend(PluginBuilder.kt:165)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invokeSuspend(PluginBuilder.kt:109)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invokeSuspend(PluginBuilder.kt:217)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invokeSuspend(PluginBuilder.kt:200)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invoke(PluginBuilder.kt)
	at io.ktor.util.debug.ContextUtilsKt.addToContextInDebugMode(ContextUtils.kt:30)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invokeSuspend(PluginBuilder.kt:196)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invoke(PluginBuilder.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.application.PipelineCall$DefaultImpls.receiveNullable(PipelineCall.kt:92)
	at io.ktor.server.routing.RoutingPipelineCall.receiveNullable(RoutingPipelineCall.kt:20)
	at io.ktor.server.routing.RoutingCall.receiveNullable(RoutingNode.kt:226)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invokeSuspend(TravelApi.kt:54)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invoke(TravelApi.kt)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invoke(TravelApi.kt)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invokeSuspend(RoutingNode.kt:116)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invoke(RoutingNode.kt)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invoke(RoutingNode.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.routing.RoutingRoot.executeResult(RoutingRoot.kt:193)
	at io.ktor.server.routing.RoutingRoot.interceptor(RoutingRoot.kt:66)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invokeSuspend(RoutingRoot.kt:143)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invoke(RoutingRoot.kt)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invoke(RoutingRoot.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invokeSuspend(BaseApplicationEngine.kt:112)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invoke(BaseApplicationEngine.kt)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invoke(BaseApplicationEngine.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.testing.TestApplicationEngine$2.invokeSuspend(TestApplicationEngine.kt:222)
	at io.ktor.server.testing.TestApplicationEngine$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$1.invokeSuspend(TestApplicationEngine.kt:96)
	at io.ktor.server.testing.TestApplicationEngine$1.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$1.invoke(TestApplicationEngine.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invokeSuspend(TestApplicationEngine.kt:221)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invoke(TestApplicationEngine.kt)
	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndispatchedOrReturn(Undispatched.kt:42)
	at kotlinx.coroutines.BuildersKt__Builders_commonKt.withContext(Builders.common.kt:164)
	at kotlinx.coroutines.BuildersKt.withContext(Unknown Source)
	at io.ktor.server.testing.TestApplicationEngine.handleRequest$ktor_server_test_host(TestApplicationEngine.kt:186)
	at io.ktor.server.testing.TestApplicationEngine.handleRequest$ktor_server_test_host$default(TestApplicationEngine.kt:169)
	at io.ktor.server.testing.client.TestHttpClientEngine.runRequest(TestHttpClientEngine.kt:89)
	at io.ktor.server.testing.client.TestHttpClientEngine.execute(TestHttpClientEngine.kt:56)
	at io.ktor.server.testing.client.DelegatingTestClientEngine.execute(DelegatingTestClientEngine.kt:58)
	at io.ktor.server.testing.client.DelegatingTestClientEngine$execute$1.invokeSuspend(DelegatingTestClientEngine.kt)
	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:101)
	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:113)
	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:89)
	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:589)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:823)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:720)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:707)
Caused by: io.ktor.serialization.JsonConvertException: Illegal input: Unexpected JSON token at offset 7: Encountered an unknown key 'id' at path: $
Use 'ignoreUnknownKeys = true' in 'Json {}' builder to ignore unknown keys.
JSON input: {
    "id": 1
}
	at io.ktor.serialization.kotlinx.KotlinxSerializationConverter.deserialize(KotlinxSerializationConverter.kt:77)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.convertBody(RequestConverter.kt:67)
	... 97 common frames omitted
Caused by: kotlinx.serialization.json.internal.JsonDecodingException: Unexpected JSON token at offset 7: Encountered an unknown key 'id' at path: $
Use 'ignoreUnknownKeys = true' in 'Json {}' builder to ignore unknown keys.
JSON input: {
    "id": 1
}
	at kotlinx.serialization.json.internal.JsonExceptionsKt.JsonDecodingException(JsonExceptions.kt:24)
	at kotlinx.serialization.json.internal.JsonExceptionsKt.JsonDecodingException(JsonExceptions.kt:32)
	at kotlinx.serialization.json.internal.AbstractJsonLexer.fail(AbstractJsonLexer.kt:580)
	at kotlinx.serialization.json.internal.AbstractJsonLexer.failOnUnknownKey(AbstractJsonLexer.kt:575)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.handleUnknown(StreamingJsonDecoder.kt:257)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeObjectIndex(StreamingJsonDecoder.kt:243)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeElementIndex(StreamingJsonDecoder.kt:178)
	at com.sharcar.api.dto.CreateTravelDto$$serializer.deserialize(CreateTravelDto.kt:5)
	at com.sharcar.api.dto.CreateTravelDto$$serializer.deserialize(CreateTravelDto.kt:5)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeSerializableValue(StreamingJsonDecoder.kt:69)
	at kotlinx.serialization.json.Json.decodeFromString(Json.kt:165)
	at io.ktor.serialization.kotlinx.KotlinxSerializationConverter.deserialize(KotlinxSerializationConverter.kt:69)
	... 98 common frames omitted
2024-11-29 13:32:59.794 [DefaultDispatcher-worker-2 @request#81] TRACE i.k.s.p.c.ContentNegotiation - Skipping response body transformation from HttpStatusCode to OutgoingContent for the POST /travel/create request because the HttpStatusCode type is ignored. See [ContentNegotiationConfig::ignoreType].
2024-11-29 13:32:59.795 [DefaultDispatcher-worker-4] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/create
2024-11-29 13:32:59.795 [DefaultDispatcher-worker-4] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/create
2024-11-29 13:32:59.802 [DefaultDispatcher-worker-4] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/swapTravel
2024-11-29 13:32:59.803 [DefaultDispatcher-worker-4] TRACE i.k.c.p.c.ContentNegotiation - Converted request body using io.ktor.serialization.kotlinx.KotlinxSerializationConverter@419eb314 for http:///travel/swapTravel
2024-11-29 13:32:59.803 [DefaultDispatcher-worker-4] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/swapTravel
2024-11-29 13:32:59.803 [DefaultDispatcher-worker-4] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/swapTravel from class io.ktor.http.content.TextContent
2024-11-29 13:32:59.804 [DefaultDispatcher-worker-4 @call-context#90] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:32:59.805 [DefaultDispatcher-worker-4 @call-context#90] INFO  io.ktor.test - Application started in 0.002 seconds.
2024-11-29 13:32:59.805 [DefaultDispatcher-worker-5 @coroutine#91] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:32:59.805 [DefaultDispatcher-worker-5 @coroutine#91] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:32:59.806 [DefaultDispatcher-worker-4 @request#90] TRACE io.ktor.server.routing.Routing - Trace for [travel, swapTravel]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:1 -> FAILURE "Selector didn't match" @ /travel/create
    /travel/addPassenger, segment:1 -> FAILURE "Selector didn't match" @ /travel/addPassenger
    /travel/swapTravel, segment:2 -> SUCCESS @ /travel/swapTravel
      /travel/swapTravel/(method:POST), segment:2 -> SUCCESS @ /travel/swapTravel/(method:POST)
Matched routes:
  "" -> "travel" -> "swapTravel" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/swapTravel/(method:POST)
2024-11-29 13:32:59.806 [DefaultDispatcher-worker-4 @request#90] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.SwapTravelDto) for call /travel/swapTravel
2024-11-29 13:32:59.807 [DefaultDispatcher-worker-4 @request#90] INFO  io.ktor.test - Swapping travel 2 to 1
2024-11-29 13:32:59.807 [DefaultDispatcher-worker-4 @request#90] INFO  io.ktor.test - Swapping travel 2 to 1 was true
2024-11-29 13:32:59.809 [DefaultDispatcher-worker-5] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/swapTravel
2024-11-29 13:32:59.809 [DefaultDispatcher-worker-5] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/swapTravel
2024-11-29 13:32:59.810 [DefaultDispatcher-worker-5] TRACE i.k.c.p.c.ContentNegotiation - Response body was converted to class com.sharcar.domain.usecases.model.SwapTravelToNewOneResult for http://localhost/travel/swapTravel.
2024-11-29 13:35:39.556 [DefaultDispatcher-worker-1] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/create
2024-11-29 13:35:39.582 [DefaultDispatcher-worker-1] TRACE i.k.c.p.c.ContentNegotiation - Converted request body using io.ktor.serialization.kotlinx.KotlinxSerializationConverter@33c88fbd for http:///travel/create
2024-11-29 13:35:39.583 [DefaultDispatcher-worker-1] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/create
2024-11-29 13:35:39.583 [DefaultDispatcher-worker-1] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/create from class io.ktor.http.content.TextContent
2024-11-29 13:35:39.633 [DefaultDispatcher-worker-2 @call-context#3] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:35:39.675 [DefaultDispatcher-worker-2 @call-context#3] INFO  io.ktor.test - Application started in 0.056 seconds.
2024-11-29 13:35:39.679 [DefaultDispatcher-worker-1 @coroutine#4] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:35:39.679 [DefaultDispatcher-worker-1 @coroutine#4] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:35:39.716 [DefaultDispatcher-worker-2 @request#3] TRACE io.ktor.server.routing.Routing - Trace for [travel, create]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:2 -> SUCCESS @ /travel/create
      /travel/create/(method:POST), segment:2 -> SUCCESS @ /travel/create/(method:POST)
    /travel/addPassenger, segment:1 -> FAILURE "Selector didn't match" @ /travel/addPassenger
    /travel/swapTravel, segment:1 -> FAILURE "Selector didn't match" @ /travel/swapTravel
Matched routes:
  "" -> "travel" -> "create" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/create/(method:POST)
2024-11-29 13:35:39.733 [DefaultDispatcher-worker-2 @request#3] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.CreateTravelDto) for call /travel/create
2024-11-29 13:35:39.750 [DefaultDispatcher-worker-2 @request#3] INFO  io.ktor.test - Creating travel from usuario@gmail.com
2024-11-29 13:35:39.753 [DefaultDispatcher-worker-2 @request#3] INFO  io.ktor.test - Created travel from usuario@gmail.com
2024-11-29 13:35:39.795 [DefaultDispatcher-worker-2] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/create
2024-11-29 13:35:39.796 [DefaultDispatcher-worker-2] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/create
2024-11-29 13:35:39.810 [DefaultDispatcher-worker-2] TRACE i.k.c.p.c.ContentNegotiation - Response body was converted to class com.sharcar.domain.usecases.model.CreationInscriptionResult for http://localhost/travel/create.
2024-11-29 13:35:39.831 [DefaultDispatcher-worker-2] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/create
2024-11-29 13:35:39.832 [DefaultDispatcher-worker-2] TRACE i.k.c.p.c.ContentNegotiation - Body type class kotlin.String is in ignored types. Skipping ContentNegotiation for http:///travel/create.
2024-11-29 13:35:39.832 [DefaultDispatcher-worker-2] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/create
2024-11-29 13:35:39.832 [DefaultDispatcher-worker-2] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/create from class kotlin.String
2024-11-29 13:35:39.833 [DefaultDispatcher-worker-2 @call-context#15] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:35:39.834 [DefaultDispatcher-worker-2 @call-context#15] INFO  io.ktor.test - Application started in 0.001 seconds.
2024-11-29 13:35:39.835 [DefaultDispatcher-worker-1 @coroutine#16] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:35:39.835 [DefaultDispatcher-worker-1 @coroutine#16] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:35:39.836 [DefaultDispatcher-worker-3 @request#15] TRACE io.ktor.server.routing.Routing - Trace for [travel, create]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:2 -> SUCCESS @ /travel/create
      /travel/create/(method:POST), segment:2 -> SUCCESS @ /travel/create/(method:POST)
    /travel/addPassenger, segment:1 -> FAILURE "Selector didn't match" @ /travel/addPassenger
    /travel/swapTravel, segment:1 -> FAILURE "Selector didn't match" @ /travel/swapTravel
Matched routes:
  "" -> "travel" -> "create" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/create/(method:POST)
2024-11-29 13:35:39.837 [DefaultDispatcher-worker-3 @request#15] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.CreateTravelDto) for call /travel/create
2024-11-29 13:35:39.845 [DefaultDispatcher-worker-3 @request#15] DEBUG io.ktor.test - Unhandled: POST - /travel/create. Exception class io.ktor.server.plugins.BadRequestException: Failed to convert request body to class com.sharcar.api.dto.CreateTravelDto
io.ktor.server.plugins.BadRequestException: Failed to convert request body to class com.sharcar.api.dto.CreateTravelDto
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.convertBody(RequestConverter.kt:69)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.access$convertBody(RequestConverter.kt:1)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invokeSuspend(RequestConverter.kt:40)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invoke(RequestConverter.kt)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invoke(RequestConverter.kt)
	at io.ktor.server.application.OnCallReceiveContext.transformBody(KtorCallContexts.kt:64)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invokeSuspend(RequestConverter.kt:28)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invoke(RequestConverter.kt)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invoke(RequestConverter.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invokeSuspend(PluginBuilder.kt:165)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invokeSuspend(PluginBuilder.kt:109)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invokeSuspend(PluginBuilder.kt:217)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invokeSuspend(PluginBuilder.kt:200)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invoke(PluginBuilder.kt)
	at io.ktor.util.debug.ContextUtilsKt.addToContextInDebugMode(ContextUtils.kt:30)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invokeSuspend(PluginBuilder.kt:196)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invoke(PluginBuilder.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.application.PipelineCall$DefaultImpls.receiveNullable(PipelineCall.kt:92)
	at io.ktor.server.routing.RoutingPipelineCall.receiveNullable(RoutingPipelineCall.kt:20)
	at io.ktor.server.routing.RoutingCall.receiveNullable(RoutingNode.kt:226)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invokeSuspend(TravelApi.kt:54)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invoke(TravelApi.kt)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invoke(TravelApi.kt)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invokeSuspend(RoutingNode.kt:116)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invoke(RoutingNode.kt)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invoke(RoutingNode.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.routing.RoutingRoot.executeResult(RoutingRoot.kt:193)
	at io.ktor.server.routing.RoutingRoot.interceptor(RoutingRoot.kt:66)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invokeSuspend(RoutingRoot.kt:143)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invoke(RoutingRoot.kt)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invoke(RoutingRoot.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invokeSuspend(BaseApplicationEngine.kt:112)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invoke(BaseApplicationEngine.kt)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invoke(BaseApplicationEngine.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.testing.TestApplicationEngine$2.invokeSuspend(TestApplicationEngine.kt:222)
	at io.ktor.server.testing.TestApplicationEngine$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$1.invokeSuspend(TestApplicationEngine.kt:96)
	at io.ktor.server.testing.TestApplicationEngine$1.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$1.invoke(TestApplicationEngine.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invokeSuspend(TestApplicationEngine.kt:221)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invoke(TestApplicationEngine.kt)
	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndispatchedOrReturn(Undispatched.kt:42)
	at kotlinx.coroutines.BuildersKt__Builders_commonKt.withContext(Builders.common.kt:164)
	at kotlinx.coroutines.BuildersKt.withContext(Unknown Source)
	at io.ktor.server.testing.TestApplicationEngine.handleRequest$ktor_server_test_host(TestApplicationEngine.kt:186)
	at io.ktor.server.testing.TestApplicationEngine.handleRequest$ktor_server_test_host$default(TestApplicationEngine.kt:169)
	at io.ktor.server.testing.client.TestHttpClientEngine.runRequest(TestHttpClientEngine.kt:89)
	at io.ktor.server.testing.client.TestHttpClientEngine.execute(TestHttpClientEngine.kt:56)
	at io.ktor.server.testing.client.DelegatingTestClientEngine.execute(DelegatingTestClientEngine.kt:58)
	at io.ktor.server.testing.client.DelegatingTestClientEngine$execute$1.invokeSuspend(DelegatingTestClientEngine.kt)
	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:101)
	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:113)
	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:89)
	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:589)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:823)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:720)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:707)
Caused by: io.ktor.serialization.JsonConvertException: Illegal input: Unexpected JSON token at offset 7: Encountered an unknown key 'id' at path: $
Use 'ignoreUnknownKeys = true' in 'Json {}' builder to ignore unknown keys.
JSON input: {
    "id": 1,
    "date": "2007-12-03T10:15:30",
    "place": "Gasolinera",
    "driverId": 1,
}
	at io.ktor.serialization.kotlinx.KotlinxSerializationConverter.deserialize(KotlinxSerializationConverter.kt:77)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.convertBody(RequestConverter.kt:67)
	... 97 common frames omitted
Caused by: kotlinx.serialization.json.internal.JsonDecodingException: Unexpected JSON token at offset 7: Encountered an unknown key 'id' at path: $
Use 'ignoreUnknownKeys = true' in 'Json {}' builder to ignore unknown keys.
JSON input: {
    "id": 1,
    "date": "2007-12-03T10:15:30",
    "place": "Gasolinera",
    "driverId": 1,
}
	at kotlinx.serialization.json.internal.JsonExceptionsKt.JsonDecodingException(JsonExceptions.kt:24)
	at kotlinx.serialization.json.internal.JsonExceptionsKt.JsonDecodingException(JsonExceptions.kt:32)
	at kotlinx.serialization.json.internal.AbstractJsonLexer.fail(AbstractJsonLexer.kt:580)
	at kotlinx.serialization.json.internal.AbstractJsonLexer.failOnUnknownKey(AbstractJsonLexer.kt:575)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.handleUnknown(StreamingJsonDecoder.kt:257)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeObjectIndex(StreamingJsonDecoder.kt:243)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeElementIndex(StreamingJsonDecoder.kt:178)
	at com.sharcar.api.dto.CreateTravelDto$$serializer.deserialize(CreateTravelDto.kt:5)
	at com.sharcar.api.dto.CreateTravelDto$$serializer.deserialize(CreateTravelDto.kt:5)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeSerializableValue(StreamingJsonDecoder.kt:69)
	at kotlinx.serialization.json.Json.decodeFromString(Json.kt:165)
	at io.ktor.serialization.kotlinx.KotlinxSerializationConverter.deserialize(KotlinxSerializationConverter.kt:69)
	... 98 common frames omitted
2024-11-29 13:35:39.848 [DefaultDispatcher-worker-3 @request#15] TRACE i.k.s.p.c.ContentNegotiation - Skipping response body transformation from HttpStatusCode to OutgoingContent for the POST /travel/create request because the HttpStatusCode type is ignored. See [ContentNegotiationConfig::ignoreType].
2024-11-29 13:35:39.849 [DefaultDispatcher-worker-3] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/create
2024-11-29 13:35:39.849 [DefaultDispatcher-worker-3] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/create
2024-11-29 13:35:39.860 [DefaultDispatcher-worker-3] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/create
2024-11-29 13:35:39.860 [DefaultDispatcher-worker-3] TRACE i.k.c.p.c.ContentNegotiation - Converted request body using io.ktor.serialization.kotlinx.KotlinxSerializationConverter@1cc85356 for http:///travel/create
2024-11-29 13:35:39.860 [DefaultDispatcher-worker-3] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/create
2024-11-29 13:35:39.861 [DefaultDispatcher-worker-3] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/create from class io.ktor.http.content.TextContent
2024-11-29 13:35:39.862 [DefaultDispatcher-worker-3 @call-context#24] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:35:39.863 [DefaultDispatcher-worker-3 @call-context#24] INFO  io.ktor.test - Application started in 0.002 seconds.
2024-11-29 13:35:39.863 [DefaultDispatcher-worker-2 @coroutine#25] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:35:39.863 [DefaultDispatcher-worker-2 @coroutine#25] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:35:39.864 [DefaultDispatcher-worker-3 @request#24] TRACE io.ktor.server.routing.Routing - Trace for [travel, create]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:2 -> SUCCESS @ /travel/create
      /travel/create/(method:POST), segment:2 -> SUCCESS @ /travel/create/(method:POST)
    /travel/addPassenger, segment:1 -> FAILURE "Selector didn't match" @ /travel/addPassenger
    /travel/swapTravel, segment:1 -> FAILURE "Selector didn't match" @ /travel/swapTravel
Matched routes:
  "" -> "travel" -> "create" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/create/(method:POST)
2024-11-29 13:35:39.865 [DefaultDispatcher-worker-3 @request#24] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.CreateTravelDto) for call /travel/create
2024-11-29 13:35:39.865 [DefaultDispatcher-worker-3 @request#24] INFO  io.ktor.test - Creating travel from usuario@gmail.com
2024-11-29 13:35:39.866 [DefaultDispatcher-worker-3 @request#24] INFO  io.ktor.test - Created travel from usuario@gmail.com
2024-11-29 13:35:39.868 [DefaultDispatcher-worker-1] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/create
2024-11-29 13:35:39.868 [DefaultDispatcher-worker-1] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/create
2024-11-29 13:35:39.869 [DefaultDispatcher-worker-1] TRACE i.k.c.p.c.ContentNegotiation - Response body was converted to class com.sharcar.domain.usecases.model.CreationInscriptionResult for http://localhost/travel/create.
2024-11-29 13:35:39.879 [DefaultDispatcher-worker-1] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/create
2024-11-29 13:35:39.879 [DefaultDispatcher-worker-1] TRACE i.k.c.p.c.ContentNegotiation - Body type class kotlin.String is in ignored types. Skipping ContentNegotiation for http:///travel/create.
2024-11-29 13:35:39.879 [DefaultDispatcher-worker-1] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/create
2024-11-29 13:35:39.879 [DefaultDispatcher-worker-1] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/create from class kotlin.String
2024-11-29 13:35:39.880 [DefaultDispatcher-worker-1 @call-context#36] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:35:39.881 [DefaultDispatcher-worker-1 @call-context#36] INFO  io.ktor.test - Application started in 0.001 seconds.
2024-11-29 13:35:39.882 [DefaultDispatcher-worker-2 @coroutine#37] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:35:39.882 [DefaultDispatcher-worker-2 @coroutine#37] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:35:39.883 [DefaultDispatcher-worker-1 @request#36] TRACE io.ktor.server.routing.Routing - Trace for [travel, create]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:2 -> SUCCESS @ /travel/create
      /travel/create/(method:POST), segment:2 -> SUCCESS @ /travel/create/(method:POST)
    /travel/addPassenger, segment:1 -> FAILURE "Selector didn't match" @ /travel/addPassenger
    /travel/swapTravel, segment:1 -> FAILURE "Selector didn't match" @ /travel/swapTravel
Matched routes:
  "" -> "travel" -> "create" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/create/(method:POST)
2024-11-29 13:35:39.884 [DefaultDispatcher-worker-1 @request#36] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.CreateTravelDto) for call /travel/create
2024-11-29 13:35:39.884 [DefaultDispatcher-worker-1 @request#36] DEBUG io.ktor.test - Unhandled: POST - /travel/create. Exception class io.ktor.server.plugins.BadRequestException: Failed to convert request body to class com.sharcar.api.dto.CreateTravelDto
io.ktor.server.plugins.BadRequestException: Failed to convert request body to class com.sharcar.api.dto.CreateTravelDto
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.convertBody(RequestConverter.kt:69)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.access$convertBody(RequestConverter.kt:1)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invokeSuspend(RequestConverter.kt:40)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invoke(RequestConverter.kt)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invoke(RequestConverter.kt)
	at io.ktor.server.application.OnCallReceiveContext.transformBody(KtorCallContexts.kt:64)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invokeSuspend(RequestConverter.kt:28)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invoke(RequestConverter.kt)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invoke(RequestConverter.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invokeSuspend(PluginBuilder.kt:165)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invokeSuspend(PluginBuilder.kt:109)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invokeSuspend(PluginBuilder.kt:217)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invokeSuspend(PluginBuilder.kt:200)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invoke(PluginBuilder.kt)
	at io.ktor.util.debug.ContextUtilsKt.addToContextInDebugMode(ContextUtils.kt:30)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invokeSuspend(PluginBuilder.kt:196)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invoke(PluginBuilder.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.application.PipelineCall$DefaultImpls.receiveNullable(PipelineCall.kt:92)
	at io.ktor.server.routing.RoutingPipelineCall.receiveNullable(RoutingPipelineCall.kt:20)
	at io.ktor.server.routing.RoutingCall.receiveNullable(RoutingNode.kt:226)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invokeSuspend(TravelApi.kt:54)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invoke(TravelApi.kt)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invoke(TravelApi.kt)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invokeSuspend(RoutingNode.kt:116)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invoke(RoutingNode.kt)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invoke(RoutingNode.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.routing.RoutingRoot.executeResult(RoutingRoot.kt:193)
	at io.ktor.server.routing.RoutingRoot.interceptor(RoutingRoot.kt:66)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invokeSuspend(RoutingRoot.kt:143)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invoke(RoutingRoot.kt)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invoke(RoutingRoot.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invokeSuspend(BaseApplicationEngine.kt:112)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invoke(BaseApplicationEngine.kt)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invoke(BaseApplicationEngine.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.testing.TestApplicationEngine$2.invokeSuspend(TestApplicationEngine.kt:222)
	at io.ktor.server.testing.TestApplicationEngine$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$1.invokeSuspend(TestApplicationEngine.kt:96)
	at io.ktor.server.testing.TestApplicationEngine$1.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$1.invoke(TestApplicationEngine.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invokeSuspend(TestApplicationEngine.kt:221)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invoke(TestApplicationEngine.kt)
	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndispatchedOrReturn(Undispatched.kt:42)
	at kotlinx.coroutines.BuildersKt__Builders_commonKt.withContext(Builders.common.kt:164)
	at kotlinx.coroutines.BuildersKt.withContext(Unknown Source)
	at io.ktor.server.testing.TestApplicationEngine.handleRequest$ktor_server_test_host(TestApplicationEngine.kt:186)
	at io.ktor.server.testing.TestApplicationEngine.handleRequest$ktor_server_test_host$default(TestApplicationEngine.kt:169)
	at io.ktor.server.testing.client.TestHttpClientEngine.runRequest(TestHttpClientEngine.kt:89)
	at io.ktor.server.testing.client.TestHttpClientEngine.execute(TestHttpClientEngine.kt:56)
	at io.ktor.server.testing.client.DelegatingTestClientEngine.execute(DelegatingTestClientEngine.kt:58)
	at io.ktor.server.testing.client.DelegatingTestClientEngine$execute$1.invokeSuspend(DelegatingTestClientEngine.kt)
	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:101)
	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:113)
	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:89)
	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:589)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:823)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:720)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:707)
Caused by: io.ktor.serialization.JsonConvertException: Illegal input: Unexpected JSON token at offset 7: Encountered an unknown key 'id' at path: $
Use 'ignoreUnknownKeys = true' in 'Json {}' builder to ignore unknown keys.
JSON input: {
    "id": 1
}
	at io.ktor.serialization.kotlinx.KotlinxSerializationConverter.deserialize(KotlinxSerializationConverter.kt:77)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.convertBody(RequestConverter.kt:67)
	... 97 common frames omitted
Caused by: kotlinx.serialization.json.internal.JsonDecodingException: Unexpected JSON token at offset 7: Encountered an unknown key 'id' at path: $
Use 'ignoreUnknownKeys = true' in 'Json {}' builder to ignore unknown keys.
JSON input: {
    "id": 1
}
	at kotlinx.serialization.json.internal.JsonExceptionsKt.JsonDecodingException(JsonExceptions.kt:24)
	at kotlinx.serialization.json.internal.JsonExceptionsKt.JsonDecodingException(JsonExceptions.kt:32)
	at kotlinx.serialization.json.internal.AbstractJsonLexer.fail(AbstractJsonLexer.kt:580)
	at kotlinx.serialization.json.internal.AbstractJsonLexer.failOnUnknownKey(AbstractJsonLexer.kt:575)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.handleUnknown(StreamingJsonDecoder.kt:257)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeObjectIndex(StreamingJsonDecoder.kt:243)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeElementIndex(StreamingJsonDecoder.kt:178)
	at com.sharcar.api.dto.CreateTravelDto$$serializer.deserialize(CreateTravelDto.kt:5)
	at com.sharcar.api.dto.CreateTravelDto$$serializer.deserialize(CreateTravelDto.kt:5)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeSerializableValue(StreamingJsonDecoder.kt:69)
	at kotlinx.serialization.json.Json.decodeFromString(Json.kt:165)
	at io.ktor.serialization.kotlinx.KotlinxSerializationConverter.deserialize(KotlinxSerializationConverter.kt:69)
	... 98 common frames omitted
2024-11-29 13:35:39.885 [DefaultDispatcher-worker-1 @request#36] TRACE i.k.s.p.c.ContentNegotiation - Skipping response body transformation from HttpStatusCode to OutgoingContent for the POST /travel/create request because the HttpStatusCode type is ignored. See [ContentNegotiationConfig::ignoreType].
2024-11-29 13:35:39.886 [DefaultDispatcher-worker-5] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/create
2024-11-29 13:35:39.887 [DefaultDispatcher-worker-5] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/create
2024-11-29 13:35:39.903 [DefaultDispatcher-worker-5] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/swapTravel
2024-11-29 13:35:39.905 [DefaultDispatcher-worker-5] TRACE i.k.c.p.c.ContentNegotiation - Converted request body using io.ktor.serialization.kotlinx.KotlinxSerializationConverter@399c41ad for http:///travel/swapTravel
2024-11-29 13:35:39.906 [DefaultDispatcher-worker-5] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/swapTravel
2024-11-29 13:35:39.906 [DefaultDispatcher-worker-5] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/swapTravel from class io.ktor.http.content.TextContent
2024-11-29 13:35:39.908 [DefaultDispatcher-worker-5 @call-context#45] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:35:39.909 [DefaultDispatcher-worker-5 @call-context#45] INFO  io.ktor.test - Application started in 0.001 seconds.
2024-11-29 13:35:39.910 [DefaultDispatcher-worker-2 @coroutine#46] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:35:39.910 [DefaultDispatcher-worker-2 @coroutine#46] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:35:39.911 [DefaultDispatcher-worker-1 @request#45] TRACE io.ktor.server.routing.Routing - Trace for [travel, swapTravel]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:1 -> FAILURE "Selector didn't match" @ /travel/create
    /travel/addPassenger, segment:1 -> FAILURE "Selector didn't match" @ /travel/addPassenger
    /travel/swapTravel, segment:2 -> SUCCESS @ /travel/swapTravel
      /travel/swapTravel/(method:POST), segment:2 -> SUCCESS @ /travel/swapTravel/(method:POST)
Matched routes:
  "" -> "travel" -> "swapTravel" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/swapTravel/(method:POST)
2024-11-29 13:35:39.912 [DefaultDispatcher-worker-1 @request#45] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.SwapTravelDto) for call /travel/swapTravel
2024-11-29 13:35:39.915 [DefaultDispatcher-worker-1 @request#45] INFO  io.ktor.test - Swapping travel 2 to 1
2024-11-29 13:35:39.919 [DefaultDispatcher-worker-1 @request#45] INFO  io.ktor.test - Swapping travel 2 to 1 was false
2024-11-29 13:35:39.925 [DefaultDispatcher-worker-5] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/swapTravel
2024-11-29 13:35:39.925 [DefaultDispatcher-worker-5] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/swapTravel
2024-11-29 13:35:39.926 [DefaultDispatcher-worker-5] TRACE i.k.c.p.c.ContentNegotiation - Response body was converted to class com.sharcar.domain.usecases.model.SwapTravelToNewOneResult for http://localhost/travel/swapTravel.
2024-11-29 13:35:39.940 [DefaultDispatcher-worker-5] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/addPassenger
2024-11-29 13:35:39.942 [DefaultDispatcher-worker-5] TRACE i.k.c.p.c.ContentNegotiation - Converted request body using io.ktor.serialization.kotlinx.KotlinxSerializationConverter@6595179c for http:///travel/addPassenger
2024-11-29 13:35:39.942 [DefaultDispatcher-worker-5] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/addPassenger
2024-11-29 13:35:39.943 [DefaultDispatcher-worker-5] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/addPassenger from class io.ktor.http.content.TextContent
2024-11-29 13:35:39.944 [DefaultDispatcher-worker-5 @call-context#57] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:35:39.945 [DefaultDispatcher-worker-5 @call-context#57] INFO  io.ktor.test - Application started in 0.002 seconds.
2024-11-29 13:35:39.945 [DefaultDispatcher-worker-1 @coroutine#58] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:35:39.945 [DefaultDispatcher-worker-1 @coroutine#58] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:35:39.946 [DefaultDispatcher-worker-5 @request#57] TRACE io.ktor.server.routing.Routing - Trace for [travel, addPassenger]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:1 -> FAILURE "Selector didn't match" @ /travel/create
    /travel/addPassenger, segment:2 -> SUCCESS @ /travel/addPassenger
      /travel/addPassenger/(method:POST), segment:2 -> SUCCESS @ /travel/addPassenger/(method:POST)
    /travel/swapTravel, segment:1 -> FAILURE "Selector didn't match" @ /travel/swapTravel
Matched routes:
  "" -> "travel" -> "addPassenger" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/addPassenger/(method:POST)
2024-11-29 13:35:39.947 [DefaultDispatcher-worker-5 @request#57] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.AddPassengerDto) for call /travel/addPassenger
2024-11-29 13:35:39.950 [DefaultDispatcher-worker-5 @request#57] INFO  io.ktor.test - Adding passenger prueba@gmail.com to travel 1
2024-11-29 13:35:39.951 [DefaultDispatcher-worker-5 @request#57] INFO  io.ktor.test - Adding passenger prueba@gmail.com was false
2024-11-29 13:35:39.956 [DefaultDispatcher-worker-3] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/addPassenger
2024-11-29 13:35:39.956 [DefaultDispatcher-worker-3] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/addPassenger
2024-11-29 13:35:39.958 [DefaultDispatcher-worker-3] TRACE i.k.c.p.c.ContentNegotiation - Response body was converted to class com.sharcar.domain.usecases.model.AddPassengerResult for http://localhost/travel/addPassenger.
2024-11-29 13:35:39.967 [DefaultDispatcher-worker-3] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/addPassenger
2024-11-29 13:35:39.967 [DefaultDispatcher-worker-3] TRACE i.k.c.p.c.ContentNegotiation - Converted request body using io.ktor.serialization.kotlinx.KotlinxSerializationConverter@36e880cc for http:///travel/addPassenger
2024-11-29 13:35:39.967 [DefaultDispatcher-worker-3] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/addPassenger
2024-11-29 13:35:39.967 [DefaultDispatcher-worker-3] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/addPassenger from class io.ktor.http.content.TextContent
2024-11-29 13:35:39.968 [DefaultDispatcher-worker-3 @call-context#69] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:35:39.969 [DefaultDispatcher-worker-3 @call-context#69] INFO  io.ktor.test - Application started in 0.001 seconds.
2024-11-29 13:35:39.969 [DefaultDispatcher-worker-4 @coroutine#70] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:35:39.969 [DefaultDispatcher-worker-4 @coroutine#70] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:35:39.971 [DefaultDispatcher-worker-3 @request#69] TRACE io.ktor.server.routing.Routing - Trace for [travel, addPassenger]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:1 -> FAILURE "Selector didn't match" @ /travel/create
    /travel/addPassenger, segment:2 -> SUCCESS @ /travel/addPassenger
      /travel/addPassenger/(method:POST), segment:2 -> SUCCESS @ /travel/addPassenger/(method:POST)
    /travel/swapTravel, segment:1 -> FAILURE "Selector didn't match" @ /travel/swapTravel
Matched routes:
  "" -> "travel" -> "addPassenger" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/addPassenger/(method:POST)
2024-11-29 13:35:39.971 [DefaultDispatcher-worker-3 @request#69] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.AddPassengerDto) for call /travel/addPassenger
2024-11-29 13:35:39.972 [DefaultDispatcher-worker-3 @request#69] INFO  io.ktor.test - Adding passenger prueba@gmail.com to travel 1
2024-11-29 13:35:39.973 [DefaultDispatcher-worker-3 @request#69] INFO  io.ktor.test - Adding passenger prueba@gmail.com was true
2024-11-29 13:35:39.976 [DefaultDispatcher-worker-3] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/addPassenger
2024-11-29 13:35:39.976 [DefaultDispatcher-worker-3] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/addPassenger
2024-11-29 13:35:39.977 [DefaultDispatcher-worker-3] TRACE i.k.c.p.c.ContentNegotiation - Response body was converted to class com.sharcar.domain.usecases.model.AddPassengerResult for http://localhost/travel/addPassenger.
2024-11-29 13:35:39.984 [DefaultDispatcher-worker-3] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/create
2024-11-29 13:35:39.984 [DefaultDispatcher-worker-3] TRACE i.k.c.p.c.ContentNegotiation - Body type class kotlin.String is in ignored types. Skipping ContentNegotiation for http:///travel/create.
2024-11-29 13:35:39.984 [DefaultDispatcher-worker-3] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/create
2024-11-29 13:35:39.985 [DefaultDispatcher-worker-3] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/create from class kotlin.String
2024-11-29 13:35:39.986 [DefaultDispatcher-worker-3 @call-context#81] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:35:39.987 [DefaultDispatcher-worker-3 @call-context#81] INFO  io.ktor.test - Application started in 0.001 seconds.
2024-11-29 13:35:39.988 [DefaultDispatcher-worker-4 @coroutine#82] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:35:39.988 [DefaultDispatcher-worker-4 @coroutine#82] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:35:39.990 [DefaultDispatcher-worker-3 @request#81] TRACE io.ktor.server.routing.Routing - Trace for [travel, create]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:2 -> SUCCESS @ /travel/create
      /travel/create/(method:POST), segment:2 -> SUCCESS @ /travel/create/(method:POST)
    /travel/addPassenger, segment:1 -> FAILURE "Selector didn't match" @ /travel/addPassenger
    /travel/swapTravel, segment:1 -> FAILURE "Selector didn't match" @ /travel/swapTravel
Matched routes:
  "" -> "travel" -> "create" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/create/(method:POST)
2024-11-29 13:35:39.991 [DefaultDispatcher-worker-3 @request#81] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.CreateTravelDto) for call /travel/create
2024-11-29 13:35:39.992 [DefaultDispatcher-worker-3 @request#81] DEBUG io.ktor.test - Unhandled: POST - /travel/create. Exception class io.ktor.server.plugins.BadRequestException: Failed to convert request body to class com.sharcar.api.dto.CreateTravelDto
io.ktor.server.plugins.BadRequestException: Failed to convert request body to class com.sharcar.api.dto.CreateTravelDto
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.convertBody(RequestConverter.kt:69)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.access$convertBody(RequestConverter.kt:1)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invokeSuspend(RequestConverter.kt:40)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invoke(RequestConverter.kt)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invoke(RequestConverter.kt)
	at io.ktor.server.application.OnCallReceiveContext.transformBody(KtorCallContexts.kt:64)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invokeSuspend(RequestConverter.kt:28)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invoke(RequestConverter.kt)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invoke(RequestConverter.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invokeSuspend(PluginBuilder.kt:165)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invokeSuspend(PluginBuilder.kt:109)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invokeSuspend(PluginBuilder.kt:217)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invokeSuspend(PluginBuilder.kt:200)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invoke(PluginBuilder.kt)
	at io.ktor.util.debug.ContextUtilsKt.addToContextInDebugMode(ContextUtils.kt:30)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invokeSuspend(PluginBuilder.kt:196)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invoke(PluginBuilder.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.application.PipelineCall$DefaultImpls.receiveNullable(PipelineCall.kt:92)
	at io.ktor.server.routing.RoutingPipelineCall.receiveNullable(RoutingPipelineCall.kt:20)
	at io.ktor.server.routing.RoutingCall.receiveNullable(RoutingNode.kt:226)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invokeSuspend(TravelApi.kt:54)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invoke(TravelApi.kt)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invoke(TravelApi.kt)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invokeSuspend(RoutingNode.kt:116)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invoke(RoutingNode.kt)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invoke(RoutingNode.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.routing.RoutingRoot.executeResult(RoutingRoot.kt:193)
	at io.ktor.server.routing.RoutingRoot.interceptor(RoutingRoot.kt:66)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invokeSuspend(RoutingRoot.kt:143)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invoke(RoutingRoot.kt)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invoke(RoutingRoot.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invokeSuspend(BaseApplicationEngine.kt:112)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invoke(BaseApplicationEngine.kt)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invoke(BaseApplicationEngine.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.testing.TestApplicationEngine$2.invokeSuspend(TestApplicationEngine.kt:222)
	at io.ktor.server.testing.TestApplicationEngine$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$1.invokeSuspend(TestApplicationEngine.kt:96)
	at io.ktor.server.testing.TestApplicationEngine$1.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$1.invoke(TestApplicationEngine.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invokeSuspend(TestApplicationEngine.kt:221)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invoke(TestApplicationEngine.kt)
	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndispatchedOrReturn(Undispatched.kt:42)
	at kotlinx.coroutines.BuildersKt__Builders_commonKt.withContext(Builders.common.kt:164)
	at kotlinx.coroutines.BuildersKt.withContext(Unknown Source)
	at io.ktor.server.testing.TestApplicationEngine.handleRequest$ktor_server_test_host(TestApplicationEngine.kt:186)
	at io.ktor.server.testing.TestApplicationEngine.handleRequest$ktor_server_test_host$default(TestApplicationEngine.kt:169)
	at io.ktor.server.testing.client.TestHttpClientEngine.runRequest(TestHttpClientEngine.kt:89)
	at io.ktor.server.testing.client.TestHttpClientEngine.execute(TestHttpClientEngine.kt:56)
	at io.ktor.server.testing.client.DelegatingTestClientEngine.execute(DelegatingTestClientEngine.kt:58)
	at io.ktor.server.testing.client.DelegatingTestClientEngine$execute$1.invokeSuspend(DelegatingTestClientEngine.kt)
	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:101)
	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:113)
	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:89)
	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:589)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:823)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:720)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:707)
Caused by: io.ktor.serialization.JsonConvertException: Illegal input: Unexpected JSON token at offset 7: Encountered an unknown key 'id' at path: $
Use 'ignoreUnknownKeys = true' in 'Json {}' builder to ignore unknown keys.
JSON input: {
    "id": 1
}
	at io.ktor.serialization.kotlinx.KotlinxSerializationConverter.deserialize(KotlinxSerializationConverter.kt:77)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.convertBody(RequestConverter.kt:67)
	... 97 common frames omitted
Caused by: kotlinx.serialization.json.internal.JsonDecodingException: Unexpected JSON token at offset 7: Encountered an unknown key 'id' at path: $
Use 'ignoreUnknownKeys = true' in 'Json {}' builder to ignore unknown keys.
JSON input: {
    "id": 1
}
	at kotlinx.serialization.json.internal.JsonExceptionsKt.JsonDecodingException(JsonExceptions.kt:24)
	at kotlinx.serialization.json.internal.JsonExceptionsKt.JsonDecodingException(JsonExceptions.kt:32)
	at kotlinx.serialization.json.internal.AbstractJsonLexer.fail(AbstractJsonLexer.kt:580)
	at kotlinx.serialization.json.internal.AbstractJsonLexer.failOnUnknownKey(AbstractJsonLexer.kt:575)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.handleUnknown(StreamingJsonDecoder.kt:257)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeObjectIndex(StreamingJsonDecoder.kt:243)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeElementIndex(StreamingJsonDecoder.kt:178)
	at com.sharcar.api.dto.CreateTravelDto$$serializer.deserialize(CreateTravelDto.kt:5)
	at com.sharcar.api.dto.CreateTravelDto$$serializer.deserialize(CreateTravelDto.kt:5)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeSerializableValue(StreamingJsonDecoder.kt:69)
	at kotlinx.serialization.json.Json.decodeFromString(Json.kt:165)
	at io.ktor.serialization.kotlinx.KotlinxSerializationConverter.deserialize(KotlinxSerializationConverter.kt:69)
	... 98 common frames omitted
2024-11-29 13:35:39.993 [DefaultDispatcher-worker-3 @request#81] TRACE i.k.s.p.c.ContentNegotiation - Skipping response body transformation from HttpStatusCode to OutgoingContent for the POST /travel/create request because the HttpStatusCode type is ignored. See [ContentNegotiationConfig::ignoreType].
2024-11-29 13:35:39.994 [DefaultDispatcher-worker-4] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/create
2024-11-29 13:35:39.994 [DefaultDispatcher-worker-4] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/create
2024-11-29 13:35:40.003 [DefaultDispatcher-worker-4] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/swapTravel
2024-11-29 13:35:40.004 [DefaultDispatcher-worker-4] TRACE i.k.c.p.c.ContentNegotiation - Converted request body using io.ktor.serialization.kotlinx.KotlinxSerializationConverter@21ebc79c for http:///travel/swapTravel
2024-11-29 13:35:40.004 [DefaultDispatcher-worker-4] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/swapTravel
2024-11-29 13:35:40.004 [DefaultDispatcher-worker-4] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/swapTravel from class io.ktor.http.content.TextContent
2024-11-29 13:35:40.006 [DefaultDispatcher-worker-4 @call-context#90] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:35:40.008 [DefaultDispatcher-worker-4 @call-context#90] INFO  io.ktor.test - Application started in 0.002 seconds.
2024-11-29 13:35:40.009 [DefaultDispatcher-worker-3 @coroutine#91] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:35:40.009 [DefaultDispatcher-worker-3 @coroutine#91] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:35:40.010 [DefaultDispatcher-worker-4 @request#90] TRACE io.ktor.server.routing.Routing - Trace for [travel, swapTravel]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:1 -> FAILURE "Selector didn't match" @ /travel/create
    /travel/addPassenger, segment:1 -> FAILURE "Selector didn't match" @ /travel/addPassenger
    /travel/swapTravel, segment:2 -> SUCCESS @ /travel/swapTravel
      /travel/swapTravel/(method:POST), segment:2 -> SUCCESS @ /travel/swapTravel/(method:POST)
Matched routes:
  "" -> "travel" -> "swapTravel" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/swapTravel/(method:POST)
2024-11-29 13:35:40.011 [DefaultDispatcher-worker-4 @request#90] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.SwapTravelDto) for call /travel/swapTravel
2024-11-29 13:35:40.011 [DefaultDispatcher-worker-4 @request#90] INFO  io.ktor.test - Swapping travel 2 to 1
2024-11-29 13:35:40.012 [DefaultDispatcher-worker-4 @request#90] INFO  io.ktor.test - Swapping travel 2 to 1 was true
2024-11-29 13:35:40.013 [DefaultDispatcher-worker-4] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/swapTravel
2024-11-29 13:35:40.014 [DefaultDispatcher-worker-4] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/swapTravel
2024-11-29 13:35:40.015 [DefaultDispatcher-worker-4] TRACE i.k.c.p.c.ContentNegotiation - Response body was converted to class com.sharcar.domain.usecases.model.SwapTravelToNewOneResult for http://localhost/travel/swapTravel.
2024-11-29 13:38:14.204 [DefaultDispatcher-worker-1] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///enterprise/register
2024-11-29 13:38:14.240 [DefaultDispatcher-worker-1] TRACE i.k.c.p.c.ContentNegotiation - Converted request body using io.ktor.serialization.kotlinx.KotlinxSerializationConverter@6bb9d164 for http:///enterprise/register
2024-11-29 13:38:14.240 [DefaultDispatcher-worker-1] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///enterprise/register
2024-11-29 13:38:14.241 [DefaultDispatcher-worker-1] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///enterprise/register from class io.ktor.http.content.TextContent
2024-11-29 13:38:14.326 [DefaultDispatcher-worker-2 @call-context#3] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:38:14.388 [DefaultDispatcher-worker-2 @call-context#3] INFO  io.ktor.test - Application started in 0.088 seconds.
2024-11-29 13:38:14.390 [DefaultDispatcher-worker-1 @coroutine#4] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:38:14.390 [DefaultDispatcher-worker-1 @coroutine#4] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:38:14.428 [DefaultDispatcher-worker-2 @request#3] TRACE io.ktor.server.routing.Routing - Trace for [enterprise, register]
/, segment:0 -> SUCCESS @ /
  /enterprise, segment:1 -> SUCCESS @ /enterprise
    /enterprise/register, segment:2 -> SUCCESS @ /enterprise/register
      /enterprise/register/(method:POST), segment:2 -> SUCCESS @ /enterprise/register/(method:POST)
Matched routes:
  "" -> "enterprise" -> "register" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /enterprise/register/(method:POST)
2024-11-29 13:38:14.445 [DefaultDispatcher-worker-2 @request#3] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.RegisterEnterpriseDto) for call /enterprise/register
2024-11-29 13:38:14.468 [DefaultDispatcher-worker-2 @request#3] INFO  io.ktor.test - Registering enterprise with nif 123456789
2024-11-29 13:38:14.474 [DefaultDispatcher-worker-2 @request#3] INFO  io.ktor.test - Registered true enterprise with nif 123456789
2024-11-29 13:38:14.518 [DefaultDispatcher-worker-1] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/enterprise/register
2024-11-29 13:38:14.519 [DefaultDispatcher-worker-1] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/enterprise/register
2024-11-29 13:38:14.533 [DefaultDispatcher-worker-1] TRACE i.k.c.p.c.ContentNegotiation - Response body was converted to class com.sharcar.domain.usecases.model.EnterpriseResult for http://localhost/enterprise/register.
2024-11-29 13:39:22.385 [DefaultDispatcher-worker-1] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///enterprise/register
2024-11-29 13:39:22.388 [DefaultDispatcher-worker-1] TRACE i.k.c.p.c.ContentNegotiation - Body type class kotlin.String is in ignored types. Skipping ContentNegotiation for http:///enterprise/register.
2024-11-29 13:39:22.388 [DefaultDispatcher-worker-1] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///enterprise/register
2024-11-29 13:39:22.391 [DefaultDispatcher-worker-1] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///enterprise/register from class kotlin.String
2024-11-29 13:39:22.454 [DefaultDispatcher-worker-2 @call-context#3] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:39:22.494 [DefaultDispatcher-worker-2 @call-context#3] INFO  io.ktor.test - Application started in 0.052 seconds.
2024-11-29 13:39:22.496 [DefaultDispatcher-worker-1 @coroutine#4] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:39:22.496 [DefaultDispatcher-worker-1 @coroutine#4] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:39:22.530 [DefaultDispatcher-worker-2 @request#3] TRACE io.ktor.server.routing.Routing - Trace for [enterprise, register]
/, segment:0 -> SUCCESS @ /
  /enterprise, segment:1 -> SUCCESS @ /enterprise
    /enterprise/register, segment:2 -> SUCCESS @ /enterprise/register
      /enterprise/register/(method:POST), segment:2 -> SUCCESS @ /enterprise/register/(method:POST)
Matched routes:
  "" -> "enterprise" -> "register" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /enterprise/register/(method:POST)
2024-11-29 13:39:22.550 [DefaultDispatcher-worker-2 @request#3] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.RegisterEnterpriseDto) for call /enterprise/register
2024-11-29 13:39:22.578 [DefaultDispatcher-worker-2 @request#3] DEBUG io.ktor.test - Unhandled: POST - /enterprise/register. Exception class io.ktor.server.plugins.BadRequestException: Failed to convert request body to class com.sharcar.api.dto.RegisterEnterpriseDto
io.ktor.server.plugins.BadRequestException: Failed to convert request body to class com.sharcar.api.dto.RegisterEnterpriseDto
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.convertBody(RequestConverter.kt:69)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.access$convertBody(RequestConverter.kt:1)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invokeSuspend(RequestConverter.kt:40)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invoke(RequestConverter.kt)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invoke(RequestConverter.kt)
	at io.ktor.server.application.OnCallReceiveContext.transformBody(KtorCallContexts.kt:64)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invokeSuspend(RequestConverter.kt:28)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invoke(RequestConverter.kt)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invoke(RequestConverter.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invokeSuspend(PluginBuilder.kt:165)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invokeSuspend(PluginBuilder.kt:109)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invokeSuspend(PluginBuilder.kt:217)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invokeSuspend(PluginBuilder.kt:200)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invoke(PluginBuilder.kt)
	at io.ktor.util.debug.ContextUtilsKt.addToContextInDebugMode(ContextUtils.kt:30)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invokeSuspend(PluginBuilder.kt:196)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invoke(PluginBuilder.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.application.PipelineCall$DefaultImpls.receiveNullable(PipelineCall.kt:92)
	at io.ktor.server.routing.RoutingPipelineCall.receiveNullable(RoutingPipelineCall.kt:20)
	at io.ktor.server.routing.RoutingCall.receiveNullable(RoutingNode.kt:226)
	at com.sharcar.api.EnterpriseApiKt$enterpriseRoutes$1$1.invokeSuspend(EnterpriseApi.kt:25)
	at com.sharcar.api.EnterpriseApiKt$enterpriseRoutes$1$1.invoke(EnterpriseApi.kt)
	at com.sharcar.api.EnterpriseApiKt$enterpriseRoutes$1$1.invoke(EnterpriseApi.kt)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invokeSuspend(RoutingNode.kt:116)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invoke(RoutingNode.kt)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invoke(RoutingNode.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.routing.RoutingRoot.executeResult(RoutingRoot.kt:193)
	at io.ktor.server.routing.RoutingRoot.interceptor(RoutingRoot.kt:66)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invokeSuspend(RoutingRoot.kt:143)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invoke(RoutingRoot.kt)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invoke(RoutingRoot.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invokeSuspend(BaseApplicationEngine.kt:112)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invoke(BaseApplicationEngine.kt)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invoke(BaseApplicationEngine.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.testing.TestApplicationEngine$2.invokeSuspend(TestApplicationEngine.kt:222)
	at io.ktor.server.testing.TestApplicationEngine$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$1.invokeSuspend(TestApplicationEngine.kt:96)
	at io.ktor.server.testing.TestApplicationEngine$1.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$1.invoke(TestApplicationEngine.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invokeSuspend(TestApplicationEngine.kt:221)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invoke(TestApplicationEngine.kt)
	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndispatchedOrReturn(Undispatched.kt:42)
	at kotlinx.coroutines.BuildersKt__Builders_commonKt.withContext(Builders.common.kt:164)
	at kotlinx.coroutines.BuildersKt.withContext(Unknown Source)
	at io.ktor.server.testing.TestApplicationEngine.handleRequest$ktor_server_test_host(TestApplicationEngine.kt:186)
	at io.ktor.server.testing.TestApplicationEngine.handleRequest$ktor_server_test_host$default(TestApplicationEngine.kt:169)
	at io.ktor.server.testing.client.TestHttpClientEngine.runRequest(TestHttpClientEngine.kt:89)
	at io.ktor.server.testing.client.TestHttpClientEngine.execute(TestHttpClientEngine.kt:56)
	at io.ktor.server.testing.client.DelegatingTestClientEngine.execute(DelegatingTestClientEngine.kt:58)
	at io.ktor.server.testing.client.DelegatingTestClientEngine$execute$1.invokeSuspend(DelegatingTestClientEngine.kt)
	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:101)
	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:113)
	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:89)
	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:589)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:823)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:720)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:707)
Caused by: io.ktor.serialization.JsonConvertException: Illegal input: Unexpected JSON token at offset 23: Trailing comma before the end of JSON object at path: $.nif
Trailing commas are non-complaint JSON and not allowed by default. Use 'allowTrailingCommas = true' in 'Json {}' builder to support them.
JSON input: {
    "nif": 123456789,
}
	at io.ktor.serialization.kotlinx.KotlinxSerializationConverter.deserialize(KotlinxSerializationConverter.kt:77)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.convertBody(RequestConverter.kt:67)
	... 97 common frames omitted
Caused by: kotlinx.serialization.json.internal.JsonDecodingException: Unexpected JSON token at offset 23: Trailing comma before the end of JSON object at path: $.nif
Trailing commas are non-complaint JSON and not allowed by default. Use 'allowTrailingCommas = true' in 'Json {}' builder to support them.
JSON input: {
    "nif": 123456789,
}
	at kotlinx.serialization.json.internal.JsonExceptionsKt.JsonDecodingException(JsonExceptions.kt:24)
	at kotlinx.serialization.json.internal.JsonExceptionsKt.JsonDecodingException(JsonExceptions.kt:32)
	at kotlinx.serialization.json.internal.AbstractJsonLexer.fail(AbstractJsonLexer.kt:580)
	at kotlinx.serialization.json.internal.JsonExceptionsKt.invalidTrailingComma(JsonExceptions.kt:50)
	at kotlinx.serialization.json.internal.JsonExceptionsKt.invalidTrailingComma$default(JsonExceptions.kt:49)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeObjectIndex(StreamingJsonDecoder.kt:246)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeElementIndex(StreamingJsonDecoder.kt:178)
	at com.sharcar.api.dto.RegisterEnterpriseDto$$serializer.deserialize(RegisterEnterpriseDto.kt:5)
	at com.sharcar.api.dto.RegisterEnterpriseDto$$serializer.deserialize(RegisterEnterpriseDto.kt:5)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeSerializableValue(StreamingJsonDecoder.kt:69)
	at kotlinx.serialization.json.Json.decodeFromString(Json.kt:165)
	at io.ktor.serialization.kotlinx.KotlinxSerializationConverter.deserialize(KotlinxSerializationConverter.kt:69)
	... 98 common frames omitted
2024-11-29 13:39:22.582 [DefaultDispatcher-worker-2 @request#3] TRACE i.k.s.p.c.ContentNegotiation - Skipping response body transformation from HttpStatusCode to OutgoingContent for the POST /enterprise/register request because the HttpStatusCode type is ignored. See [ContentNegotiationConfig::ignoreType].
2024-11-29 13:39:22.604 [DefaultDispatcher-worker-2] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/enterprise/register
2024-11-29 13:39:22.604 [DefaultDispatcher-worker-2] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/enterprise/register
2024-11-29 13:40:02.785 [DefaultDispatcher-worker-1] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///enterprise/register
2024-11-29 13:40:02.814 [DefaultDispatcher-worker-1] TRACE i.k.c.p.c.ContentNegotiation - Converted request body using io.ktor.serialization.kotlinx.KotlinxSerializationConverter@18ebe36f for http:///enterprise/register
2024-11-29 13:40:02.814 [DefaultDispatcher-worker-1] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///enterprise/register
2024-11-29 13:40:02.814 [DefaultDispatcher-worker-1] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///enterprise/register from class io.ktor.http.content.TextContent
2024-11-29 13:40:02.863 [DefaultDispatcher-worker-2 @call-context#3] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:40:02.907 [DefaultDispatcher-worker-2 @call-context#3] INFO  io.ktor.test - Application started in 0.059 seconds.
2024-11-29 13:40:02.910 [DefaultDispatcher-worker-1 @coroutine#4] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:40:02.911 [DefaultDispatcher-worker-1 @coroutine#4] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:40:02.952 [DefaultDispatcher-worker-1 @request#3] TRACE io.ktor.server.routing.Routing - Trace for [enterprise, register]
/, segment:0 -> SUCCESS @ /
  /enterprise, segment:1 -> SUCCESS @ /enterprise
    /enterprise/register, segment:2 -> SUCCESS @ /enterprise/register
      /enterprise/register/(method:POST), segment:2 -> SUCCESS @ /enterprise/register/(method:POST)
Matched routes:
  "" -> "enterprise" -> "register" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /enterprise/register/(method:POST)
2024-11-29 13:40:02.971 [DefaultDispatcher-worker-1 @request#3] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.RegisterEnterpriseDto) for call /enterprise/register
2024-11-29 13:40:02.992 [DefaultDispatcher-worker-1 @request#3] INFO  io.ktor.test - Registering enterprise with nif 123456789
2024-11-29 13:40:02.997 [DefaultDispatcher-worker-1 @request#3] INFO  io.ktor.test - Registered true enterprise with nif 123456789
2024-11-29 13:40:03.045 [DefaultDispatcher-worker-5] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/enterprise/register
2024-11-29 13:40:03.046 [DefaultDispatcher-worker-5] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/enterprise/register
2024-11-29 13:40:03.064 [DefaultDispatcher-worker-5] TRACE i.k.c.p.c.ContentNegotiation - Response body was converted to class com.sharcar.domain.usecases.model.EnterpriseResult for http://localhost/enterprise/register.
2024-11-29 13:40:03.083 [DefaultDispatcher-worker-5] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///enterprise/register
2024-11-29 13:40:03.083 [DefaultDispatcher-worker-5] TRACE i.k.c.p.c.ContentNegotiation - Body type class kotlin.String is in ignored types. Skipping ContentNegotiation for http:///enterprise/register.
2024-11-29 13:40:03.084 [DefaultDispatcher-worker-5] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///enterprise/register
2024-11-29 13:40:03.084 [DefaultDispatcher-worker-5] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///enterprise/register from class kotlin.String
2024-11-29 13:40:03.085 [DefaultDispatcher-worker-5 @call-context#15] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:40:03.086 [DefaultDispatcher-worker-5 @call-context#15] INFO  io.ktor.test - Application started in 0.001 seconds.
2024-11-29 13:40:03.087 [DefaultDispatcher-worker-4 @coroutine#16] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:40:03.087 [DefaultDispatcher-worker-4 @coroutine#16] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:40:03.088 [DefaultDispatcher-worker-5 @request#15] TRACE io.ktor.server.routing.Routing - Trace for [enterprise, register]
/, segment:0 -> SUCCESS @ /
  /enterprise, segment:1 -> SUCCESS @ /enterprise
    /enterprise/register, segment:2 -> SUCCESS @ /enterprise/register
      /enterprise/register/(method:POST), segment:2 -> SUCCESS @ /enterprise/register/(method:POST)
Matched routes:
  "" -> "enterprise" -> "register" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /enterprise/register/(method:POST)
2024-11-29 13:40:03.089 [DefaultDispatcher-worker-5 @request#15] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.RegisterEnterpriseDto) for call /enterprise/register
2024-11-29 13:40:03.093 [DefaultDispatcher-worker-5 @request#15] DEBUG io.ktor.test - Unhandled: POST - /enterprise/register. Exception class io.ktor.server.plugins.BadRequestException: Failed to convert request body to class com.sharcar.api.dto.RegisterEnterpriseDto
io.ktor.server.plugins.BadRequestException: Failed to convert request body to class com.sharcar.api.dto.RegisterEnterpriseDto
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.convertBody(RequestConverter.kt:69)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.access$convertBody(RequestConverter.kt:1)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invokeSuspend(RequestConverter.kt:40)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invoke(RequestConverter.kt)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invoke(RequestConverter.kt)
	at io.ktor.server.application.OnCallReceiveContext.transformBody(KtorCallContexts.kt:64)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invokeSuspend(RequestConverter.kt:28)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invoke(RequestConverter.kt)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invoke(RequestConverter.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invokeSuspend(PluginBuilder.kt:165)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invokeSuspend(PluginBuilder.kt:109)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invokeSuspend(PluginBuilder.kt:217)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invokeSuspend(PluginBuilder.kt:200)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invoke(PluginBuilder.kt)
	at io.ktor.util.debug.ContextUtilsKt.addToContextInDebugMode(ContextUtils.kt:30)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invokeSuspend(PluginBuilder.kt:196)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invoke(PluginBuilder.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.application.PipelineCall$DefaultImpls.receiveNullable(PipelineCall.kt:92)
	at io.ktor.server.routing.RoutingPipelineCall.receiveNullable(RoutingPipelineCall.kt:20)
	at io.ktor.server.routing.RoutingCall.receiveNullable(RoutingNode.kt:226)
	at com.sharcar.api.EnterpriseApiKt$enterpriseRoutes$1$1.invokeSuspend(EnterpriseApi.kt:25)
	at com.sharcar.api.EnterpriseApiKt$enterpriseRoutes$1$1.invoke(EnterpriseApi.kt)
	at com.sharcar.api.EnterpriseApiKt$enterpriseRoutes$1$1.invoke(EnterpriseApi.kt)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invokeSuspend(RoutingNode.kt:116)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invoke(RoutingNode.kt)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invoke(RoutingNode.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.routing.RoutingRoot.executeResult(RoutingRoot.kt:193)
	at io.ktor.server.routing.RoutingRoot.interceptor(RoutingRoot.kt:66)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invokeSuspend(RoutingRoot.kt:143)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invoke(RoutingRoot.kt)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invoke(RoutingRoot.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invokeSuspend(BaseApplicationEngine.kt:112)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invoke(BaseApplicationEngine.kt)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invoke(BaseApplicationEngine.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.testing.TestApplicationEngine$2.invokeSuspend(TestApplicationEngine.kt:222)
	at io.ktor.server.testing.TestApplicationEngine$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$1.invokeSuspend(TestApplicationEngine.kt:96)
	at io.ktor.server.testing.TestApplicationEngine$1.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$1.invoke(TestApplicationEngine.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invokeSuspend(TestApplicationEngine.kt:221)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invoke(TestApplicationEngine.kt)
	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndispatchedOrReturn(Undispatched.kt:42)
	at kotlinx.coroutines.BuildersKt__Builders_commonKt.withContext(Builders.common.kt:164)
	at kotlinx.coroutines.BuildersKt.withContext(Unknown Source)
	at io.ktor.server.testing.TestApplicationEngine.handleRequest$ktor_server_test_host(TestApplicationEngine.kt:186)
	at io.ktor.server.testing.TestApplicationEngine.handleRequest$ktor_server_test_host$default(TestApplicationEngine.kt:169)
	at io.ktor.server.testing.client.TestHttpClientEngine.runRequest(TestHttpClientEngine.kt:89)
	at io.ktor.server.testing.client.TestHttpClientEngine.execute(TestHttpClientEngine.kt:56)
	at io.ktor.server.testing.client.DelegatingTestClientEngine.execute(DelegatingTestClientEngine.kt:58)
	at io.ktor.server.testing.client.DelegatingTestClientEngine$execute$1.invokeSuspend(DelegatingTestClientEngine.kt)
	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:101)
	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:113)
	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:89)
	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:589)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:823)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:720)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:707)
Caused by: io.ktor.serialization.JsonConvertException: Illegal input: Unexpected JSON token at offset 23: Trailing comma before the end of JSON object at path: $.nif
Trailing commas are non-complaint JSON and not allowed by default. Use 'allowTrailingCommas = true' in 'Json {}' builder to support them.
JSON input: {
    "nif": 123456789,
}
	at io.ktor.serialization.kotlinx.KotlinxSerializationConverter.deserialize(KotlinxSerializationConverter.kt:77)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.convertBody(RequestConverter.kt:67)
	... 97 common frames omitted
Caused by: kotlinx.serialization.json.internal.JsonDecodingException: Unexpected JSON token at offset 23: Trailing comma before the end of JSON object at path: $.nif
Trailing commas are non-complaint JSON and not allowed by default. Use 'allowTrailingCommas = true' in 'Json {}' builder to support them.
JSON input: {
    "nif": 123456789,
}
	at kotlinx.serialization.json.internal.JsonExceptionsKt.JsonDecodingException(JsonExceptions.kt:24)
	at kotlinx.serialization.json.internal.JsonExceptionsKt.JsonDecodingException(JsonExceptions.kt:32)
	at kotlinx.serialization.json.internal.AbstractJsonLexer.fail(AbstractJsonLexer.kt:580)
	at kotlinx.serialization.json.internal.JsonExceptionsKt.invalidTrailingComma(JsonExceptions.kt:50)
	at kotlinx.serialization.json.internal.JsonExceptionsKt.invalidTrailingComma$default(JsonExceptions.kt:49)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeObjectIndex(StreamingJsonDecoder.kt:246)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeElementIndex(StreamingJsonDecoder.kt:178)
	at com.sharcar.api.dto.RegisterEnterpriseDto$$serializer.deserialize(RegisterEnterpriseDto.kt:5)
	at com.sharcar.api.dto.RegisterEnterpriseDto$$serializer.deserialize(RegisterEnterpriseDto.kt:5)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeSerializableValue(StreamingJsonDecoder.kt:69)
	at kotlinx.serialization.json.Json.decodeFromString(Json.kt:165)
	at io.ktor.serialization.kotlinx.KotlinxSerializationConverter.deserialize(KotlinxSerializationConverter.kt:69)
	... 98 common frames omitted
2024-11-29 13:40:03.098 [DefaultDispatcher-worker-5 @request#15] TRACE i.k.s.p.c.ContentNegotiation - Skipping response body transformation from HttpStatusCode to OutgoingContent for the POST /enterprise/register request because the HttpStatusCode type is ignored. See [ContentNegotiationConfig::ignoreType].
2024-11-29 13:40:03.100 [DefaultDispatcher-worker-3] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/enterprise/register
2024-11-29 13:40:03.100 [DefaultDispatcher-worker-3] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/enterprise/register
2024-11-29 13:40:03.209 [DefaultDispatcher-worker-3] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/create
2024-11-29 13:40:03.211 [DefaultDispatcher-worker-3] TRACE i.k.c.p.c.ContentNegotiation - Converted request body using io.ktor.serialization.kotlinx.KotlinxSerializationConverter@21775634 for http:///travel/create
2024-11-29 13:40:03.211 [DefaultDispatcher-worker-3] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/create
2024-11-29 13:40:03.211 [DefaultDispatcher-worker-3] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/create from class io.ktor.http.content.TextContent
2024-11-29 13:40:03.212 [DefaultDispatcher-worker-3 @call-context#24] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:40:03.217 [DefaultDispatcher-worker-3 @call-context#24] INFO  io.ktor.test - Application started in 0.005 seconds.
2024-11-29 13:40:03.218 [DefaultDispatcher-worker-6 @coroutine#25] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:40:03.218 [DefaultDispatcher-worker-6 @coroutine#25] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:40:03.219 [DefaultDispatcher-worker-3 @request#24] TRACE io.ktor.server.routing.Routing - Trace for [travel, create]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:2 -> SUCCESS @ /travel/create
      /travel/create/(method:POST), segment:2 -> SUCCESS @ /travel/create/(method:POST)
    /travel/addPassenger, segment:1 -> FAILURE "Selector didn't match" @ /travel/addPassenger
    /travel/swapTravel, segment:1 -> FAILURE "Selector didn't match" @ /travel/swapTravel
Matched routes:
  "" -> "travel" -> "create" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/create/(method:POST)
2024-11-29 13:40:03.220 [DefaultDispatcher-worker-3 @request#24] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.CreateTravelDto) for call /travel/create
2024-11-29 13:40:03.221 [DefaultDispatcher-worker-3 @request#24] INFO  io.ktor.test - Creating travel from usuario@gmail.com
2024-11-29 13:40:03.222 [DefaultDispatcher-worker-3 @request#24] INFO  io.ktor.test - Created travel from usuario@gmail.com
2024-11-29 13:40:03.227 [DefaultDispatcher-worker-5] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/create
2024-11-29 13:40:03.228 [DefaultDispatcher-worker-5] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/create
2024-11-29 13:40:03.229 [DefaultDispatcher-worker-5] TRACE i.k.c.p.c.ContentNegotiation - Response body was converted to class com.sharcar.domain.usecases.model.CreationInscriptionResult for http://localhost/travel/create.
2024-11-29 13:40:03.237 [DefaultDispatcher-worker-5] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/create
2024-11-29 13:40:03.238 [DefaultDispatcher-worker-5] TRACE i.k.c.p.c.ContentNegotiation - Body type class kotlin.String is in ignored types. Skipping ContentNegotiation for http:///travel/create.
2024-11-29 13:40:03.238 [DefaultDispatcher-worker-5] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/create
2024-11-29 13:40:03.238 [DefaultDispatcher-worker-5] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/create from class kotlin.String
2024-11-29 13:40:03.240 [DefaultDispatcher-worker-4 @call-context#36] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:40:03.241 [DefaultDispatcher-worker-4 @call-context#36] INFO  io.ktor.test - Application started in 0.001 seconds.
2024-11-29 13:40:03.241 [DefaultDispatcher-worker-6 @coroutine#37] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:40:03.241 [DefaultDispatcher-worker-6 @coroutine#37] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:40:03.243 [DefaultDispatcher-worker-6 @request#36] TRACE io.ktor.server.routing.Routing - Trace for [travel, create]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:2 -> SUCCESS @ /travel/create
      /travel/create/(method:POST), segment:2 -> SUCCESS @ /travel/create/(method:POST)
    /travel/addPassenger, segment:1 -> FAILURE "Selector didn't match" @ /travel/addPassenger
    /travel/swapTravel, segment:1 -> FAILURE "Selector didn't match" @ /travel/swapTravel
Matched routes:
  "" -> "travel" -> "create" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/create/(method:POST)
2024-11-29 13:40:03.243 [DefaultDispatcher-worker-6 @request#36] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.CreateTravelDto) for call /travel/create
2024-11-29 13:40:03.250 [DefaultDispatcher-worker-6 @request#36] DEBUG io.ktor.test - Unhandled: POST - /travel/create. Exception class io.ktor.server.plugins.BadRequestException: Failed to convert request body to class com.sharcar.api.dto.CreateTravelDto
io.ktor.server.plugins.BadRequestException: Failed to convert request body to class com.sharcar.api.dto.CreateTravelDto
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.convertBody(RequestConverter.kt:69)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.access$convertBody(RequestConverter.kt:1)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invokeSuspend(RequestConverter.kt:40)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invoke(RequestConverter.kt)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invoke(RequestConverter.kt)
	at io.ktor.server.application.OnCallReceiveContext.transformBody(KtorCallContexts.kt:64)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invokeSuspend(RequestConverter.kt:28)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invoke(RequestConverter.kt)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invoke(RequestConverter.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invokeSuspend(PluginBuilder.kt:165)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invokeSuspend(PluginBuilder.kt:109)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invokeSuspend(PluginBuilder.kt:217)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invokeSuspend(PluginBuilder.kt:200)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invoke(PluginBuilder.kt)
	at io.ktor.util.debug.ContextUtilsKt.addToContextInDebugMode(ContextUtils.kt:30)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invokeSuspend(PluginBuilder.kt:196)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invoke(PluginBuilder.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.application.PipelineCall$DefaultImpls.receiveNullable(PipelineCall.kt:92)
	at io.ktor.server.routing.RoutingPipelineCall.receiveNullable(RoutingPipelineCall.kt:20)
	at io.ktor.server.routing.RoutingCall.receiveNullable(RoutingNode.kt:226)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invokeSuspend(TravelApi.kt:54)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invoke(TravelApi.kt)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invoke(TravelApi.kt)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invokeSuspend(RoutingNode.kt:116)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invoke(RoutingNode.kt)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invoke(RoutingNode.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.routing.RoutingRoot.executeResult(RoutingRoot.kt:193)
	at io.ktor.server.routing.RoutingRoot.interceptor(RoutingRoot.kt:66)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invokeSuspend(RoutingRoot.kt:143)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invoke(RoutingRoot.kt)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invoke(RoutingRoot.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invokeSuspend(BaseApplicationEngine.kt:112)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invoke(BaseApplicationEngine.kt)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invoke(BaseApplicationEngine.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.testing.TestApplicationEngine$2.invokeSuspend(TestApplicationEngine.kt:222)
	at io.ktor.server.testing.TestApplicationEngine$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$1.invokeSuspend(TestApplicationEngine.kt:96)
	at io.ktor.server.testing.TestApplicationEngine$1.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$1.invoke(TestApplicationEngine.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invokeSuspend(TestApplicationEngine.kt:221)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invoke(TestApplicationEngine.kt)
	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndispatchedOrReturn(Undispatched.kt:42)
	at kotlinx.coroutines.BuildersKt__Builders_commonKt.withContext(Builders.common.kt:164)
	at kotlinx.coroutines.BuildersKt.withContext(Unknown Source)
	at io.ktor.server.testing.TestApplicationEngine.handleRequest$ktor_server_test_host(TestApplicationEngine.kt:186)
	at io.ktor.server.testing.TestApplicationEngine.handleRequest$ktor_server_test_host$default(TestApplicationEngine.kt:169)
	at io.ktor.server.testing.client.TestHttpClientEngine.runRequest(TestHttpClientEngine.kt:89)
	at io.ktor.server.testing.client.TestHttpClientEngine.execute(TestHttpClientEngine.kt:56)
	at io.ktor.server.testing.client.DelegatingTestClientEngine.execute(DelegatingTestClientEngine.kt:58)
	at io.ktor.server.testing.client.DelegatingTestClientEngine$execute$1.invokeSuspend(DelegatingTestClientEngine.kt)
	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:101)
	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:113)
	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:89)
	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:589)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:823)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:720)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:707)
Caused by: io.ktor.serialization.JsonConvertException: Illegal input: Unexpected JSON token at offset 7: Encountered an unknown key 'id' at path: $
Use 'ignoreUnknownKeys = true' in 'Json {}' builder to ignore unknown keys.
JSON input: {
    "id": 1,
    "date": "2007-12-03T10:15:30",
    "place": "Gasolinera",
    "driverId": 1,
}
	at io.ktor.serialization.kotlinx.KotlinxSerializationConverter.deserialize(KotlinxSerializationConverter.kt:77)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.convertBody(RequestConverter.kt:67)
	... 97 common frames omitted
Caused by: kotlinx.serialization.json.internal.JsonDecodingException: Unexpected JSON token at offset 7: Encountered an unknown key 'id' at path: $
Use 'ignoreUnknownKeys = true' in 'Json {}' builder to ignore unknown keys.
JSON input: {
    "id": 1,
    "date": "2007-12-03T10:15:30",
    "place": "Gasolinera",
    "driverId": 1,
}
	at kotlinx.serialization.json.internal.JsonExceptionsKt.JsonDecodingException(JsonExceptions.kt:24)
	at kotlinx.serialization.json.internal.JsonExceptionsKt.JsonDecodingException(JsonExceptions.kt:32)
	at kotlinx.serialization.json.internal.AbstractJsonLexer.fail(AbstractJsonLexer.kt:580)
	at kotlinx.serialization.json.internal.AbstractJsonLexer.failOnUnknownKey(AbstractJsonLexer.kt:575)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.handleUnknown(StreamingJsonDecoder.kt:257)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeObjectIndex(StreamingJsonDecoder.kt:243)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeElementIndex(StreamingJsonDecoder.kt:178)
	at com.sharcar.api.dto.CreateTravelDto$$serializer.deserialize(CreateTravelDto.kt:5)
	at com.sharcar.api.dto.CreateTravelDto$$serializer.deserialize(CreateTravelDto.kt:5)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeSerializableValue(StreamingJsonDecoder.kt:69)
	at kotlinx.serialization.json.Json.decodeFromString(Json.kt:165)
	at io.ktor.serialization.kotlinx.KotlinxSerializationConverter.deserialize(KotlinxSerializationConverter.kt:69)
	... 98 common frames omitted
2024-11-29 13:40:03.251 [DefaultDispatcher-worker-6 @request#36] TRACE i.k.s.p.c.ContentNegotiation - Skipping response body transformation from HttpStatusCode to OutgoingContent for the POST /travel/create request because the HttpStatusCode type is ignored. See [ContentNegotiationConfig::ignoreType].
2024-11-29 13:40:03.253 [DefaultDispatcher-worker-4] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/create
2024-11-29 13:40:03.253 [DefaultDispatcher-worker-4] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/create
2024-11-29 13:40:03.261 [DefaultDispatcher-worker-4] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/create
2024-11-29 13:40:03.261 [DefaultDispatcher-worker-4] TRACE i.k.c.p.c.ContentNegotiation - Converted request body using io.ktor.serialization.kotlinx.KotlinxSerializationConverter@29d2b5b7 for http:///travel/create
2024-11-29 13:40:03.262 [DefaultDispatcher-worker-4] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/create
2024-11-29 13:40:03.262 [DefaultDispatcher-worker-4] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/create from class io.ktor.http.content.TextContent
2024-11-29 13:40:03.263 [DefaultDispatcher-worker-4 @call-context#45] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:40:03.264 [DefaultDispatcher-worker-4 @call-context#45] INFO  io.ktor.test - Application started in 0.001 seconds.
2024-11-29 13:40:03.264 [DefaultDispatcher-worker-5 @coroutine#46] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:40:03.264 [DefaultDispatcher-worker-5 @coroutine#46] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:40:03.265 [DefaultDispatcher-worker-6 @request#45] TRACE io.ktor.server.routing.Routing - Trace for [travel, create]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:2 -> SUCCESS @ /travel/create
      /travel/create/(method:POST), segment:2 -> SUCCESS @ /travel/create/(method:POST)
    /travel/addPassenger, segment:1 -> FAILURE "Selector didn't match" @ /travel/addPassenger
    /travel/swapTravel, segment:1 -> FAILURE "Selector didn't match" @ /travel/swapTravel
Matched routes:
  "" -> "travel" -> "create" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/create/(method:POST)
2024-11-29 13:40:03.266 [DefaultDispatcher-worker-6 @request#45] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.CreateTravelDto) for call /travel/create
2024-11-29 13:40:03.267 [DefaultDispatcher-worker-6 @request#45] INFO  io.ktor.test - Creating travel from usuario@gmail.com
2024-11-29 13:40:03.268 [DefaultDispatcher-worker-6 @request#45] INFO  io.ktor.test - Created travel from usuario@gmail.com
2024-11-29 13:40:03.270 [DefaultDispatcher-worker-1] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/create
2024-11-29 13:40:03.270 [DefaultDispatcher-worker-1] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/create
2024-11-29 13:40:03.271 [DefaultDispatcher-worker-1] TRACE i.k.c.p.c.ContentNegotiation - Response body was converted to class com.sharcar.domain.usecases.model.CreationInscriptionResult for http://localhost/travel/create.
2024-11-29 13:40:03.280 [DefaultDispatcher-worker-1] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/create
2024-11-29 13:40:03.280 [DefaultDispatcher-worker-1] TRACE i.k.c.p.c.ContentNegotiation - Body type class kotlin.String is in ignored types. Skipping ContentNegotiation for http:///travel/create.
2024-11-29 13:40:03.280 [DefaultDispatcher-worker-1] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/create
2024-11-29 13:40:03.281 [DefaultDispatcher-worker-1] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/create from class kotlin.String
2024-11-29 13:40:03.282 [DefaultDispatcher-worker-1 @call-context#57] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:40:03.284 [DefaultDispatcher-worker-1 @call-context#57] INFO  io.ktor.test - Application started in 0.002 seconds.
2024-11-29 13:40:03.285 [DefaultDispatcher-worker-3 @coroutine#58] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:40:03.285 [DefaultDispatcher-worker-3 @coroutine#58] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:40:03.286 [DefaultDispatcher-worker-3 @request#57] TRACE io.ktor.server.routing.Routing - Trace for [travel, create]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:2 -> SUCCESS @ /travel/create
      /travel/create/(method:POST), segment:2 -> SUCCESS @ /travel/create/(method:POST)
    /travel/addPassenger, segment:1 -> FAILURE "Selector didn't match" @ /travel/addPassenger
    /travel/swapTravel, segment:1 -> FAILURE "Selector didn't match" @ /travel/swapTravel
Matched routes:
  "" -> "travel" -> "create" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/create/(method:POST)
2024-11-29 13:40:03.287 [DefaultDispatcher-worker-3 @request#57] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.CreateTravelDto) for call /travel/create
2024-11-29 13:40:03.287 [DefaultDispatcher-worker-3 @request#57] DEBUG io.ktor.test - Unhandled: POST - /travel/create. Exception class io.ktor.server.plugins.BadRequestException: Failed to convert request body to class com.sharcar.api.dto.CreateTravelDto
io.ktor.server.plugins.BadRequestException: Failed to convert request body to class com.sharcar.api.dto.CreateTravelDto
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.convertBody(RequestConverter.kt:69)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.access$convertBody(RequestConverter.kt:1)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invokeSuspend(RequestConverter.kt:40)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invoke(RequestConverter.kt)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invoke(RequestConverter.kt)
	at io.ktor.server.application.OnCallReceiveContext.transformBody(KtorCallContexts.kt:64)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invokeSuspend(RequestConverter.kt:28)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invoke(RequestConverter.kt)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invoke(RequestConverter.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invokeSuspend(PluginBuilder.kt:165)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invokeSuspend(PluginBuilder.kt:109)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invokeSuspend(PluginBuilder.kt:217)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invokeSuspend(PluginBuilder.kt:200)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invoke(PluginBuilder.kt)
	at io.ktor.util.debug.ContextUtilsKt.addToContextInDebugMode(ContextUtils.kt:30)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invokeSuspend(PluginBuilder.kt:196)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invoke(PluginBuilder.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.application.PipelineCall$DefaultImpls.receiveNullable(PipelineCall.kt:92)
	at io.ktor.server.routing.RoutingPipelineCall.receiveNullable(RoutingPipelineCall.kt:20)
	at io.ktor.server.routing.RoutingCall.receiveNullable(RoutingNode.kt:226)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invokeSuspend(TravelApi.kt:54)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invoke(TravelApi.kt)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invoke(TravelApi.kt)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invokeSuspend(RoutingNode.kt:116)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invoke(RoutingNode.kt)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invoke(RoutingNode.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.routing.RoutingRoot.executeResult(RoutingRoot.kt:193)
	at io.ktor.server.routing.RoutingRoot.interceptor(RoutingRoot.kt:66)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invokeSuspend(RoutingRoot.kt:143)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invoke(RoutingRoot.kt)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invoke(RoutingRoot.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invokeSuspend(BaseApplicationEngine.kt:112)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invoke(BaseApplicationEngine.kt)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invoke(BaseApplicationEngine.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.testing.TestApplicationEngine$2.invokeSuspend(TestApplicationEngine.kt:222)
	at io.ktor.server.testing.TestApplicationEngine$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$1.invokeSuspend(TestApplicationEngine.kt:96)
	at io.ktor.server.testing.TestApplicationEngine$1.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$1.invoke(TestApplicationEngine.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invokeSuspend(TestApplicationEngine.kt:221)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invoke(TestApplicationEngine.kt)
	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndispatchedOrReturn(Undispatched.kt:42)
	at kotlinx.coroutines.BuildersKt__Builders_commonKt.withContext(Builders.common.kt:164)
	at kotlinx.coroutines.BuildersKt.withContext(Unknown Source)
	at io.ktor.server.testing.TestApplicationEngine.handleRequest$ktor_server_test_host(TestApplicationEngine.kt:186)
	at io.ktor.server.testing.TestApplicationEngine.handleRequest$ktor_server_test_host$default(TestApplicationEngine.kt:169)
	at io.ktor.server.testing.client.TestHttpClientEngine.runRequest(TestHttpClientEngine.kt:89)
	at io.ktor.server.testing.client.TestHttpClientEngine.execute(TestHttpClientEngine.kt:56)
	at io.ktor.server.testing.client.DelegatingTestClientEngine.execute(DelegatingTestClientEngine.kt:58)
	at io.ktor.server.testing.client.DelegatingTestClientEngine$execute$1.invokeSuspend(DelegatingTestClientEngine.kt)
	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:101)
	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:113)
	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:89)
	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:589)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:823)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:720)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:707)
Caused by: io.ktor.serialization.JsonConvertException: Illegal input: Unexpected JSON token at offset 7: Encountered an unknown key 'id' at path: $
Use 'ignoreUnknownKeys = true' in 'Json {}' builder to ignore unknown keys.
JSON input: {
    "id": 1
}
	at io.ktor.serialization.kotlinx.KotlinxSerializationConverter.deserialize(KotlinxSerializationConverter.kt:77)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.convertBody(RequestConverter.kt:67)
	... 97 common frames omitted
Caused by: kotlinx.serialization.json.internal.JsonDecodingException: Unexpected JSON token at offset 7: Encountered an unknown key 'id' at path: $
Use 'ignoreUnknownKeys = true' in 'Json {}' builder to ignore unknown keys.
JSON input: {
    "id": 1
}
	at kotlinx.serialization.json.internal.JsonExceptionsKt.JsonDecodingException(JsonExceptions.kt:24)
	at kotlinx.serialization.json.internal.JsonExceptionsKt.JsonDecodingException(JsonExceptions.kt:32)
	at kotlinx.serialization.json.internal.AbstractJsonLexer.fail(AbstractJsonLexer.kt:580)
	at kotlinx.serialization.json.internal.AbstractJsonLexer.failOnUnknownKey(AbstractJsonLexer.kt:575)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.handleUnknown(StreamingJsonDecoder.kt:257)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeObjectIndex(StreamingJsonDecoder.kt:243)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeElementIndex(StreamingJsonDecoder.kt:178)
	at com.sharcar.api.dto.CreateTravelDto$$serializer.deserialize(CreateTravelDto.kt:5)
	at com.sharcar.api.dto.CreateTravelDto$$serializer.deserialize(CreateTravelDto.kt:5)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeSerializableValue(StreamingJsonDecoder.kt:69)
	at kotlinx.serialization.json.Json.decodeFromString(Json.kt:165)
	at io.ktor.serialization.kotlinx.KotlinxSerializationConverter.deserialize(KotlinxSerializationConverter.kt:69)
	... 98 common frames omitted
2024-11-29 13:40:03.288 [DefaultDispatcher-worker-3 @request#57] TRACE i.k.s.p.c.ContentNegotiation - Skipping response body transformation from HttpStatusCode to OutgoingContent for the POST /travel/create request because the HttpStatusCode type is ignored. See [ContentNegotiationConfig::ignoreType].
2024-11-29 13:40:03.289 [DefaultDispatcher-worker-2] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/create
2024-11-29 13:40:03.289 [DefaultDispatcher-worker-2] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/create
2024-11-29 13:40:03.304 [DefaultDispatcher-worker-2] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/swapTravel
2024-11-29 13:40:03.309 [DefaultDispatcher-worker-2] TRACE i.k.c.p.c.ContentNegotiation - Converted request body using io.ktor.serialization.kotlinx.KotlinxSerializationConverter@639245e6 for http:///travel/swapTravel
2024-11-29 13:40:03.310 [DefaultDispatcher-worker-2] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/swapTravel
2024-11-29 13:40:03.310 [DefaultDispatcher-worker-2] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/swapTravel from class io.ktor.http.content.TextContent
2024-11-29 13:40:03.311 [DefaultDispatcher-worker-2 @call-context#66] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:40:03.312 [DefaultDispatcher-worker-2 @call-context#66] INFO  io.ktor.test - Application started in 0.001 seconds.
2024-11-29 13:40:03.313 [DefaultDispatcher-worker-5 @coroutine#67] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:40:03.313 [DefaultDispatcher-worker-5 @coroutine#67] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:40:03.316 [DefaultDispatcher-worker-6 @request#66] TRACE io.ktor.server.routing.Routing - Trace for [travel, swapTravel]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:1 -> FAILURE "Selector didn't match" @ /travel/create
    /travel/addPassenger, segment:1 -> FAILURE "Selector didn't match" @ /travel/addPassenger
    /travel/swapTravel, segment:2 -> SUCCESS @ /travel/swapTravel
      /travel/swapTravel/(method:POST), segment:2 -> SUCCESS @ /travel/swapTravel/(method:POST)
Matched routes:
  "" -> "travel" -> "swapTravel" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/swapTravel/(method:POST)
2024-11-29 13:40:03.317 [DefaultDispatcher-worker-6 @request#66] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.SwapTravelDto) for call /travel/swapTravel
2024-11-29 13:40:03.318 [DefaultDispatcher-worker-6 @request#66] INFO  io.ktor.test - Swapping travel 2 to 1
2024-11-29 13:40:03.325 [DefaultDispatcher-worker-6 @request#66] INFO  io.ktor.test - Swapping travel 2 to 1 was false
2024-11-29 13:40:03.331 [DefaultDispatcher-worker-8] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/swapTravel
2024-11-29 13:40:03.331 [DefaultDispatcher-worker-8] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/swapTravel
2024-11-29 13:40:03.332 [DefaultDispatcher-worker-8] TRACE i.k.c.p.c.ContentNegotiation - Response body was converted to class com.sharcar.domain.usecases.model.SwapTravelToNewOneResult for http://localhost/travel/swapTravel.
2024-11-29 13:40:03.345 [DefaultDispatcher-worker-8] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/addPassenger
2024-11-29 13:40:03.347 [DefaultDispatcher-worker-8] TRACE i.k.c.p.c.ContentNegotiation - Converted request body using io.ktor.serialization.kotlinx.KotlinxSerializationConverter@4715da4a for http:///travel/addPassenger
2024-11-29 13:40:03.347 [DefaultDispatcher-worker-8] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/addPassenger
2024-11-29 13:40:03.347 [DefaultDispatcher-worker-8] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/addPassenger from class io.ktor.http.content.TextContent
2024-11-29 13:40:03.349 [DefaultDispatcher-worker-8 @call-context#78] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:40:03.350 [DefaultDispatcher-worker-8 @call-context#78] INFO  io.ktor.test - Application started in 0.002 seconds.
2024-11-29 13:40:03.350 [DefaultDispatcher-worker-7 @coroutine#79] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:40:03.350 [DefaultDispatcher-worker-7 @coroutine#79] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:40:03.351 [DefaultDispatcher-worker-8 @request#78] TRACE io.ktor.server.routing.Routing - Trace for [travel, addPassenger]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:1 -> FAILURE "Selector didn't match" @ /travel/create
    /travel/addPassenger, segment:2 -> SUCCESS @ /travel/addPassenger
      /travel/addPassenger/(method:POST), segment:2 -> SUCCESS @ /travel/addPassenger/(method:POST)
    /travel/swapTravel, segment:1 -> FAILURE "Selector didn't match" @ /travel/swapTravel
Matched routes:
  "" -> "travel" -> "addPassenger" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/addPassenger/(method:POST)
2024-11-29 13:40:03.352 [DefaultDispatcher-worker-8 @request#78] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.AddPassengerDto) for call /travel/addPassenger
2024-11-29 13:40:03.354 [DefaultDispatcher-worker-8 @request#78] INFO  io.ktor.test - Adding passenger prueba@gmail.com to travel 1
2024-11-29 13:40:03.355 [DefaultDispatcher-worker-8 @request#78] INFO  io.ktor.test - Adding passenger prueba@gmail.com was false
2024-11-29 13:40:03.360 [DefaultDispatcher-worker-7] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/addPassenger
2024-11-29 13:40:03.360 [DefaultDispatcher-worker-7] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/addPassenger
2024-11-29 13:40:03.361 [DefaultDispatcher-worker-7] TRACE i.k.c.p.c.ContentNegotiation - Response body was converted to class com.sharcar.domain.usecases.model.AddPassengerResult for http://localhost/travel/addPassenger.
2024-11-29 13:40:03.368 [DefaultDispatcher-worker-7] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/addPassenger
2024-11-29 13:40:03.369 [DefaultDispatcher-worker-7] TRACE i.k.c.p.c.ContentNegotiation - Converted request body using io.ktor.serialization.kotlinx.KotlinxSerializationConverter@38f38448 for http:///travel/addPassenger
2024-11-29 13:40:03.369 [DefaultDispatcher-worker-7] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/addPassenger
2024-11-29 13:40:03.369 [DefaultDispatcher-worker-7] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/addPassenger from class io.ktor.http.content.TextContent
2024-11-29 13:40:03.370 [DefaultDispatcher-worker-7 @call-context#90] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:40:03.371 [DefaultDispatcher-worker-7 @call-context#90] INFO  io.ktor.test - Application started in 0.002 seconds.
2024-11-29 13:40:03.371 [DefaultDispatcher-worker-6 @coroutine#91] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:40:03.371 [DefaultDispatcher-worker-6 @coroutine#91] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:40:03.372 [DefaultDispatcher-worker-7 @request#90] TRACE io.ktor.server.routing.Routing - Trace for [travel, addPassenger]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:1 -> FAILURE "Selector didn't match" @ /travel/create
    /travel/addPassenger, segment:2 -> SUCCESS @ /travel/addPassenger
      /travel/addPassenger/(method:POST), segment:2 -> SUCCESS @ /travel/addPassenger/(method:POST)
    /travel/swapTravel, segment:1 -> FAILURE "Selector didn't match" @ /travel/swapTravel
Matched routes:
  "" -> "travel" -> "addPassenger" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/addPassenger/(method:POST)
2024-11-29 13:40:03.373 [DefaultDispatcher-worker-7 @request#90] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.AddPassengerDto) for call /travel/addPassenger
2024-11-29 13:40:03.374 [DefaultDispatcher-worker-7 @request#90] INFO  io.ktor.test - Adding passenger prueba@gmail.com to travel 1
2024-11-29 13:40:03.374 [DefaultDispatcher-worker-7 @request#90] INFO  io.ktor.test - Adding passenger prueba@gmail.com was true
2024-11-29 13:40:03.376 [DefaultDispatcher-worker-8] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/addPassenger
2024-11-29 13:40:03.376 [DefaultDispatcher-worker-8] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/addPassenger
2024-11-29 13:40:03.377 [DefaultDispatcher-worker-8] TRACE i.k.c.p.c.ContentNegotiation - Response body was converted to class com.sharcar.domain.usecases.model.AddPassengerResult for http://localhost/travel/addPassenger.
2024-11-29 13:40:03.384 [DefaultDispatcher-worker-8] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/create
2024-11-29 13:40:03.385 [DefaultDispatcher-worker-8] TRACE i.k.c.p.c.ContentNegotiation - Body type class kotlin.String is in ignored types. Skipping ContentNegotiation for http:///travel/create.
2024-11-29 13:40:03.385 [DefaultDispatcher-worker-8] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/create
2024-11-29 13:40:03.385 [DefaultDispatcher-worker-8] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/create from class kotlin.String
2024-11-29 13:40:03.386 [DefaultDispatcher-worker-8 @call-context#102] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:40:03.387 [DefaultDispatcher-worker-8 @call-context#102] INFO  io.ktor.test - Application started in 0.001 seconds.
2024-11-29 13:40:03.387 [DefaultDispatcher-worker-5 @coroutine#103] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:40:03.387 [DefaultDispatcher-worker-5 @coroutine#103] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:40:03.388 [DefaultDispatcher-worker-8 @request#102] TRACE io.ktor.server.routing.Routing - Trace for [travel, create]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:2 -> SUCCESS @ /travel/create
      /travel/create/(method:POST), segment:2 -> SUCCESS @ /travel/create/(method:POST)
    /travel/addPassenger, segment:1 -> FAILURE "Selector didn't match" @ /travel/addPassenger
    /travel/swapTravel, segment:1 -> FAILURE "Selector didn't match" @ /travel/swapTravel
Matched routes:
  "" -> "travel" -> "create" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/create/(method:POST)
2024-11-29 13:40:03.389 [DefaultDispatcher-worker-8 @request#102] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.CreateTravelDto) for call /travel/create
2024-11-29 13:40:03.389 [DefaultDispatcher-worker-8 @request#102] DEBUG io.ktor.test - Unhandled: POST - /travel/create. Exception class io.ktor.server.plugins.BadRequestException: Failed to convert request body to class com.sharcar.api.dto.CreateTravelDto
io.ktor.server.plugins.BadRequestException: Failed to convert request body to class com.sharcar.api.dto.CreateTravelDto
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.convertBody(RequestConverter.kt:69)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.access$convertBody(RequestConverter.kt:1)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invokeSuspend(RequestConverter.kt:40)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invoke(RequestConverter.kt)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invoke(RequestConverter.kt)
	at io.ktor.server.application.OnCallReceiveContext.transformBody(KtorCallContexts.kt:64)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invokeSuspend(RequestConverter.kt:28)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invoke(RequestConverter.kt)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invoke(RequestConverter.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invokeSuspend(PluginBuilder.kt:165)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invokeSuspend(PluginBuilder.kt:109)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invokeSuspend(PluginBuilder.kt:217)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invokeSuspend(PluginBuilder.kt:200)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invoke(PluginBuilder.kt)
	at io.ktor.util.debug.ContextUtilsKt.addToContextInDebugMode(ContextUtils.kt:30)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invokeSuspend(PluginBuilder.kt:196)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invoke(PluginBuilder.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.application.PipelineCall$DefaultImpls.receiveNullable(PipelineCall.kt:92)
	at io.ktor.server.routing.RoutingPipelineCall.receiveNullable(RoutingPipelineCall.kt:20)
	at io.ktor.server.routing.RoutingCall.receiveNullable(RoutingNode.kt:226)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invokeSuspend(TravelApi.kt:54)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invoke(TravelApi.kt)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invoke(TravelApi.kt)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invokeSuspend(RoutingNode.kt:116)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invoke(RoutingNode.kt)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invoke(RoutingNode.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.routing.RoutingRoot.executeResult(RoutingRoot.kt:193)
	at io.ktor.server.routing.RoutingRoot.interceptor(RoutingRoot.kt:66)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invokeSuspend(RoutingRoot.kt:143)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invoke(RoutingRoot.kt)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invoke(RoutingRoot.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invokeSuspend(BaseApplicationEngine.kt:112)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invoke(BaseApplicationEngine.kt)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invoke(BaseApplicationEngine.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.testing.TestApplicationEngine$2.invokeSuspend(TestApplicationEngine.kt:222)
	at io.ktor.server.testing.TestApplicationEngine$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$1.invokeSuspend(TestApplicationEngine.kt:96)
	at io.ktor.server.testing.TestApplicationEngine$1.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$1.invoke(TestApplicationEngine.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invokeSuspend(TestApplicationEngine.kt:221)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invoke(TestApplicationEngine.kt)
	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndispatchedOrReturn(Undispatched.kt:42)
	at kotlinx.coroutines.BuildersKt__Builders_commonKt.withContext(Builders.common.kt:164)
	at kotlinx.coroutines.BuildersKt.withContext(Unknown Source)
	at io.ktor.server.testing.TestApplicationEngine.handleRequest$ktor_server_test_host(TestApplicationEngine.kt:186)
	at io.ktor.server.testing.TestApplicationEngine.handleRequest$ktor_server_test_host$default(TestApplicationEngine.kt:169)
	at io.ktor.server.testing.client.TestHttpClientEngine.runRequest(TestHttpClientEngine.kt:89)
	at io.ktor.server.testing.client.TestHttpClientEngine.execute(TestHttpClientEngine.kt:56)
	at io.ktor.server.testing.client.DelegatingTestClientEngine.execute(DelegatingTestClientEngine.kt:58)
	at io.ktor.server.testing.client.DelegatingTestClientEngine$execute$1.invokeSuspend(DelegatingTestClientEngine.kt)
	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:101)
	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:113)
	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:89)
	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:589)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:823)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:720)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:707)
Caused by: io.ktor.serialization.JsonConvertException: Illegal input: Unexpected JSON token at offset 7: Encountered an unknown key 'id' at path: $
Use 'ignoreUnknownKeys = true' in 'Json {}' builder to ignore unknown keys.
JSON input: {
    "id": 1
}
	at io.ktor.serialization.kotlinx.KotlinxSerializationConverter.deserialize(KotlinxSerializationConverter.kt:77)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.convertBody(RequestConverter.kt:67)
	... 97 common frames omitted
Caused by: kotlinx.serialization.json.internal.JsonDecodingException: Unexpected JSON token at offset 7: Encountered an unknown key 'id' at path: $
Use 'ignoreUnknownKeys = true' in 'Json {}' builder to ignore unknown keys.
JSON input: {
    "id": 1
}
	at kotlinx.serialization.json.internal.JsonExceptionsKt.JsonDecodingException(JsonExceptions.kt:24)
	at kotlinx.serialization.json.internal.JsonExceptionsKt.JsonDecodingException(JsonExceptions.kt:32)
	at kotlinx.serialization.json.internal.AbstractJsonLexer.fail(AbstractJsonLexer.kt:580)
	at kotlinx.serialization.json.internal.AbstractJsonLexer.failOnUnknownKey(AbstractJsonLexer.kt:575)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.handleUnknown(StreamingJsonDecoder.kt:257)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeObjectIndex(StreamingJsonDecoder.kt:243)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeElementIndex(StreamingJsonDecoder.kt:178)
	at com.sharcar.api.dto.CreateTravelDto$$serializer.deserialize(CreateTravelDto.kt:5)
	at com.sharcar.api.dto.CreateTravelDto$$serializer.deserialize(CreateTravelDto.kt:5)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeSerializableValue(StreamingJsonDecoder.kt:69)
	at kotlinx.serialization.json.Json.decodeFromString(Json.kt:165)
	at io.ktor.serialization.kotlinx.KotlinxSerializationConverter.deserialize(KotlinxSerializationConverter.kt:69)
	... 98 common frames omitted
2024-11-29 13:40:03.390 [DefaultDispatcher-worker-8 @request#102] TRACE i.k.s.p.c.ContentNegotiation - Skipping response body transformation from HttpStatusCode to OutgoingContent for the POST /travel/create request because the HttpStatusCode type is ignored. See [ContentNegotiationConfig::ignoreType].
2024-11-29 13:40:03.391 [DefaultDispatcher-worker-6] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/create
2024-11-29 13:40:03.391 [DefaultDispatcher-worker-6] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/create
2024-11-29 13:40:03.398 [DefaultDispatcher-worker-6] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/swapTravel
2024-11-29 13:40:03.399 [DefaultDispatcher-worker-6] TRACE i.k.c.p.c.ContentNegotiation - Converted request body using io.ktor.serialization.kotlinx.KotlinxSerializationConverter@6599b73a for http:///travel/swapTravel
2024-11-29 13:40:03.399 [DefaultDispatcher-worker-6] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/swapTravel
2024-11-29 13:40:03.399 [DefaultDispatcher-worker-6] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/swapTravel from class io.ktor.http.content.TextContent
2024-11-29 13:40:03.401 [DefaultDispatcher-worker-6 @call-context#111] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:40:03.402 [DefaultDispatcher-worker-6 @call-context#111] INFO  io.ktor.test - Application started in 0.002 seconds.
2024-11-29 13:40:03.402 [DefaultDispatcher-worker-8 @coroutine#112] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:40:03.402 [DefaultDispatcher-worker-8 @coroutine#112] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:40:03.403 [DefaultDispatcher-worker-6 @request#111] TRACE io.ktor.server.routing.Routing - Trace for [travel, swapTravel]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:1 -> FAILURE "Selector didn't match" @ /travel/create
    /travel/addPassenger, segment:1 -> FAILURE "Selector didn't match" @ /travel/addPassenger
    /travel/swapTravel, segment:2 -> SUCCESS @ /travel/swapTravel
      /travel/swapTravel/(method:POST), segment:2 -> SUCCESS @ /travel/swapTravel/(method:POST)
Matched routes:
  "" -> "travel" -> "swapTravel" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/swapTravel/(method:POST)
2024-11-29 13:40:03.403 [DefaultDispatcher-worker-6 @request#111] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.SwapTravelDto) for call /travel/swapTravel
2024-11-29 13:40:03.404 [DefaultDispatcher-worker-6 @request#111] INFO  io.ktor.test - Swapping travel 2 to 1
2024-11-29 13:40:03.404 [DefaultDispatcher-worker-6 @request#111] INFO  io.ktor.test - Swapping travel 2 to 1 was true
2024-11-29 13:40:03.406 [DefaultDispatcher-worker-5] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/swapTravel
2024-11-29 13:40:03.406 [DefaultDispatcher-worker-5] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/swapTravel
2024-11-29 13:40:03.406 [DefaultDispatcher-worker-5] TRACE i.k.c.p.c.ContentNegotiation - Response body was converted to class com.sharcar.domain.usecases.model.SwapTravelToNewOneResult for http://localhost/travel/swapTravel.
2024-11-29 13:41:21.389 [DefaultDispatcher-worker-1] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///enterprise/register
2024-11-29 13:41:21.419 [DefaultDispatcher-worker-1] TRACE i.k.c.p.c.ContentNegotiation - Converted request body using io.ktor.serialization.kotlinx.KotlinxSerializationConverter@18ebe36f for http:///enterprise/register
2024-11-29 13:41:21.419 [DefaultDispatcher-worker-1] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///enterprise/register
2024-11-29 13:41:21.420 [DefaultDispatcher-worker-1] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///enterprise/register from class io.ktor.http.content.TextContent
2024-11-29 13:41:21.468 [DefaultDispatcher-worker-2 @call-context#3] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:41:21.504 [DefaultDispatcher-worker-2 @call-context#3] INFO  io.ktor.test - Application started in 0.052 seconds.
2024-11-29 13:41:21.506 [DefaultDispatcher-worker-1 @coroutine#4] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:41:21.506 [DefaultDispatcher-worker-1 @coroutine#4] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:41:21.536 [DefaultDispatcher-worker-2 @request#3] TRACE io.ktor.server.routing.Routing - Trace for [enterprise, register]
/, segment:0 -> SUCCESS @ /
  /enterprise, segment:1 -> SUCCESS @ /enterprise
    /enterprise/register, segment:2 -> SUCCESS @ /enterprise/register
      /enterprise/register/(method:POST), segment:2 -> SUCCESS @ /enterprise/register/(method:POST)
Matched routes:
  "" -> "enterprise" -> "register" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /enterprise/register/(method:POST)
2024-11-29 13:41:21.551 [DefaultDispatcher-worker-2 @request#3] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.RegisterEnterpriseDto) for call /enterprise/register
2024-11-29 13:41:21.570 [DefaultDispatcher-worker-2 @request#3] INFO  io.ktor.test - Registering enterprise with nif 123456789
2024-11-29 13:41:21.574 [DefaultDispatcher-worker-2 @request#3] INFO  io.ktor.test - Registered true enterprise with nif 123456789
2024-11-29 13:41:21.612 [DefaultDispatcher-worker-3] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/enterprise/register
2024-11-29 13:41:21.613 [DefaultDispatcher-worker-3] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/enterprise/register
2024-11-29 13:41:21.630 [DefaultDispatcher-worker-3] TRACE i.k.c.p.c.ContentNegotiation - Response body was converted to class com.sharcar.domain.usecases.model.EnterpriseResult for http://localhost/enterprise/register.
2024-11-29 13:41:21.645 [DefaultDispatcher-worker-3] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///enterprise/register
2024-11-29 13:41:21.646 [DefaultDispatcher-worker-3] TRACE i.k.c.p.c.ContentNegotiation - Body type class kotlin.String is in ignored types. Skipping ContentNegotiation for http:///enterprise/register.
2024-11-29 13:41:21.646 [DefaultDispatcher-worker-3] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///enterprise/register
2024-11-29 13:41:21.646 [DefaultDispatcher-worker-3] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///enterprise/register from class kotlin.String
2024-11-29 13:41:21.648 [DefaultDispatcher-worker-3 @call-context#15] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:41:21.648 [DefaultDispatcher-worker-3 @call-context#15] INFO  io.ktor.test - Application started in 0.001 seconds.
2024-11-29 13:41:21.649 [DefaultDispatcher-worker-4 @coroutine#16] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:41:21.649 [DefaultDispatcher-worker-4 @coroutine#16] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:41:21.650 [DefaultDispatcher-worker-3 @request#15] TRACE io.ktor.server.routing.Routing - Trace for [enterprise, register]
/, segment:0 -> SUCCESS @ /
  /enterprise, segment:1 -> SUCCESS @ /enterprise
    /enterprise/register, segment:2 -> SUCCESS @ /enterprise/register
      /enterprise/register/(method:POST), segment:2 -> SUCCESS @ /enterprise/register/(method:POST)
Matched routes:
  "" -> "enterprise" -> "register" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /enterprise/register/(method:POST)
2024-11-29 13:41:21.650 [DefaultDispatcher-worker-3 @request#15] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.RegisterEnterpriseDto) for call /enterprise/register
2024-11-29 13:41:21.653 [DefaultDispatcher-worker-3 @request#15] DEBUG io.ktor.test - Unhandled: POST - /enterprise/register. Exception class io.ktor.server.plugins.BadRequestException: Failed to convert request body to class com.sharcar.api.dto.RegisterEnterpriseDto
io.ktor.server.plugins.BadRequestException: Failed to convert request body to class com.sharcar.api.dto.RegisterEnterpriseDto
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.convertBody(RequestConverter.kt:69)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.access$convertBody(RequestConverter.kt:1)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invokeSuspend(RequestConverter.kt:40)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invoke(RequestConverter.kt)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invoke(RequestConverter.kt)
	at io.ktor.server.application.OnCallReceiveContext.transformBody(KtorCallContexts.kt:64)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invokeSuspend(RequestConverter.kt:28)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invoke(RequestConverter.kt)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invoke(RequestConverter.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invokeSuspend(PluginBuilder.kt:165)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invokeSuspend(PluginBuilder.kt:109)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invokeSuspend(PluginBuilder.kt:217)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invokeSuspend(PluginBuilder.kt:200)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invoke(PluginBuilder.kt)
	at io.ktor.util.debug.ContextUtilsKt.addToContextInDebugMode(ContextUtils.kt:30)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invokeSuspend(PluginBuilder.kt:196)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invoke(PluginBuilder.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.application.PipelineCall$DefaultImpls.receiveNullable(PipelineCall.kt:92)
	at io.ktor.server.routing.RoutingPipelineCall.receiveNullable(RoutingPipelineCall.kt:20)
	at io.ktor.server.routing.RoutingCall.receiveNullable(RoutingNode.kt:226)
	at com.sharcar.api.EnterpriseApiKt$enterpriseRoutes$1$1.invokeSuspend(EnterpriseApi.kt:25)
	at com.sharcar.api.EnterpriseApiKt$enterpriseRoutes$1$1.invoke(EnterpriseApi.kt)
	at com.sharcar.api.EnterpriseApiKt$enterpriseRoutes$1$1.invoke(EnterpriseApi.kt)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invokeSuspend(RoutingNode.kt:116)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invoke(RoutingNode.kt)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invoke(RoutingNode.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.routing.RoutingRoot.executeResult(RoutingRoot.kt:193)
	at io.ktor.server.routing.RoutingRoot.interceptor(RoutingRoot.kt:66)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invokeSuspend(RoutingRoot.kt:143)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invoke(RoutingRoot.kt)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invoke(RoutingRoot.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invokeSuspend(BaseApplicationEngine.kt:112)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invoke(BaseApplicationEngine.kt)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invoke(BaseApplicationEngine.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.testing.TestApplicationEngine$2.invokeSuspend(TestApplicationEngine.kt:222)
	at io.ktor.server.testing.TestApplicationEngine$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$1.invokeSuspend(TestApplicationEngine.kt:96)
	at io.ktor.server.testing.TestApplicationEngine$1.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$1.invoke(TestApplicationEngine.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invokeSuspend(TestApplicationEngine.kt:221)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invoke(TestApplicationEngine.kt)
	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndispatchedOrReturn(Undispatched.kt:42)
	at kotlinx.coroutines.BuildersKt__Builders_commonKt.withContext(Builders.common.kt:164)
	at kotlinx.coroutines.BuildersKt.withContext(Unknown Source)
	at io.ktor.server.testing.TestApplicationEngine.handleRequest$ktor_server_test_host(TestApplicationEngine.kt:186)
	at io.ktor.server.testing.TestApplicationEngine.handleRequest$ktor_server_test_host$default(TestApplicationEngine.kt:169)
	at io.ktor.server.testing.client.TestHttpClientEngine.runRequest(TestHttpClientEngine.kt:89)
	at io.ktor.server.testing.client.TestHttpClientEngine.execute(TestHttpClientEngine.kt:56)
	at io.ktor.server.testing.client.DelegatingTestClientEngine.execute(DelegatingTestClientEngine.kt:58)
	at io.ktor.server.testing.client.DelegatingTestClientEngine$execute$1.invokeSuspend(DelegatingTestClientEngine.kt)
	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:101)
	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:113)
	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:89)
	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:589)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:823)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:720)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:707)
Caused by: io.ktor.serialization.JsonConvertException: Illegal input: Unexpected JSON token at offset 23: Trailing comma before the end of JSON object at path: $.nif
Trailing commas are non-complaint JSON and not allowed by default. Use 'allowTrailingCommas = true' in 'Json {}' builder to support them.
JSON input: {
    "nif": 123456789,
}
	at io.ktor.serialization.kotlinx.KotlinxSerializationConverter.deserialize(KotlinxSerializationConverter.kt:77)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.convertBody(RequestConverter.kt:67)
	... 97 common frames omitted
Caused by: kotlinx.serialization.json.internal.JsonDecodingException: Unexpected JSON token at offset 23: Trailing comma before the end of JSON object at path: $.nif
Trailing commas are non-complaint JSON and not allowed by default. Use 'allowTrailingCommas = true' in 'Json {}' builder to support them.
JSON input: {
    "nif": 123456789,
}
	at kotlinx.serialization.json.internal.JsonExceptionsKt.JsonDecodingException(JsonExceptions.kt:24)
	at kotlinx.serialization.json.internal.JsonExceptionsKt.JsonDecodingException(JsonExceptions.kt:32)
	at kotlinx.serialization.json.internal.AbstractJsonLexer.fail(AbstractJsonLexer.kt:580)
	at kotlinx.serialization.json.internal.JsonExceptionsKt.invalidTrailingComma(JsonExceptions.kt:50)
	at kotlinx.serialization.json.internal.JsonExceptionsKt.invalidTrailingComma$default(JsonExceptions.kt:49)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeObjectIndex(StreamingJsonDecoder.kt:246)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeElementIndex(StreamingJsonDecoder.kt:178)
	at com.sharcar.api.dto.RegisterEnterpriseDto$$serializer.deserialize(RegisterEnterpriseDto.kt:5)
	at com.sharcar.api.dto.RegisterEnterpriseDto$$serializer.deserialize(RegisterEnterpriseDto.kt:5)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeSerializableValue(StreamingJsonDecoder.kt:69)
	at kotlinx.serialization.json.Json.decodeFromString(Json.kt:165)
	at io.ktor.serialization.kotlinx.KotlinxSerializationConverter.deserialize(KotlinxSerializationConverter.kt:69)
	... 98 common frames omitted
2024-11-29 13:41:21.656 [DefaultDispatcher-worker-3 @request#15] TRACE i.k.s.p.c.ContentNegotiation - Skipping response body transformation from HttpStatusCode to OutgoingContent for the POST /enterprise/register request because the HttpStatusCode type is ignored. See [ContentNegotiationConfig::ignoreType].
2024-11-29 13:41:21.658 [DefaultDispatcher-worker-3] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/enterprise/register
2024-11-29 13:41:21.658 [DefaultDispatcher-worker-3] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/enterprise/register
2024-11-29 13:41:21.746 [DefaultDispatcher-worker-3] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/create
2024-11-29 13:41:21.747 [DefaultDispatcher-worker-3] TRACE i.k.c.p.c.ContentNegotiation - Converted request body using io.ktor.serialization.kotlinx.KotlinxSerializationConverter@42256b15 for http:///travel/create
2024-11-29 13:41:21.748 [DefaultDispatcher-worker-3] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/create
2024-11-29 13:41:21.748 [DefaultDispatcher-worker-3] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/create from class io.ktor.http.content.TextContent
2024-11-29 13:41:21.749 [DefaultDispatcher-worker-3 @call-context#24] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:41:21.754 [DefaultDispatcher-worker-3 @call-context#24] INFO  io.ktor.test - Application started in 0.006 seconds.
2024-11-29 13:41:21.755 [DefaultDispatcher-worker-5 @coroutine#25] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:41:21.755 [DefaultDispatcher-worker-5 @coroutine#25] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:41:21.757 [DefaultDispatcher-worker-3 @request#24] TRACE io.ktor.server.routing.Routing - Trace for [travel, create]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:2 -> SUCCESS @ /travel/create
      /travel/create/(method:POST), segment:2 -> SUCCESS @ /travel/create/(method:POST)
    /travel/addPassenger, segment:1 -> FAILURE "Selector didn't match" @ /travel/addPassenger
    /travel/swapTravel, segment:1 -> FAILURE "Selector didn't match" @ /travel/swapTravel
Matched routes:
  "" -> "travel" -> "create" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/create/(method:POST)
2024-11-29 13:41:21.757 [DefaultDispatcher-worker-3 @request#24] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.CreateTravelDto) for call /travel/create
2024-11-29 13:41:21.758 [DefaultDispatcher-worker-3 @request#24] INFO  io.ktor.test - Creating travel from usuario@gmail.com
2024-11-29 13:41:21.758 [DefaultDispatcher-worker-3 @request#24] INFO  io.ktor.test - Created travel from usuario@gmail.com
2024-11-29 13:41:21.763 [DefaultDispatcher-worker-2] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/create
2024-11-29 13:41:21.763 [DefaultDispatcher-worker-2] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/create
2024-11-29 13:41:21.764 [DefaultDispatcher-worker-2] TRACE i.k.c.p.c.ContentNegotiation - Response body was converted to class com.sharcar.domain.usecases.model.CreationInscriptionResult for http://localhost/travel/create.
2024-11-29 13:41:21.770 [DefaultDispatcher-worker-2] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/create
2024-11-29 13:41:21.771 [DefaultDispatcher-worker-2] TRACE i.k.c.p.c.ContentNegotiation - Body type class kotlin.String is in ignored types. Skipping ContentNegotiation for http:///travel/create.
2024-11-29 13:41:21.771 [DefaultDispatcher-worker-2] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/create
2024-11-29 13:41:21.771 [DefaultDispatcher-worker-2] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/create from class kotlin.String
2024-11-29 13:41:21.772 [DefaultDispatcher-worker-2 @call-context#36] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:41:21.772 [DefaultDispatcher-worker-2 @call-context#36] INFO  io.ktor.test - Application started in 0.001 seconds.
2024-11-29 13:41:21.773 [DefaultDispatcher-worker-3 @coroutine#37] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:41:21.773 [DefaultDispatcher-worker-3 @coroutine#37] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:41:21.774 [DefaultDispatcher-worker-2 @request#36] TRACE io.ktor.server.routing.Routing - Trace for [travel, create]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:2 -> SUCCESS @ /travel/create
      /travel/create/(method:POST), segment:2 -> SUCCESS @ /travel/create/(method:POST)
    /travel/addPassenger, segment:1 -> FAILURE "Selector didn't match" @ /travel/addPassenger
    /travel/swapTravel, segment:1 -> FAILURE "Selector didn't match" @ /travel/swapTravel
Matched routes:
  "" -> "travel" -> "create" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/create/(method:POST)
2024-11-29 13:41:21.774 [DefaultDispatcher-worker-2 @request#36] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.CreateTravelDto) for call /travel/create
2024-11-29 13:41:21.778 [DefaultDispatcher-worker-2 @request#36] DEBUG io.ktor.test - Unhandled: POST - /travel/create. Exception class io.ktor.server.plugins.BadRequestException: Failed to convert request body to class com.sharcar.api.dto.CreateTravelDto
io.ktor.server.plugins.BadRequestException: Failed to convert request body to class com.sharcar.api.dto.CreateTravelDto
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.convertBody(RequestConverter.kt:69)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.access$convertBody(RequestConverter.kt:1)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invokeSuspend(RequestConverter.kt:40)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invoke(RequestConverter.kt)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invoke(RequestConverter.kt)
	at io.ktor.server.application.OnCallReceiveContext.transformBody(KtorCallContexts.kt:64)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invokeSuspend(RequestConverter.kt:28)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invoke(RequestConverter.kt)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invoke(RequestConverter.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invokeSuspend(PluginBuilder.kt:165)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invokeSuspend(PluginBuilder.kt:109)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invokeSuspend(PluginBuilder.kt:217)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invokeSuspend(PluginBuilder.kt:200)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invoke(PluginBuilder.kt)
	at io.ktor.util.debug.ContextUtilsKt.addToContextInDebugMode(ContextUtils.kt:30)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invokeSuspend(PluginBuilder.kt:196)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invoke(PluginBuilder.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.application.PipelineCall$DefaultImpls.receiveNullable(PipelineCall.kt:92)
	at io.ktor.server.routing.RoutingPipelineCall.receiveNullable(RoutingPipelineCall.kt:20)
	at io.ktor.server.routing.RoutingCall.receiveNullable(RoutingNode.kt:226)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invokeSuspend(TravelApi.kt:54)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invoke(TravelApi.kt)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invoke(TravelApi.kt)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invokeSuspend(RoutingNode.kt:116)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invoke(RoutingNode.kt)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invoke(RoutingNode.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.routing.RoutingRoot.executeResult(RoutingRoot.kt:193)
	at io.ktor.server.routing.RoutingRoot.interceptor(RoutingRoot.kt:66)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invokeSuspend(RoutingRoot.kt:143)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invoke(RoutingRoot.kt)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invoke(RoutingRoot.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invokeSuspend(BaseApplicationEngine.kt:112)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invoke(BaseApplicationEngine.kt)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invoke(BaseApplicationEngine.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.testing.TestApplicationEngine$2.invokeSuspend(TestApplicationEngine.kt:222)
	at io.ktor.server.testing.TestApplicationEngine$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$1.invokeSuspend(TestApplicationEngine.kt:96)
	at io.ktor.server.testing.TestApplicationEngine$1.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$1.invoke(TestApplicationEngine.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invokeSuspend(TestApplicationEngine.kt:221)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invoke(TestApplicationEngine.kt)
	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndispatchedOrReturn(Undispatched.kt:42)
	at kotlinx.coroutines.BuildersKt__Builders_commonKt.withContext(Builders.common.kt:164)
	at kotlinx.coroutines.BuildersKt.withContext(Unknown Source)
	at io.ktor.server.testing.TestApplicationEngine.handleRequest$ktor_server_test_host(TestApplicationEngine.kt:186)
	at io.ktor.server.testing.TestApplicationEngine.handleRequest$ktor_server_test_host$default(TestApplicationEngine.kt:169)
	at io.ktor.server.testing.client.TestHttpClientEngine.runRequest(TestHttpClientEngine.kt:89)
	at io.ktor.server.testing.client.TestHttpClientEngine.execute(TestHttpClientEngine.kt:56)
	at io.ktor.server.testing.client.DelegatingTestClientEngine.execute(DelegatingTestClientEngine.kt:58)
	at io.ktor.server.testing.client.DelegatingTestClientEngine$execute$1.invokeSuspend(DelegatingTestClientEngine.kt)
	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:101)
	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:113)
	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:89)
	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:589)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:823)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:720)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:707)
Caused by: io.ktor.serialization.JsonConvertException: Illegal input: Unexpected JSON token at offset 7: Encountered an unknown key 'id' at path: $
Use 'ignoreUnknownKeys = true' in 'Json {}' builder to ignore unknown keys.
JSON input: {
    "id": 1,
    "date": "2007-12-03T10:15:30",
    "place": "Gasolinera",
    "driverId": 1,
}
	at io.ktor.serialization.kotlinx.KotlinxSerializationConverter.deserialize(KotlinxSerializationConverter.kt:77)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.convertBody(RequestConverter.kt:67)
	... 97 common frames omitted
Caused by: kotlinx.serialization.json.internal.JsonDecodingException: Unexpected JSON token at offset 7: Encountered an unknown key 'id' at path: $
Use 'ignoreUnknownKeys = true' in 'Json {}' builder to ignore unknown keys.
JSON input: {
    "id": 1,
    "date": "2007-12-03T10:15:30",
    "place": "Gasolinera",
    "driverId": 1,
}
	at kotlinx.serialization.json.internal.JsonExceptionsKt.JsonDecodingException(JsonExceptions.kt:24)
	at kotlinx.serialization.json.internal.JsonExceptionsKt.JsonDecodingException(JsonExceptions.kt:32)
	at kotlinx.serialization.json.internal.AbstractJsonLexer.fail(AbstractJsonLexer.kt:580)
	at kotlinx.serialization.json.internal.AbstractJsonLexer.failOnUnknownKey(AbstractJsonLexer.kt:575)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.handleUnknown(StreamingJsonDecoder.kt:257)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeObjectIndex(StreamingJsonDecoder.kt:243)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeElementIndex(StreamingJsonDecoder.kt:178)
	at com.sharcar.api.dto.CreateTravelDto$$serializer.deserialize(CreateTravelDto.kt:5)
	at com.sharcar.api.dto.CreateTravelDto$$serializer.deserialize(CreateTravelDto.kt:5)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeSerializableValue(StreamingJsonDecoder.kt:69)
	at kotlinx.serialization.json.Json.decodeFromString(Json.kt:165)
	at io.ktor.serialization.kotlinx.KotlinxSerializationConverter.deserialize(KotlinxSerializationConverter.kt:69)
	... 98 common frames omitted
2024-11-29 13:41:21.779 [DefaultDispatcher-worker-2 @request#36] TRACE i.k.s.p.c.ContentNegotiation - Skipping response body transformation from HttpStatusCode to OutgoingContent for the POST /travel/create request because the HttpStatusCode type is ignored. See [ContentNegotiationConfig::ignoreType].
2024-11-29 13:41:21.779 [DefaultDispatcher-worker-6] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/create
2024-11-29 13:41:21.779 [DefaultDispatcher-worker-6] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/create
2024-11-29 13:41:21.787 [DefaultDispatcher-worker-6] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/create
2024-11-29 13:41:21.788 [DefaultDispatcher-worker-6] TRACE i.k.c.p.c.ContentNegotiation - Converted request body using io.ktor.serialization.kotlinx.KotlinxSerializationConverter@3b826d8b for http:///travel/create
2024-11-29 13:41:21.788 [DefaultDispatcher-worker-6] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/create
2024-11-29 13:41:21.788 [DefaultDispatcher-worker-6] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/create from class io.ktor.http.content.TextContent
2024-11-29 13:41:21.789 [DefaultDispatcher-worker-6 @call-context#45] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:41:21.789 [DefaultDispatcher-worker-6 @call-context#45] INFO  io.ktor.test - Application started in 0.001 seconds.
2024-11-29 13:41:21.790 [DefaultDispatcher-worker-3 @coroutine#46] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:41:21.790 [DefaultDispatcher-worker-3 @coroutine#46] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:41:21.791 [DefaultDispatcher-worker-6 @request#45] TRACE io.ktor.server.routing.Routing - Trace for [travel, create]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:2 -> SUCCESS @ /travel/create
      /travel/create/(method:POST), segment:2 -> SUCCESS @ /travel/create/(method:POST)
    /travel/addPassenger, segment:1 -> FAILURE "Selector didn't match" @ /travel/addPassenger
    /travel/swapTravel, segment:1 -> FAILURE "Selector didn't match" @ /travel/swapTravel
Matched routes:
  "" -> "travel" -> "create" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/create/(method:POST)
2024-11-29 13:41:21.791 [DefaultDispatcher-worker-6 @request#45] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.CreateTravelDto) for call /travel/create
2024-11-29 13:41:21.791 [DefaultDispatcher-worker-6 @request#45] INFO  io.ktor.test - Creating travel from usuario@gmail.com
2024-11-29 13:41:21.792 [DefaultDispatcher-worker-6 @request#45] INFO  io.ktor.test - Created travel from usuario@gmail.com
2024-11-29 13:41:21.793 [DefaultDispatcher-worker-4] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/create
2024-11-29 13:41:21.794 [DefaultDispatcher-worker-4] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/create
2024-11-29 13:41:21.794 [DefaultDispatcher-worker-4] TRACE i.k.c.p.c.ContentNegotiation - Response body was converted to class com.sharcar.domain.usecases.model.CreationInscriptionResult for http://localhost/travel/create.
2024-11-29 13:41:21.800 [DefaultDispatcher-worker-4] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/create
2024-11-29 13:41:21.801 [DefaultDispatcher-worker-4] TRACE i.k.c.p.c.ContentNegotiation - Body type class kotlin.String is in ignored types. Skipping ContentNegotiation for http:///travel/create.
2024-11-29 13:41:21.801 [DefaultDispatcher-worker-4] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/create
2024-11-29 13:41:21.801 [DefaultDispatcher-worker-4] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/create from class kotlin.String
2024-11-29 13:41:21.802 [DefaultDispatcher-worker-4 @call-context#57] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:41:21.802 [DefaultDispatcher-worker-4 @call-context#57] INFO  io.ktor.test - Application started in 0.001 seconds.
2024-11-29 13:41:21.802 [DefaultDispatcher-worker-2 @coroutine#58] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:41:21.802 [DefaultDispatcher-worker-2 @coroutine#58] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:41:21.803 [DefaultDispatcher-worker-6 @request#57] TRACE io.ktor.server.routing.Routing - Trace for [travel, create]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:2 -> SUCCESS @ /travel/create
      /travel/create/(method:POST), segment:2 -> SUCCESS @ /travel/create/(method:POST)
    /travel/addPassenger, segment:1 -> FAILURE "Selector didn't match" @ /travel/addPassenger
    /travel/swapTravel, segment:1 -> FAILURE "Selector didn't match" @ /travel/swapTravel
Matched routes:
  "" -> "travel" -> "create" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/create/(method:POST)
2024-11-29 13:41:21.804 [DefaultDispatcher-worker-6 @request#57] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.CreateTravelDto) for call /travel/create
2024-11-29 13:41:21.805 [DefaultDispatcher-worker-6 @request#57] DEBUG io.ktor.test - Unhandled: POST - /travel/create. Exception class io.ktor.server.plugins.BadRequestException: Failed to convert request body to class com.sharcar.api.dto.CreateTravelDto
io.ktor.server.plugins.BadRequestException: Failed to convert request body to class com.sharcar.api.dto.CreateTravelDto
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.convertBody(RequestConverter.kt:69)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.access$convertBody(RequestConverter.kt:1)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invokeSuspend(RequestConverter.kt:40)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invoke(RequestConverter.kt)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invoke(RequestConverter.kt)
	at io.ktor.server.application.OnCallReceiveContext.transformBody(KtorCallContexts.kt:64)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invokeSuspend(RequestConverter.kt:28)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invoke(RequestConverter.kt)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invoke(RequestConverter.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invokeSuspend(PluginBuilder.kt:165)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invokeSuspend(PluginBuilder.kt:109)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invokeSuspend(PluginBuilder.kt:217)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invokeSuspend(PluginBuilder.kt:200)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invoke(PluginBuilder.kt)
	at io.ktor.util.debug.ContextUtilsKt.addToContextInDebugMode(ContextUtils.kt:30)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invokeSuspend(PluginBuilder.kt:196)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invoke(PluginBuilder.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.application.PipelineCall$DefaultImpls.receiveNullable(PipelineCall.kt:92)
	at io.ktor.server.routing.RoutingPipelineCall.receiveNullable(RoutingPipelineCall.kt:20)
	at io.ktor.server.routing.RoutingCall.receiveNullable(RoutingNode.kt:226)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invokeSuspend(TravelApi.kt:54)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invoke(TravelApi.kt)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invoke(TravelApi.kt)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invokeSuspend(RoutingNode.kt:116)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invoke(RoutingNode.kt)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invoke(RoutingNode.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.routing.RoutingRoot.executeResult(RoutingRoot.kt:193)
	at io.ktor.server.routing.RoutingRoot.interceptor(RoutingRoot.kt:66)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invokeSuspend(RoutingRoot.kt:143)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invoke(RoutingRoot.kt)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invoke(RoutingRoot.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invokeSuspend(BaseApplicationEngine.kt:112)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invoke(BaseApplicationEngine.kt)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invoke(BaseApplicationEngine.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.testing.TestApplicationEngine$2.invokeSuspend(TestApplicationEngine.kt:222)
	at io.ktor.server.testing.TestApplicationEngine$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$1.invokeSuspend(TestApplicationEngine.kt:96)
	at io.ktor.server.testing.TestApplicationEngine$1.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$1.invoke(TestApplicationEngine.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invokeSuspend(TestApplicationEngine.kt:221)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invoke(TestApplicationEngine.kt)
	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndispatchedOrReturn(Undispatched.kt:42)
	at kotlinx.coroutines.BuildersKt__Builders_commonKt.withContext(Builders.common.kt:164)
	at kotlinx.coroutines.BuildersKt.withContext(Unknown Source)
	at io.ktor.server.testing.TestApplicationEngine.handleRequest$ktor_server_test_host(TestApplicationEngine.kt:186)
	at io.ktor.server.testing.TestApplicationEngine.handleRequest$ktor_server_test_host$default(TestApplicationEngine.kt:169)
	at io.ktor.server.testing.client.TestHttpClientEngine.runRequest(TestHttpClientEngine.kt:89)
	at io.ktor.server.testing.client.TestHttpClientEngine.execute(TestHttpClientEngine.kt:56)
	at io.ktor.server.testing.client.DelegatingTestClientEngine.execute(DelegatingTestClientEngine.kt:58)
	at io.ktor.server.testing.client.DelegatingTestClientEngine$execute$1.invokeSuspend(DelegatingTestClientEngine.kt)
	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:101)
	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:113)
	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:89)
	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:589)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:823)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:720)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:707)
Caused by: io.ktor.serialization.JsonConvertException: Illegal input: Unexpected JSON token at offset 7: Encountered an unknown key 'id' at path: $
Use 'ignoreUnknownKeys = true' in 'Json {}' builder to ignore unknown keys.
JSON input: {
    "id": 1
}
	at io.ktor.serialization.kotlinx.KotlinxSerializationConverter.deserialize(KotlinxSerializationConverter.kt:77)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.convertBody(RequestConverter.kt:67)
	... 97 common frames omitted
Caused by: kotlinx.serialization.json.internal.JsonDecodingException: Unexpected JSON token at offset 7: Encountered an unknown key 'id' at path: $
Use 'ignoreUnknownKeys = true' in 'Json {}' builder to ignore unknown keys.
JSON input: {
    "id": 1
}
	at kotlinx.serialization.json.internal.JsonExceptionsKt.JsonDecodingException(JsonExceptions.kt:24)
	at kotlinx.serialization.json.internal.JsonExceptionsKt.JsonDecodingException(JsonExceptions.kt:32)
	at kotlinx.serialization.json.internal.AbstractJsonLexer.fail(AbstractJsonLexer.kt:580)
	at kotlinx.serialization.json.internal.AbstractJsonLexer.failOnUnknownKey(AbstractJsonLexer.kt:575)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.handleUnknown(StreamingJsonDecoder.kt:257)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeObjectIndex(StreamingJsonDecoder.kt:243)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeElementIndex(StreamingJsonDecoder.kt:178)
	at com.sharcar.api.dto.CreateTravelDto$$serializer.deserialize(CreateTravelDto.kt:5)
	at com.sharcar.api.dto.CreateTravelDto$$serializer.deserialize(CreateTravelDto.kt:5)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeSerializableValue(StreamingJsonDecoder.kt:69)
	at kotlinx.serialization.json.Json.decodeFromString(Json.kt:165)
	at io.ktor.serialization.kotlinx.KotlinxSerializationConverter.deserialize(KotlinxSerializationConverter.kt:69)
	... 98 common frames omitted
2024-11-29 13:41:21.806 [DefaultDispatcher-worker-6 @request#57] TRACE i.k.s.p.c.ContentNegotiation - Skipping response body transformation from HttpStatusCode to OutgoingContent for the POST /travel/create request because the HttpStatusCode type is ignored. See [ContentNegotiationConfig::ignoreType].
2024-11-29 13:41:21.807 [DefaultDispatcher-worker-4] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/create
2024-11-29 13:41:21.807 [DefaultDispatcher-worker-4] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/create
2024-11-29 13:41:21.830 [DefaultDispatcher-worker-4] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/swapTravel
2024-11-29 13:41:21.832 [DefaultDispatcher-worker-4] TRACE i.k.c.p.c.ContentNegotiation - Converted request body using io.ktor.serialization.kotlinx.KotlinxSerializationConverter@1daa404d for http:///travel/swapTravel
2024-11-29 13:41:21.832 [DefaultDispatcher-worker-4] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/swapTravel
2024-11-29 13:41:21.832 [DefaultDispatcher-worker-4] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/swapTravel from class io.ktor.http.content.TextContent
2024-11-29 13:41:21.833 [DefaultDispatcher-worker-4 @call-context#66] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:41:21.835 [DefaultDispatcher-worker-4 @call-context#66] INFO  io.ktor.test - Application started in 0.002 seconds.
2024-11-29 13:41:21.836 [DefaultDispatcher-worker-1 @coroutine#67] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:41:21.836 [DefaultDispatcher-worker-1 @coroutine#67] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:41:21.837 [DefaultDispatcher-worker-4 @request#66] TRACE io.ktor.server.routing.Routing - Trace for [travel, swapTravel]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:1 -> FAILURE "Selector didn't match" @ /travel/create
    /travel/addPassenger, segment:1 -> FAILURE "Selector didn't match" @ /travel/addPassenger
    /travel/swapTravel, segment:2 -> SUCCESS @ /travel/swapTravel
      /travel/swapTravel/(method:POST), segment:2 -> SUCCESS @ /travel/swapTravel/(method:POST)
Matched routes:
  "" -> "travel" -> "swapTravel" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/swapTravel/(method:POST)
2024-11-29 13:41:21.838 [DefaultDispatcher-worker-4 @request#66] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.SwapTravelDto) for call /travel/swapTravel
2024-11-29 13:41:21.840 [DefaultDispatcher-worker-4 @request#66] INFO  io.ktor.test - Swapping travel 2 to 1
2024-11-29 13:41:21.844 [DefaultDispatcher-worker-4 @request#66] INFO  io.ktor.test - Swapping travel 2 to 1 was false
2024-11-29 13:41:21.849 [DefaultDispatcher-worker-6] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/swapTravel
2024-11-29 13:41:21.849 [DefaultDispatcher-worker-6] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/swapTravel
2024-11-29 13:41:21.850 [DefaultDispatcher-worker-6] TRACE i.k.c.p.c.ContentNegotiation - Response body was converted to class com.sharcar.domain.usecases.model.SwapTravelToNewOneResult for http://localhost/travel/swapTravel.
2024-11-29 13:41:21.861 [DefaultDispatcher-worker-6] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/addPassenger
2024-11-29 13:41:21.863 [DefaultDispatcher-worker-6] TRACE i.k.c.p.c.ContentNegotiation - Converted request body using io.ktor.serialization.kotlinx.KotlinxSerializationConverter@368ba9c6 for http:///travel/addPassenger
2024-11-29 13:41:21.863 [DefaultDispatcher-worker-6] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/addPassenger
2024-11-29 13:41:21.863 [DefaultDispatcher-worker-6] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/addPassenger from class io.ktor.http.content.TextContent
2024-11-29 13:41:21.864 [DefaultDispatcher-worker-6 @call-context#78] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:41:21.865 [DefaultDispatcher-worker-6 @call-context#78] INFO  io.ktor.test - Application started in 0.001 seconds.
2024-11-29 13:41:21.866 [DefaultDispatcher-worker-4 @coroutine#79] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:41:21.866 [DefaultDispatcher-worker-4 @coroutine#79] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:41:21.867 [DefaultDispatcher-worker-6 @request#78] TRACE io.ktor.server.routing.Routing - Trace for [travel, addPassenger]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:1 -> FAILURE "Selector didn't match" @ /travel/create
    /travel/addPassenger, segment:2 -> SUCCESS @ /travel/addPassenger
      /travel/addPassenger/(method:POST), segment:2 -> SUCCESS @ /travel/addPassenger/(method:POST)
    /travel/swapTravel, segment:1 -> FAILURE "Selector didn't match" @ /travel/swapTravel
Matched routes:
  "" -> "travel" -> "addPassenger" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/addPassenger/(method:POST)
2024-11-29 13:41:21.868 [DefaultDispatcher-worker-6 @request#78] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.AddPassengerDto) for call /travel/addPassenger
2024-11-29 13:41:21.870 [DefaultDispatcher-worker-6 @request#78] INFO  io.ktor.test - Adding passenger prueba@gmail.com to travel 1
2024-11-29 13:41:21.871 [DefaultDispatcher-worker-6 @request#78] INFO  io.ktor.test - Adding passenger prueba@gmail.com was false
2024-11-29 13:41:21.875 [DefaultDispatcher-worker-1] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/addPassenger
2024-11-29 13:41:21.875 [DefaultDispatcher-worker-1] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/addPassenger
2024-11-29 13:41:21.876 [DefaultDispatcher-worker-1] TRACE i.k.c.p.c.ContentNegotiation - Response body was converted to class com.sharcar.domain.usecases.model.AddPassengerResult for http://localhost/travel/addPassenger.
2024-11-29 13:41:21.883 [DefaultDispatcher-worker-1] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/addPassenger
2024-11-29 13:41:21.883 [DefaultDispatcher-worker-1] TRACE i.k.c.p.c.ContentNegotiation - Converted request body using io.ktor.serialization.kotlinx.KotlinxSerializationConverter@1a093282 for http:///travel/addPassenger
2024-11-29 13:41:21.883 [DefaultDispatcher-worker-1] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/addPassenger
2024-11-29 13:41:21.883 [DefaultDispatcher-worker-1] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/addPassenger from class io.ktor.http.content.TextContent
2024-11-29 13:41:21.884 [DefaultDispatcher-worker-1 @call-context#90] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:41:21.885 [DefaultDispatcher-worker-1 @call-context#90] INFO  io.ktor.test - Application started in 0.001 seconds.
2024-11-29 13:41:21.885 [DefaultDispatcher-worker-4 @coroutine#91] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:41:21.886 [DefaultDispatcher-worker-4 @coroutine#91] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:41:21.887 [DefaultDispatcher-worker-1 @request#90] TRACE io.ktor.server.routing.Routing - Trace for [travel, addPassenger]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:1 -> FAILURE "Selector didn't match" @ /travel/create
    /travel/addPassenger, segment:2 -> SUCCESS @ /travel/addPassenger
      /travel/addPassenger/(method:POST), segment:2 -> SUCCESS @ /travel/addPassenger/(method:POST)
    /travel/swapTravel, segment:1 -> FAILURE "Selector didn't match" @ /travel/swapTravel
Matched routes:
  "" -> "travel" -> "addPassenger" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/addPassenger/(method:POST)
2024-11-29 13:41:21.887 [DefaultDispatcher-worker-1 @request#90] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.AddPassengerDto) for call /travel/addPassenger
2024-11-29 13:41:21.887 [DefaultDispatcher-worker-1 @request#90] INFO  io.ktor.test - Adding passenger prueba@gmail.com to travel 1
2024-11-29 13:41:21.888 [DefaultDispatcher-worker-1 @request#90] INFO  io.ktor.test - Adding passenger prueba@gmail.com was true
2024-11-29 13:41:21.890 [DefaultDispatcher-worker-1] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/addPassenger
2024-11-29 13:41:21.890 [DefaultDispatcher-worker-1] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/addPassenger
2024-11-29 13:41:21.890 [DefaultDispatcher-worker-1] TRACE i.k.c.p.c.ContentNegotiation - Response body was converted to class com.sharcar.domain.usecases.model.AddPassengerResult for http://localhost/travel/addPassenger.
2024-11-29 13:41:21.896 [DefaultDispatcher-worker-1] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/create
2024-11-29 13:41:21.897 [DefaultDispatcher-worker-1] TRACE i.k.c.p.c.ContentNegotiation - Body type class kotlin.String is in ignored types. Skipping ContentNegotiation for http:///travel/create.
2024-11-29 13:41:21.897 [DefaultDispatcher-worker-1] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/create
2024-11-29 13:41:21.897 [DefaultDispatcher-worker-1] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/create from class kotlin.String
2024-11-29 13:41:21.899 [DefaultDispatcher-worker-6 @call-context#102] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:41:21.899 [DefaultDispatcher-worker-6 @call-context#102] INFO  io.ktor.test - Application started in 0.001 seconds.
2024-11-29 13:41:21.900 [DefaultDispatcher-worker-4 @coroutine#103] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:41:21.900 [DefaultDispatcher-worker-4 @coroutine#103] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:41:21.901 [DefaultDispatcher-worker-6 @request#102] TRACE io.ktor.server.routing.Routing - Trace for [travel, create]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:2 -> SUCCESS @ /travel/create
      /travel/create/(method:POST), segment:2 -> SUCCESS @ /travel/create/(method:POST)
    /travel/addPassenger, segment:1 -> FAILURE "Selector didn't match" @ /travel/addPassenger
    /travel/swapTravel, segment:1 -> FAILURE "Selector didn't match" @ /travel/swapTravel
Matched routes:
  "" -> "travel" -> "create" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/create/(method:POST)
2024-11-29 13:41:21.902 [DefaultDispatcher-worker-6 @request#102] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.CreateTravelDto) for call /travel/create
2024-11-29 13:41:21.902 [DefaultDispatcher-worker-6 @request#102] DEBUG io.ktor.test - Unhandled: POST - /travel/create. Exception class io.ktor.server.plugins.BadRequestException: Failed to convert request body to class com.sharcar.api.dto.CreateTravelDto
io.ktor.server.plugins.BadRequestException: Failed to convert request body to class com.sharcar.api.dto.CreateTravelDto
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.convertBody(RequestConverter.kt:69)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.access$convertBody(RequestConverter.kt:1)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invokeSuspend(RequestConverter.kt:40)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invoke(RequestConverter.kt)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1$1.invoke(RequestConverter.kt)
	at io.ktor.server.application.OnCallReceiveContext.transformBody(KtorCallContexts.kt:64)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invokeSuspend(RequestConverter.kt:28)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invoke(RequestConverter.kt)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt$convertRequestBody$1.invoke(RequestConverter.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invokeSuspend(PluginBuilder.kt:165)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$3.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invokeSuspend(PluginBuilder.kt:109)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onCallReceive$2.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invokeSuspend(PluginBuilder.kt:217)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhase$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invokeSuspend(PluginBuilder.kt:200)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1$1.invoke(PluginBuilder.kt)
	at io.ktor.util.debug.ContextUtilsKt.addToContextInDebugMode(ContextUtils.kt:30)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invokeSuspend(PluginBuilder.kt:196)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invoke(PluginBuilder.kt)
	at io.ktor.server.application.PluginBuilder$onDefaultPhaseWithMessage$1$1.invoke(PluginBuilder.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.application.PipelineCall$DefaultImpls.receiveNullable(PipelineCall.kt:92)
	at io.ktor.server.routing.RoutingPipelineCall.receiveNullable(RoutingPipelineCall.kt:20)
	at io.ktor.server.routing.RoutingCall.receiveNullable(RoutingNode.kt:226)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invokeSuspend(TravelApi.kt:54)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invoke(TravelApi.kt)
	at com.sharcar.api.TravelApiKt$travelRoutes$1$1.invoke(TravelApi.kt)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invokeSuspend(RoutingNode.kt:116)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invoke(RoutingNode.kt)
	at io.ktor.server.routing.RoutingNode$buildPipeline$1$1.invoke(RoutingNode.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.routing.RoutingRoot$executeResult$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.routing.RoutingRoot.executeResult(RoutingRoot.kt:193)
	at io.ktor.server.routing.RoutingRoot.interceptor(RoutingRoot.kt:66)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invokeSuspend(RoutingRoot.kt:143)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invoke(RoutingRoot.kt)
	at io.ktor.server.routing.RoutingRoot$Plugin$install$1.invoke(RoutingRoot.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invokeSuspend(BaseApplicationEngine.kt:112)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invoke(BaseApplicationEngine.kt)
	at io.ktor.server.engine.BaseApplicationEngineKt$installDefaultTransformationChecker$1.invoke(BaseApplicationEngine.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.testing.TestApplicationEngine$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.testing.TestApplicationEngine$2.invokeSuspend(TestApplicationEngine.kt:222)
	at io.ktor.server.testing.TestApplicationEngine$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$1.invokeSuspend(TestApplicationEngine.kt:96)
	at io.ktor.server.testing.TestApplicationEngine$1.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$1.invoke(TestApplicationEngine.kt)
	at io.ktor.util.pipeline.DebugPipelineContext.proceedLoop(DebugPipelineContext.kt:79)
	at io.ktor.util.pipeline.DebugPipelineContext.proceed(DebugPipelineContext.kt:57)
	at io.ktor.util.pipeline.DebugPipelineContext.execute$ktor_utils(DebugPipelineContext.kt:63)
	at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:86)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invokeSuspend(Pipeline.kt:490)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2$invokeSuspend$$inlined$execute$1.invoke(Pipeline.kt)
	at io.ktor.util.debug.ContextUtilsKt.initContextInDebugMode(ContextUtils.kt:17)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invokeSuspend(TestApplicationEngine.kt:221)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invoke(TestApplicationEngine.kt)
	at io.ktor.server.testing.TestApplicationEngine$handleRequest$2.invoke(TestApplicationEngine.kt)
	at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndispatchedOrReturn(Undispatched.kt:42)
	at kotlinx.coroutines.BuildersKt__Builders_commonKt.withContext(Builders.common.kt:164)
	at kotlinx.coroutines.BuildersKt.withContext(Unknown Source)
	at io.ktor.server.testing.TestApplicationEngine.handleRequest$ktor_server_test_host(TestApplicationEngine.kt:186)
	at io.ktor.server.testing.TestApplicationEngine.handleRequest$ktor_server_test_host$default(TestApplicationEngine.kt:169)
	at io.ktor.server.testing.client.TestHttpClientEngine.runRequest(TestHttpClientEngine.kt:89)
	at io.ktor.server.testing.client.TestHttpClientEngine.execute(TestHttpClientEngine.kt:56)
	at io.ktor.server.testing.client.DelegatingTestClientEngine.execute(DelegatingTestClientEngine.kt:58)
	at io.ktor.server.testing.client.DelegatingTestClientEngine$execute$1.invokeSuspend(DelegatingTestClientEngine.kt)
	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:101)
	at kotlinx.coroutines.internal.LimitedDispatcher$Worker.run(LimitedDispatcher.kt:113)
	at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:89)
	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:589)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:823)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:720)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:707)
Caused by: io.ktor.serialization.JsonConvertException: Illegal input: Unexpected JSON token at offset 7: Encountered an unknown key 'id' at path: $
Use 'ignoreUnknownKeys = true' in 'Json {}' builder to ignore unknown keys.
JSON input: {
    "id": 1
}
	at io.ktor.serialization.kotlinx.KotlinxSerializationConverter.deserialize(KotlinxSerializationConverter.kt:77)
	at io.ktor.server.plugins.contentnegotiation.RequestConverterKt.convertBody(RequestConverter.kt:67)
	... 97 common frames omitted
Caused by: kotlinx.serialization.json.internal.JsonDecodingException: Unexpected JSON token at offset 7: Encountered an unknown key 'id' at path: $
Use 'ignoreUnknownKeys = true' in 'Json {}' builder to ignore unknown keys.
JSON input: {
    "id": 1
}
	at kotlinx.serialization.json.internal.JsonExceptionsKt.JsonDecodingException(JsonExceptions.kt:24)
	at kotlinx.serialization.json.internal.JsonExceptionsKt.JsonDecodingException(JsonExceptions.kt:32)
	at kotlinx.serialization.json.internal.AbstractJsonLexer.fail(AbstractJsonLexer.kt:580)
	at kotlinx.serialization.json.internal.AbstractJsonLexer.failOnUnknownKey(AbstractJsonLexer.kt:575)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.handleUnknown(StreamingJsonDecoder.kt:257)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeObjectIndex(StreamingJsonDecoder.kt:243)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeElementIndex(StreamingJsonDecoder.kt:178)
	at com.sharcar.api.dto.CreateTravelDto$$serializer.deserialize(CreateTravelDto.kt:5)
	at com.sharcar.api.dto.CreateTravelDto$$serializer.deserialize(CreateTravelDto.kt:5)
	at kotlinx.serialization.json.internal.StreamingJsonDecoder.decodeSerializableValue(StreamingJsonDecoder.kt:69)
	at kotlinx.serialization.json.Json.decodeFromString(Json.kt:165)
	at io.ktor.serialization.kotlinx.KotlinxSerializationConverter.deserialize(KotlinxSerializationConverter.kt:69)
	... 98 common frames omitted
2024-11-29 13:41:21.903 [DefaultDispatcher-worker-6 @request#102] TRACE i.k.s.p.c.ContentNegotiation - Skipping response body transformation from HttpStatusCode to OutgoingContent for the POST /travel/create request because the HttpStatusCode type is ignored. See [ContentNegotiationConfig::ignoreType].
2024-11-29 13:41:21.903 [DefaultDispatcher-worker-1] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/create
2024-11-29 13:41:21.903 [DefaultDispatcher-worker-1] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/create
2024-11-29 13:41:21.911 [DefaultDispatcher-worker-1] TRACE i.k.c.p.c.ContentNegotiation - Adding Accept=application header for http:///travel/swapTravel
2024-11-29 13:41:21.912 [DefaultDispatcher-worker-1] TRACE i.k.c.p.c.ContentNegotiation - Converted request body using io.ktor.serialization.kotlinx.KotlinxSerializationConverter@6e0acb0b for http:///travel/swapTravel
2024-11-29 13:41:21.912 [DefaultDispatcher-worker-1] TRACE i.ktor.client.plugins.HttpPlainText - Adding Accept-Charset=UTF-8 to http:///travel/swapTravel
2024-11-29 13:41:21.912 [DefaultDispatcher-worker-1] TRACE i.k.c.plugins.defaultTransformers - Transformed with default transformers request body for http:///travel/swapTravel from class io.ktor.http.content.TextContent
2024-11-29 13:41:21.913 [DefaultDispatcher-worker-1 @call-context#111] INFO  io.ktor.test - No ktor.deployment.watch patterns specified, automatic reload is not active.
2024-11-29 13:41:21.914 [DefaultDispatcher-worker-1 @call-context#111] INFO  io.ktor.test - Application started in 0.001 seconds.
2024-11-29 13:41:21.914 [DefaultDispatcher-worker-3 @coroutine#112] INFO  io.ktor.test - Responding at http://localhost:80
2024-11-29 13:41:21.914 [DefaultDispatcher-worker-3 @coroutine#112] INFO  io.ktor.test - Responding at https://localhost:443
2024-11-29 13:41:21.915 [DefaultDispatcher-worker-1 @request#111] TRACE io.ktor.server.routing.Routing - Trace for [travel, swapTravel]
/, segment:0 -> SUCCESS @ /
  /travel, segment:1 -> SUCCESS @ /travel
    /travel/create, segment:1 -> FAILURE "Selector didn't match" @ /travel/create
    /travel/addPassenger, segment:1 -> FAILURE "Selector didn't match" @ /travel/addPassenger
    /travel/swapTravel, segment:2 -> SUCCESS @ /travel/swapTravel
      /travel/swapTravel/(method:POST), segment:2 -> SUCCESS @ /travel/swapTravel/(method:POST)
Matched routes:
  "" -> "travel" -> "swapTravel" -> "(method:POST)"
Routing resolve result:
  SUCCESS @ /travel/swapTravel/(method:POST)
2024-11-29 13:41:21.915 [DefaultDispatcher-worker-1 @request#111] TRACE i.k.server.engine.DefaultTransform - No Default Transformations found for class io.ktor.utils.io.SourceByteReadChannel and expected type TypeInfo(com.sharcar.api.dto.SwapTravelDto) for call /travel/swapTravel
2024-11-29 13:41:21.916 [DefaultDispatcher-worker-1 @request#111] INFO  io.ktor.test - Swapping travel 2 to 1
2024-11-29 13:41:21.916 [DefaultDispatcher-worker-1 @request#111] INFO  io.ktor.test - Swapping travel 2 to 1 was true
2024-11-29 13:41:21.918 [DefaultDispatcher-worker-5] TRACE i.k.client.plugins.HttpCallValidator - Validating response for request http://localhost/travel/swapTravel
2024-11-29 13:41:21.918 [DefaultDispatcher-worker-5] TRACE i.k.c.p.DefaultResponseValidation - Skipping default response validation for http://localhost/travel/swapTravel
2024-11-29 13:41:21.919 [DefaultDispatcher-worker-5] TRACE i.k.c.p.c.ContentNegotiation - Response body was converted to class com.sharcar.domain.usecases.model.SwapTravelToNewOneResult for http://localhost/travel/swapTravel.
